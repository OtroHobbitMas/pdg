{"version":3,"sources":["webpack:///src/app/services/book.service.ts","webpack:///src/app/pages/private/my-books/my-books.component.html","webpack:///src/app/pages/private/my-books/my-books.component.ts","webpack:///fs (ignored)","webpack:///canvas (ignored)","webpack:///zlib (ignored)","webpack:///http (ignored)","webpack:///https (ignored)","webpack:///src/app/pages/public/tags/tags.component.html","webpack:///src/app/pages/public/tags/tags.component.ts","webpack:///url (ignored)","webpack:///src/app/shared/guards/custom-validators.ts","webpack:///src/environments/environment.ts","webpack:///src/app/pipes/filter.pipe.ts","webpack:///src/app/pages/private/navigation-bar/navigation-bar.component.ts","webpack:///src/app/pages/private/navigation-bar/navigation-bar.component.html","webpack:///src/app/pages/public/register/register.component.html","webpack:///src/app/pages/public/register/register.component.ts","webpack:///src/app/pages/private/external-profiles/external-profiles.component.html","webpack:///src/app/pages/private/external-profiles/external-profiles.component.ts","webpack:///src/app/pages/public/login/login.component.ts","webpack:///src/app/pages/public/login/login.component.html","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/pages/private/file-upload/file-upload.component.ts","webpack:///src/app/pages/private/file-upload/file-upload.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/pages/private/home/home.component.html","webpack:///src/app/pages/private/home/home.component.ts","webpack:///src/app/pages/private/book-pdf/book-pdf.component.html","webpack:///src/app/pages/private/book-pdf/book-pdf.component.ts","webpack:///src/app/pages/private/profile/profile.component.html","webpack:///src/app/pages/private/profile/profile.component.ts","webpack:///src/app/pipes/filter-tags.pipe.ts","webpack:///src/app/services/tag.service.ts","webpack:///src/app/services/auth.service.ts","webpack:///src/app/pages/private/group/group.component.html","webpack:///src/app/pages/private/group/group.component.ts","webpack:///src/app/pages/private/footer/footer.component.ts","webpack:///src/app/pages/private/footer/footer.component.html","webpack:///src/app/services/user.service.ts","webpack:///src/app/services/chat.service.ts","webpack:///src/app/pipes/filter-external-profiles.pipe.ts","webpack:///src/app/app-routing.module.ts","webpack:///src/app/pages/private/book-chat/book-chat.component.ts","webpack:///src/app/pages/private/book-chat/book-chat.component.html","webpack:///src/main.ts","webpack:///$_lazy_route_resource lazy namespace object"],"names":["BookService","firebase","bookList","list","tagkey","$key","console","log","database","ref","child","remove","providedIn","MyBooksComponent","router","_config","authService","misLibrosList","setTimeout","getMisLibros","i","navigate","Pag","title","Titulo","url","alink","group","currentUser","Email","email","once","users","usersData","val","user","Object","keys","forEach","key","MisLibros","push","selector","templateUrl","styleUrls","TagsComponent","tagService","toastr","tagsList","tagsListNew","tagsValidate","validate","tags","searchBoxTag","Key","confirm","contador","name","$this","UserAcount","getTags","snapshotChanges","subscribe","item","element","x","payload","toJSON","map","length","Categoria","validateTags","onAuthStateChanged","providerData","profile","index","split","query","query2","query3","tag","document","querySelector","container","keytag","Tags","textContent","childKey","childData","info","MisTags","TagsChildKey","TagsChildData","error","value","Tag","success","image","src","arr","j","goToProfile","CustomValidators","regex","control","valid","test","password","get","confirmPassword","setErrors","NoPassswordMatch","environment","production","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","AngularFireAuthGuard","FilterPipe","args","resultSearchBox","post","Title","toLowerCase","indexOf","Autor","NavigationBarComponent","isCollapsed","logout","goToHome","goToExternalProfiles","doLogout","RegisterComponent","userService","formBuilder","separateDialCode","SearchCountryField","TooltipLabel","CountryISO","register","ngForm","lname","telefono","preferredCountries","UnitedStates","UnitedKingdom","phoneForm","phone","undefined","required","countEstad","count","countSett","countGroup","countImageGroup","createSignupForm","India","Canada","compose","minLength","validator","passwordMatchValidator","getRegister","registerList","controls","emailExist","find","phoneExist","e164Number","positionClass","createUserWithEmailAndPassword","then","insertRegister","errorCode","code","errorMessage","message","signInWithEmailAndPassword","addcontact","style","left","areaEstados","DesplegableLeftMore","opacity","transform","newGroupContainer","updateImageGroup","onSubmit","ExternalProfilesComponent","firebaseAuth","filter","route","imgUser","registerListNew","viewProfile","susTagsList","susLibrosList","correoExternoUser","UserName","UserLastName","FulName","correoExt","Currentimg","searchBoxExternal","mensaje","values","splice","getImgUsers","call","snapshot","paramMap","viewExternalProfile","arrList","entries","Images","ImgUrl","entriesDescipcion","Descripcion","correoAmigo","correoAmigoText","nombreAmigo","nombreAmigoText","imagenAmigo","imagenAmigoSrc","Amigos","misAmigos","misAmigosChildKey","misAmigosChildData","Contacto","NombreAmigo","ImagenAmigo","Description","pruebakey","keyTAGS","DescriptionText","DescriptionChildKey","DescriptionChildData","CurrentDescription","Imagen","nameInput","innerHTML","DescripcionValue","LoginComponent","signupForm","signupEmail","signupPassword","emailRegexp","RegExp","match","userExist","findByPhone","data","exists","exportVal","login","usuarioNoRegistrado","doLogin","goToRegister","AppComponent","FileUploadComponent","storage","fileUrlEmitter","imgUrlEmitter","event","isHovering","file","path","Date","getTime","customMetadata","app","task","upload","percentage","percentageChanges","pipe","downloadURL","getDownloadURL","fileURL","emit","imgUrl","imgURL","state","bytesTransferred","totalBytes","toggleHover","startUpload","AppModule","initializeApp","forRoot","timeOut","preventDuplicates","declarations","imports","providers","bootstrap","HomeComponent","bookService","FormAdd","Numbercontact","Namecontact","subscriptionList","connection","msgs","searchBoxHome","bookComents","bookTags","macthRecomended","booksList","booksListGroup","arrTagsBooks","groupList","ngFormLibro","imagen","titulo","autor","getMyGroupsAndBooks","getGroups","getBooks","callTags","coments","lista","activate","getElementById","display","nombreLibro","comentario","Comment","User","activateComent","entriesBooks","Groups","category","groupName","books","bookComentLocal","Comentarios","Portada","Libros","LibrosChildKey","LibrosChildData","booksinGroup","groupValue","keygroup","ContactName","ContactNumber","reset","getBooksByTag","BookPDFComponent","chatService","newMgs","pageUpdate","isGroup","showFiller","msgForm","pag","initChat","epubViewer","openLink","connect","_","getNewMsgs","msg","book","getChangePage","page","nextPage","previousPage","pageInfo","savePage","sendpageChange","img","getUserImg","content","time","now","toString","sendMsg","setValue","orderByChild","equalTo","limitToLast","userKey","bookKeys","currentpage","set","groupKey","btnDisplay","ProfileComponent","filterpipe","misTagsList","misAmigosList","keyOrdenList","KeyUSER","keyOrdenAmigosList","keyOrdenBooksList","misGroupsList","ngFormProfile","descripcion","archieveGroups","getMisAmigos","getMisGrupos","list2","UpdatePerfilPhoto","getNameUser","getDescriptionUser","getMisTags","fileUrl","SendImage","Mail","ImagesChildKey","ImagesChildData","Photoimg","concat","Descript","TagChildKey","TagChildData","cont","deleteTag","warning","deleteBooks","deleteEmail","myKey","friendKey","deleteFriends","updateUsername","variable","getImg","SendDescription","goToTags","FilterTagsPipe","TagService","AuthService","signOut","GroupComponent","amigosList","amigosEmails","selectedGroup","selectedIntegrants","selectedTags","permisoVisual","permisoAdd","permisoAdmin","myGroups","librosGrupo","openedGruop","desaparecerBoton","viewCreateGroup","firstPage","viewsearchGroup","nextImage","viewInsideGroup","owner","photoimg","description","integrants","privacity","getImgGroups","getMygroups","getAmigos","viewExternalGroup","nombreGrupo","updateDescripcionGroup","keyTodelete","userName","deleteGroups","integrantes","nombre","estoy","activeUser","temp","entriesIntegrants","nameOwner","MisAmigos","AmigosChildKey","AmigosChildData","integrante","id","MisGrupos","MisgruposChildKey","GroupsChildKey","GroupsChildData","Keygroup","integrant","deleteIntegrant","nameExist","keyIntegrants","createGroup","keyOwner","keyGroup","groups","FooterComponent","goToBook","goToGroups","UserService","collection","subCollectionPhone","groupsList","numero","ChatService","observer","socket","transports","on","next","disconnect","FilterExternalProfilesPipe","redirectUnauthorizedToLogin","redirectAuthorizedToHome","routes","component","canActivate","authGuardPipe","redirectTo","AppRoutingModule","exports","BookChatComponent","bootstrapModule","err","webpackEmptyAsyncContext","req","Promise","resolve","e","Error","module"],"mappings":"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","file":"main-es5.js","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { AngularFireDatabase, AngularFireList } from '@angular/fire/database';\r\nimport * as firebase from 'firebase';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class BookService {\r\n\r\n  bookList:  AngularFireList<any>;\r\n\r\n  constructor(private firebase: AngularFireDatabase) { }\r\n\r\n  getBooks()\r\n  {\r\n    this.bookList = this.firebase.list('books');\r\n    return this.bookList;\r\n  }\r\n\r\n  \r\n\r\n  deleteBooks(tagkey: string,$key: string)\r\n  {\r\n    console.log(\"delete $key\");\r\n    console.log(tagkey);\r\n    this.firebase.database.ref(\"register\").child($key).child(\"MisLibros\").child(tagkey).remove();\r\n  }\r\n\r\n}\r\n","<app-navigation-bar></app-navigation-bar>\n\n<div class=\"container\">\n    <div class=\"librosContainer\">\n\n        <h1 class=\"name\" style=\"margin-top: 40px;\">Mis Libros</h1>\n    \n        <ngb-carousel>\n            <ng-template *ngFor=\"let misLibros of misLibrosList; let i = index\" id=\"{{'mislibros'+i}}\" ngbSlide>\n                <div >\n                    <div (click)=goToBook(i) class=\"picsum-img-wrapper\">\n                        <img class=\"portadaImg\" id=\"{{'imagen'+i}}\" [src]=\"misLibros.Imagen\" alt=\"Random first slide\">\n    \n                    </div>\n                    <div class=\"carousel-caption\" style=\"z-index: 0;\">\n                        <h3 id=\"{{'titulo'+i}}\" align=\"center\">{{misLibros.Titulo}}</h3>\n                        <p id=\"{{'autor'+i}}\" align=\"center\" style=\"margin-bottom:10px\">{{misLibros.Autor}}</p>\n                    </div>\n                </div>\n            </ng-template>\n        </ngb-carousel>\n    </div>\n    \n</div>\n\n<app-footer></app-footer>\n","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from \"src/app/services/auth.service\";\nimport * as firebase from \"firebase\";\nimport { AngularFireDatabase, AngularFireList } from \"@angular/fire/database\";\nimport { NgbCarouselConfig } from \"@ng-bootstrap/ng-bootstrap\";\nimport { Router } from '@angular/router';\n\n\n@Component({\n  selector: 'app-my-books',\n  templateUrl: './my-books.component.html',\n  styleUrls: ['./my-books.component.scss']\n})\nexport class MyBooksComponent implements OnInit {\n\n  constructor( private router:Router, private _config: NgbCarouselConfig, public authService: AuthService, private firebase: AngularFireDatabase) { \n\n  }\n\n  ngOnInit(): void {\n  }\n  \n  ngAfterViewInit(){\n    setTimeout(() => {this.getMisLibros();\n      \n  \n    }, 500);\n    \n\n  }\n\n  goToBook(i: string) {\n    // console.log(this.misLibrosList[i]);\n    // console.log(this.misLibrosList[i].link);\n    this.router.navigate(['/book',{Pag: this.misLibrosList[i].Pag, title: this.misLibrosList[i].Titulo,url: this.misLibrosList[i].alink,group:\"\"}]);\n  }\n\n\n  misLibrosList: any[] = [];\n\n  async getMisLibros() {\n    console.log(\"USER\",firebase.auth().currentUser);\n    const Email = firebase.auth().currentUser.email;\n    console.log(\"EMAIL\",Email);\n\n    await this.firebase.database.ref(\"register\").once(\"value\", (users) => {\n      let usersData = users.val();\n      let user;\n      Object.keys(usersData).forEach((key) => {\n        if (usersData[key].email == Email) {\n          user = usersData[key];\n        }\n      });\n      if (user.MisLibros) {\n        Object.keys(user.MisLibros).forEach((key) => {\n          this.misLibrosList.push(user.MisLibros[key]);\n        });\n      }  \n    });\n    console.log(\"MIS LIBROS\",this.misLibrosList);\n  }\n\n}\n","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","<app-navigation-bar></app-navigation-bar>\r\n\r\n<input type=\"text\" name=\"searchBoxTag\" placeholder=\"Buscar ...\" [(ngModel)]=\"searchBoxTag\">\r\n<div class=\"container\" >\r\n    <label style=\"color: #205493; font-weight: bold; font-size: large; font-family: Helvetica; margin-bottom: 10px;\">Agrega Tags de tus Intereses</label>\r\n        <div *ngFor=\"let tags of tagsListNew | filterTags:searchBoxTag ; let i = index\">\r\n\r\n            <input type=\"hidden\" id=\"{{'key'+i}}\">    \r\n \r\n            <div class=\"tagscont form-row\">\r\n                <img (click)=\"sendTags('categoria-'+i)\" id=\"{{'tags'+i}}\"  src=\"../../../../assets/img/addImg.svg\" alt=\"tag\" class=\"tagImg\">\r\n                <h1 style=\"font-size: medium; line-height: 42px; margin-left: 10px;\" (click)=\"sendTags('categoria-'+i)\" id=\"{{'categoria'+i}}\" align=\"center\" >{{tags.Categoria}}</h1>\r\n            </div>\r\n        </div>\r\n        <button (click)=\"goToProfile()\" class=\"button is-info\" style=\"width: 50%;\">\r\n            Continuar\r\n        </button>\r\n\r\n</div> \r\n\r\n<app-footer></app-footer>","import { Component, OnInit} from '@angular/core';\r\nimport { AngularFireDatabase } from '@angular/fire/database';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { Router } from '@angular/router';\r\nimport * as firebase from \"firebase\";\r\nimport { TagService } from 'src/app/services/tag.service';\r\nimport { User } from 'src/app/models/user';\r\n\r\n \r\n\r\n@Component({\r\n  selector: 'app-tags',\r\n  templateUrl: './tags.component.html',\r\n  styleUrls: ['./tags.component.scss']\r\n})\r\nexport class TagsComponent implements OnInit {\r\n\r\n  tagsList: any[] = [];\r\n  tagsListNew: any[] = [];\r\n  tagsValidate: any[] = [];\r\n  validate: any[] = [];\r\n  tags: any[] = [];\r\n  searchBoxTag= ''; \r\n  Key = '';\r\n  confirm: any = false;\r\n  contador: number= 0;\r\n  name = '';\r\n  \r\n\r\n  constructor(\r\n    private tagService: TagService,\r\n    private router: Router,\r\n    private firebase: AngularFireDatabase,\r\n    private toastr: ToastrService) { }\r\n\r\n    goToHome() {\r\n      this.router.navigate(['/home']);\r\n    }\r\n\r\n    goToProfile() {\r\n      this.router.navigate(['/profile']);\r\n    }\r\n  \r\n\r\n  ngOnInit(): void {\r\n    let $this = this;\r\n    this.UserAcount();\r\n    console.log(this.tagService.getTags());\r\n    this.tagService.getTags()    \r\n      .snapshotChanges().subscribe(item => {\r\n        this.tagsList = [];\r\n        item.forEach(element => {\r\n          let x = element.payload.toJSON();\r\n          x[\"$key\"] = element.key;\r\n          this.tagsList.push(x as User);\r\n        });\r\n        this.tagsList = Object.keys(this.tagsList[0]).map((key) => [this.tagsList[0][key]]);\r\n        for (let i = 0; i < this.tagsList.length; i++) {\r\n          this.tagsListNew.push({Categoria: this.tagsList[i][0]});     \r\n        }\r\n        for (let i = 0; i < this.tagsList.length; i++) {\r\n          this.validate.push(this.tagsList[i][0]);     \r\n        }        \r\n        console.log(this.tagsList);\r\n        setTimeout(function(){ $this.validateTags(); }, 500);\r\n      });\r\n      \r\n  }\r\n\r\n  UserAcount() {\r\n    // var user = this.firebaseAuth.auth.currentUser;\r\n    let $this = this;\r\n    firebase.auth().onAuthStateChanged(function (user) {\r\n      if (user) {\r\n        // User is signed in.\r\n\r\n        if (user != null) {\r\n          user.providerData.forEach(function (profile) {\r\n            // console.log(\"Sign-in provider: \" + profile.providerId);\r\n            // console.log(\"  Provider-specific UID: \" + profile.uid);\r\n            // console.log(\"  Name: \" + profile.displayName);\r\n            // console.log(\"  Email: \" + profile.email);\r\n            // console.log(\"  Phone Number: \" + profile.photoURL);\r\n          });\r\n        }\r\n        // console.log(user);\r\n      } else {\r\n        // No user is signed in.\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n  //-----------------------------------------------------Start Send tags------------------------------------------\r\n  async sendTags (i){\r\n    let index = i.split(\"-\");\r\n    let query: string = \"#categoria\"+index[1];\r\n    let query2: string = \".tagscont\";\r\n    let query3: string = \"#key\"+index[1];\r\n    let tag: any = document.querySelector(query);\r\n    let container: any = document.querySelector(query2);\r\n    let keytag: any = document.querySelector(query3);\r\n    let Tags = tag.textContent;\r\n    this.name = Tags;   \r\n    \r\n    if(Tags != ''){\r\n            \r\n      const Email = firebase.auth().currentUser.email;\r\n      await this.firebase.database.ref(\"register\").once(\"value\", (users) => {\r\n        users.forEach((user) => {\r\n          // console.log(\"entre nivel1\");\r\n          const childKey = user.key;\r\n          const childData = user.val();\r\n          if (childData.email == Email) {\r\n            this.Key = childKey;\r\n            user.forEach((info) => {\r\n              info.forEach((MisTags) => {\r\n                MisTags.forEach((Tags) => {\r\n                  const TagsChildKey = Tags.key;\r\n                  const TagsChildData = Tags.val();\r\n                if (TagsChildKey == \"Tag\"){\r\n                  if (TagsChildData == this.name){\r\n                    this.tags.push(TagsChildData);\r\n                  }\r\n                }\r\n                });\r\n                \r\n              });\r\n            });\r\n          }        \r\n        });\r\n      });\r\n\r\n      for (let i = 0; i < this.tags.length; i++) {\r\n        if (this.tags[i]==Tags){\r\n          this.contador ++;\r\n        }        \r\n      }\r\n      if (this.contador==0){\r\n        this.confirm = true;\r\n      } else {\r\n        this.toastr.error('El tag ya se encuentra en tu lista', 'Fallido');\r\n      }\r\n      if (this.confirm == true){\r\n\r\n        if(keytag.value == null || keytag.value == \"\"){\r\n          \r\n          this.firebase.database.ref(\"register\").child(this.Key).child(\"Tags\").push({\r\n            Tag: Tags\r\n          });\r\n          this.toastr.success('Tag '+Tags+' agregado', 'Exitosamente');\r\n          let query2: string = \"#tags\"+index[1];\r\n          let image: any = document.querySelector(query2);\r\n          image.src = \"../../../../assets/img/checkIcon.svg\";   \r\n        } \r\n        // else{\r\n        //   this.productService.updateProduct(productForm.value);\r\n        // }\r\n           \r\n        // container.style.display = 'none';\r\n      }      \r\n    }\r\n    this.confirm = false;\r\n    this.contador = 0;\r\n    this.tags= [];\r\n  }\r\n  //-----------------------------------------------------END Send tags------------------------------------------\r\n\r\n  async validateTags (){   \r\n      const Email = firebase.auth().currentUser.email;\r\n      await this.firebase.database.ref(\"register\").once(\"value\", (users) => {\r\n        users.forEach((user) => {\r\n          // console.log(\"entre nivel1\");\r\n          const childKey = user.key;\r\n          const childData = user.val();\r\n          if (childData.email == Email) {\r\n            this.Key = childKey;\r\n            user.forEach((info) => {\r\n              info.forEach((MisTags) => {\r\n                MisTags.forEach((Tags) => {\r\n                  const TagsChildKey = Tags.key;\r\n                  const TagsChildData = Tags.val();\r\n                if (TagsChildKey == \"Tag\"){\r\n                  this.tagsValidate.push(TagsChildData);                  \r\n                }\r\n                });\r\n                \r\n              });\r\n            });\r\n          }        \r\n        });\r\n      });\r\n\r\n      let arr: any[] = [];\r\n      for (let i = 0; i < this.validate.length; i++) {\r\n        for (let j = 0; j < this.tagsValidate.length; j++) {\r\n          if (this.validate[i]==this.tagsValidate[j]){\r\n            let query2: string = \"#tags\"+i;\r\n            let image: any = document.querySelector(query2);\r\n            console.log(\"image\");\r\n            console.log(image);\r\n            image.src = \"../../../../assets/img/checkIcon.svg\"; \r\n          }\r\n                 \r\n        }\r\n        \r\n      }\r\n  }\r\n\r\n}\r\n","/* (ignored) */","import { AbstractControl, ValidationErrors, ValidatorFn } from '@angular/forms';\r\n\r\n\r\nexport class CustomValidators {\r\n\r\n    static patternValidator(regex: RegExp, error: ValidationErrors): ValidatorFn {\r\n        return (control: AbstractControl): { [key: string]: any } => {\r\n          if (!control.value) {\r\n            // if control is empty return no error\r\n            return null;\r\n          }\r\n      \r\n          // test the value of the control against the regexp supplied\r\n          const valid = regex.test(control.value);\r\n      \r\n          // if true, return no error (no error), else return error passed in the second parameter\r\n          return valid ? null : error;\r\n        };\r\n      }\r\n\r\n      static passwordMatchValidator(control: AbstractControl) {\r\n        const password: string = control.get('password').value; // get password from our password form control\r\n        const confirmPassword: string = control.get('confirmPassword').value; // get password from our confirmPassword form control\r\n        // compare is the password math\r\n        if (password !== confirmPassword) {\r\n          // if they don't match, set an error in our confirmPassword form control\r\n          control.get('confirmPassword').setErrors({ NoPassswordMatch: true });\r\n        }\r\n      }\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nimport { AngularFireAuthGuard, redirectLoggedInTo, redirectUnauthorizedTo } from '@angular/fire/auth-guard';\r\n\r\nexport const environment = {\r\n  production: false,\r\n  firebase: {\r\n      apiKey: \"AIzaSyCIR3JiUZvA-GQ6lPjWS3BRRgWc9u8RJZM\",\r\n      authDomain: \"tesisredsocial-be58f.firebaseapp.com\",\r\n      databaseURL: \"https://tesisredsocial-be58f-default-rtdb.firebaseio.com\",\r\n      projectId: \"tesisredsocial-be58f\",\r\n      storageBucket: \"tesisredsocial-be58f.appspot.com\",\r\n      messagingSenderId: \"348716640893\",\r\n      appId: \"1:348716640893:web:9f290665f9500eb053df14\",\r\n      measurementId: \"G-S0D67JZESZ\"\r\n  }\r\n  ,AngularFireAuthGuard\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'filter'\r\n})\r\nexport class FilterPipe implements PipeTransform {\r\n\r\n  transform(value: any, args: any): any {\r\n    if (args === '') {\r\n      return value;\r\n    }\r\n    const resultSearchBox = [];\r\n    for (const post of value) {\r\n      if (post.Title.toLowerCase().indexOf(args.toLowerCase()) > -1 || post.Autor.toLowerCase().indexOf(args.toLowerCase()) > -1){\r\n        resultSearchBox.push(post);\r\n      }      \r\n    }\r\n    return resultSearchBox;\r\n  }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService } from 'src/app/services/auth.service';\r\n\r\n@Component({\r\n  selector: 'app-navigation-bar',\r\n  templateUrl: './navigation-bar.component.html',\r\n  styleUrls: ['./navigation-bar.component.scss']\r\n})\r\nexport class NavigationBarComponent implements OnInit {\r\n\r\n  public isCollapsed=true;\r\n  \r\n  constructor(private router:Router,public authService: AuthService) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  async  doLogout() {\r\n    await this.authService.logout();\r\n    this.router.navigate(['/']);\r\n  }\r\n\r\n  // goToProfile() {\r\n  //   this.router.navigate(['/profile']);\r\n  // }\r\n\r\n\r\n\r\n  goToProfile() {\r\n    this.router.navigate(['/profile']);\r\n  }\r\n\r\n  goToHome() {\r\n    this.router.navigate(['/home']);\r\n  }\r\n\r\n  goToAutors() {\r\n    // this.router.navigate(['/home']);  \r\n    console.log(\"aquí van los autores\");\r\n  }\r\n\r\n\r\n  goToGroups() {\r\n    this.router.navigate(['/groups']);\r\n  }\r\n\r\n  goToExternalProfiles() {\r\n    this.router.navigate(['/externalProfiles']);\r\n  }\r\n}\r\n","\r\n<nav class=\"navbar navbar-expand-lg navbar-dark fixed-top\" id=\"navbar\">\r\n    <a class=\"navbar-brand\" id=\"logo\" href=\"#\">\r\n        <img src=\"../../../../assets/img/Logo - Blanco.svg\" width=\"30\" height=\"30\" alt=\"\">\r\n        Read2gether\r\n    </a>\r\n    <button class=\"navbar-toggler\" id=\"toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\"\r\n        aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\" >\r\n        <span class=\"navbar-toggler-icon navbar-light\"></span>\r\n    </button>\r\n\r\n    <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\" style=\"margin-bottom: 10px;\">\r\n        <ul class=\"navbar-nav mr-auto\">\r\n            <li class=\"nav-item\">\r\n                <a (click)=\"goToHome()\" id=\"item\">\r\n                    <img class=\"logoItem\" src=\"../../../../assets/img/home.svg\" width=\"30\" height=\"30\" alt=\"\">\r\n                   Inicio\r\n                </a>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n                <a (click)=\"goToHome()\" id=\"item\">\r\n                    <img class=\"logoItem\" src=\"../../../../assets/img/open-book-white.svg\" width=\"30\" height=\"30\" alt=\"\">\r\n                   Libros\r\n                </a>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n                <a (click)=\"goToExternalProfiles()\" id=\"item\">\r\n                    <img class=\"logoItem\" src=\"../../../../assets/img/group.svg\" width=\"30\" height=\"30\" alt=\"\">\r\n                   Amigos\r\n                </a>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n                <a (click)=\"goToProfile()\" id=\"item\">\r\n                    <img class=\"logoItem\" src=\"../../../../assets/img/user.svg\" width=\"30\" height=\"30\" alt=\"\">\r\n                   Perfil\r\n                </a>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n                <a (click)=\"doLogout()\" id=\"item\">\r\n                    <img class=\"logoItem\" src=\"../../../../assets/img/logout.svg\" width=\"30\" height=\"30\" alt=\"\">\r\n                    Cerrar Sesión\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <!-- <form class=\"form-inline my-2 my-lg-0\">\r\n            <input class=\"form-control mr-sm-2\" type=\"search\" placeholder=\"Search\" aria-label=\"Search\">\r\n            <button class=\"btn btn-outline-success my-2 my-sm-0\" type=\"submit\">Search</button>\r\n        </form> -->\r\n    </div>\r\n</nav>","<link href=\"https://fonts.googleapis.com/icon?family=Material+Icons\" rel=\"stylesheet\" />\r\n\r\n<div class=\"appContainer\">\r\n\r\n  <div class=\"logoContainer\">\r\n    <div class=\"text\">\r\n      Register\r\n    </div>\r\n\r\n    <div class=\"logo\">\r\n      <img src=\"../../../../assets/img/Logo - Azul.svg\" alt=\"\">\r\n    </div>\r\n\r\n    <div class=\"text\">\r\n      Read2gether\r\n    </div>\r\n  </div>\r\n  \r\n  <div class=\"box\">\r\n    <article class=\"media\">\r\n      <div class=\"media-content\">\r\n        <div class=\"content\">\r\n\r\n           \r\n          <form [formGroup]=\"ngForm\" >\r\n\r\n            <label for=\"name\" [ngClass]=\"ngForm.controls['name'].invalid ? 'text-danger' : 'text-success'\">Nombre</label>\r\n            <div class=\"field\">\r\n              <p class=\"control has-icons-left\">\r\n                <input class=\"input\" formControlName=\"name\" type=\"text\" placeholder=\"Name\" [ngClass]=\"ngForm.controls['name'].invalid ? 'is-invalid' : 'success'\" required>\r\n                <span class=\"icon is-small is-left\">\r\n                  <i class=\"fas fa-lock\"></i>\r\n                </span>\r\n              </p>\r\n            </div>\r\n\r\n            <label for=\"lname\" [ngClass]=\"ngForm.controls['lname'].invalid ? 'text-danger' : 'text-success'\">Apellido</label>\r\n            <div  class=\"field\">\r\n              <p class=\"control has-icons-left\">\r\n                <input  class=\"input\" type=\"text\" formControlName=\"lname\"  placeholder=\"Last Name\" [ngClass]=\"ngForm.controls['lname'].invalid ? 'is-invalid' : 'success'\" required>\r\n                <span class=\"icon is-small is-left\">\r\n                  <i class=\"fas fa-lock\"></i>\r\n                </span>\r\n              </p>\r\n            </div>\r\n\r\n            \r\n            <label for=\"telefono\" [ngClass]=\"ngForm.controls['telefono'].invalid ? 'text-danger' : 'text-success'\">Telefono</label>\r\n            <div class=\"field\">\r\n              <p class=\"control has-icons-left\">\r\n                \r\n                \r\n                <!-- <input class=\"input\" formControlName=\"telefono\" type=\"text\"  placeholder=\"Phone Number\" [ngClass]=\"ngForm.controls['telefono'].invalid ? 'is-invalid' : 'success'\" required> -->\r\n                <ngx-intl-tel-input [cssClass]=\"'custom'\"\r\n                  [enableAutoCountrySelect]=\"true\"\r\n                  [enablePlaceholder]=\"true\"\r\n                  [searchCountryFlag]=\"true\"\r\n                  [searchCountryField]=\"[SearchCountryField.Iso2, SearchCountryField.Name]\"\r\n                  [selectFirstCountry]=\"false\"\r\n                  [selectedCountryISO]=\"CountryISO.Colombia\"\r\n                  [maxLength]=\"15\"\r\n                  [tooltipField]=\"TooltipLabel.Name\"\r\n                  [phoneValidation]=\"true\"\r\n                  [separateDialCode]=\"true\"\r\n                  formControlName=\"telefono\"\r\n                  [ngClass]=\"ngForm.controls['telefono'].invalid ? 'is-invalid' : 'success'\">\r\n                </ngx-intl-tel-input>\r\n                \r\n                <span class=\"icon is-small is-left\">\r\n                  <i class=\"fas fa-lock\"></i>\r\n                </span>\r\n              </p>\r\n            </div>\r\n\r\n            <label for=\"email\" [ngClass]=\"ngForm.controls['email'].invalid ? 'text-danger' : 'text-success'\">Correo</label>\r\n            <div class=\"field\">\r\n              <p class=\"control has-icons-left has-icons-right\">\r\n                <input class=\"input\" type=\"email\" formControlName=\"email\" placeholder=\"Email Address\" [ngClass]=\"ngForm.controls['email'].invalid ? 'is-invalid' : 'success'\" required>\r\n                <span class=\"icon is-small is-left\">\r\n                  <i class=\"fas fa-envelope\"></i>\r\n                </span>\r\n                <span class=\"icon is-small is-right\">\r\n                  <i class=\"fas fa-check\"></i>\r\n                </span>\r\n              </p>\r\n            </div>\r\n           \r\n            <label for=\"password\" [ngClass]=\"ngForm.controls['password'].invalid ? 'text-danger' : 'text-success'\">Contraseña</label>\r\n            <div class=\"field\">\r\n              <p class=\"control has-icons-left\">\r\n                <input class=\"input\" type=\"password\" formControlName=\"password\"  placeholder=\"Password\" [ngClass]=\"ngForm.controls['password'].invalid ? 'is-invalid' : 'success'\" required>\r\n                <span class=\"icon is-small is-left\">\r\n                  <i class=\"fas fa-lock\"></i>\r\n                </span>\r\n              </p>\r\n            </div>\r\n            <label class=\"col\" [ngClass]=\"ngForm.controls['password'].hasError('required') || ngForm.controls['password'].hasError('minlength')  ? 'text-danger' : 'text-success'\">\r\n              <i class=\"material-icons\">{{ ngForm.controls['password'].hasError('required') ||\r\n                ngForm.controls['password'].hasError('minlength') ? 'cancel' :\r\n                'check_circle' }}</i>\r\n              Must be at least 6 characters!\r\n            </label>\r\n\r\n            <label for=\"confirmPassword\" style=\"padding-top: 5px;\" [ngClass]=\"ngForm.controls['confirmPassword'].invalid ? 'text-danger' : 'text-success'\">Confirmar contraseña</label>\r\n            <div class=\"field\">\r\n              <p class=\"control has-icons-left\">\r\n                <input class=\"input\" type=\"password\" formControlName=\"confirmPassword\"  placeholder=\"Confirm Password\" [ngClass]=\"ngForm.controls['confirmPassword'].invalid ? 'is-invalid' : 'success'\" required>\r\n                <span class=\"icon is-small is-left\">\r\n                  <i class=\"fas fa-lock\"></i>\r\n                </span>\r\n                <label class=\"text-danger\" *ngIf=\"ngForm.controls['confirmPassword'].hasError('NoPassswordMatch')\">\r\n                  Password do not match\r\n                </label>\r\n              </p>\r\n            </div>\r\n\r\n            <div class=\"field\">\r\n              <div class=\"buttons\">\r\n                 <button [disabled]=\"ngForm.invalid\" type=\"submit\"class=\"button is-info\" (click)=\"onSubmit()\">Registrar</button> \r\n                <!-- <button class=\"button is-success\" (click)=\"goToLogin()\">Back to Login</button> -->\r\n              </div>\r\n            </div>\r\n\r\n            </form>\r\n\r\n          </div>\r\n        </div>\r\n      </article>\r\n    </div>\r\n  </div>","import { Component, OnInit } from \"@angular/core\";\r\nimport { FormControl, FormGroup, Validators, FormBuilder, } from \"@angular/forms\";\r\nimport { Router } from \"@angular/router\";\r\nimport { AuthService } from \"src/app/services/auth.service\";\r\n\r\nimport { SearchCountryField, TooltipLabel, CountryISO } from 'ngx-intl-tel-input';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport * as firebase from 'firebase';\r\nimport { UserService } from \"src/app/services/user.service\";\r\nimport { User } from \"src/app/models/user\";\r\nimport { CustomValidators } from \"src/app/shared/guards/custom-validators\";\r\n\r\n@Component({\r\n  selector: \"app-register\",\r\n  templateUrl: \"./register.component.html\",\r\n  styleUrls: [\"./register.component.scss\"],\r\n})\r\nexport class RegisterComponent implements OnInit {\r\n\r\n  separateDialCode = false;\r\n  SearchCountryField = SearchCountryField;\r\n  TooltipLabel = TooltipLabel;\r\n  CountryISO = CountryISO;\r\n\r\n  registerList: User[];\r\n  register = [];\r\n  itemRef: any;\r\n  email: any = \"ejemplo\";\r\n\r\n  ngForm = new FormGroup({\r\n    name: new FormControl(),\r\n    lname: new FormControl(),\r\n    telefono: new FormControl(),\r\n    email: new FormControl(),\r\n    password: new FormControl(),\r\n    confirmPassword: new FormControl(),\r\n  });\r\n\r\n  preferredCountries: CountryISO[] = [CountryISO.UnitedStates, CountryISO.UnitedKingdom];\r\n  phoneForm = new FormGroup({\r\n    phone: new FormControl(undefined, [Validators.required])\r\n  });\r\n\r\n  changePreferredCountries() {\r\n    this.preferredCountries = [CountryISO.India, CountryISO.Canada];\r\n  }\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private authService: AuthService,\r\n    private userService: UserService,\r\n    private formBuilder: FormBuilder,\r\n    private toastr: ToastrService\r\n  ) {\r\n\r\n    this.ngForm = this.createSignupForm();\r\n  }\r\n\r\n  createSignupForm(): FormGroup {\r\n    return this.formBuilder.group(\r\n      {\r\n        telefono: \"\",\r\n        name: \"\",\r\n        lname: \"\",\r\n        email: [\r\n          null,\r\n          Validators.compose([Validators.email, Validators.required])\r\n        ],\r\n        password: [\r\n          null,\r\n          Validators.compose([\r\n            Validators.required,\r\n            // check whether the entered password has a number\r\n            // CustomValidators.patternValidator(/\\d/, {\r\n            //   hasNumber: true\r\n            // }),\r\n            // // check whether the entered password has upper case letter\r\n            // CustomValidators.patternValidator(/[A-Z]/, {\r\n            //   hasCapitalCase: true\r\n            // }),  \r\n            // // check whether the entered password has a lower case letter\r\n            // CustomValidators.patternValidator(/[a-z]/, {\r\n            //   hasSmallCase: true\r\n            // }),\r\n            // check whether the entered password has a special character\r\n            // CustomValidators.patternValidator(\r\n            //   /[ !@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?]/,\r\n            //   {\r\n            //     hasSpecialCharacters: true\r\n            //   }\r\n            // ),\r\n            Validators.minLength(6)\r\n          ])\r\n        ],\r\n        confirmPassword: [null, Validators.compose([Validators.required])]\r\n      },\r\n      {\r\n        // check whether our password and confirm password match\r\n        validator: CustomValidators.passwordMatchValidator\r\n      }\r\n    );\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.userService.getRegister()\r\n      .snapshotChanges().subscribe(item => {\r\n        this.registerList = [];\r\n        item.forEach(element => {\r\n          let x = element.payload.toJSON();\r\n          x[\"$key\"] = element.key;\r\n          this.registerList.push(x as User);\r\n        });\r\n      });\r\n  }\r\n\r\n  createForm() {\r\n    this.ngForm = this.formBuilder.group({\r\n      email: \"\",\r\n      telefono: \"\",\r\n      name: \"\",\r\n      lname: \"\",\r\n      password: \"\",\r\n      confirmPassword: \"\",\r\n      // socketId: \"\",\r\n    });\r\n  }\r\n\r\n  onSubmit() {\r\n\r\n    const email = this.ngForm.controls.email.value;\r\n    const telefono = this.ngForm.controls.telefono.value;\r\n    const password = this.ngForm.controls.password.value;\r\n    const confirmPassword = this.ngForm.controls.confirmPassword.value;\r\n    let emailExist = this.registerList.find(user => user.email == email);\r\n    let phoneExist = this.registerList.find(user => user.telefono.e164Number == telefono.e164Number);\r\n\r\n    if (emailExist) {\r\n      console.log(\"Ya existe este email\");\r\n      this.toastr.error('Ese correo ya esta registrado', 'Intenta otro correo', {\r\n        positionClass: 'toast-top-center'\r\n      });\r\n    } else if (phoneExist) {\r\n      this.toastr.error('El número ya esta registrado', 'Intenta otro número', {\r\n        positionClass: 'toast-top-center'\r\n      });\r\n      console.log(\"Ya existe este número\");\r\n    } else {\r\n\r\n      if (confirmPassword == password) {\r\n        firebase.auth().createUserWithEmailAndPassword(email, password).then( () => {\r\n\r\n          this.userService.insertRegister(this.ngForm.value);\r\n\r\n        }).catch(function (error) {\r\n          \r\n          // Handle Errors here.\r\n          var errorCode = error.code;\r\n          var errorMessage = error.message;\r\n          \r\n          console.log(errorCode);\r\n          console.log(errorMessage);\r\n        });\r\n\r\n        this.email = email;\r\n        firebase.auth().signInWithEmailAndPassword(email, password).then(() => {\r\n          this.router.navigate(['/tags']);\r\n          this.toastr.success('Cuenta creada', 'Exitosamente', {\r\n            positionClass: 'toast-top-center'\r\n          });\r\n        })\r\n        console.log(\"this.email\");\r\n        console.log(this.email);\r\n\r\n        this.router.navigate([\"/tags\"]);\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n\r\n  async doLogout() {\r\n    await this.authService.logout();\r\n    this.router.navigate([\"/\"]);\r\n  }\r\n\r\n  goToLogin() {\r\n    this.router.navigate([\"/login\"]);\r\n  }\r\n\r\n  goToTags() {\r\n    this.router.navigate([\"/tags\"]);\r\n  }\r\n\r\n  addcontact(count: number) {\r\n    const query: string = \"#app .addcontact\";\r\n    const addcontact: any = document.querySelector(query);\r\n\r\n    if (count == 0) {\r\n      count = 1;\r\n      addcontact.style.left = 0;\r\n    } else {\r\n      count = 0;\r\n      addcontact.style.left = \"-100vh\";\r\n    }\r\n  }\r\n\r\n  areaEstados() {\r\n    const query: string = \"#app .areaEstados\";\r\n    const areaEstados: any = document.querySelector(query);\r\n\r\n    if (this.countEstad == 0) {\r\n      this.countEstad = 1;\r\n      areaEstados.style.left = 0;\r\n    } else {\r\n      this.countEstad = 0;\r\n      areaEstados.style.left = \"-100vh\";\r\n    }\r\n  }\r\n\r\n  countEstad: number = 0;\r\n\r\n  openaddContact() {\r\n    if (this.count == 0) {\r\n      this.count = 1;\r\n      this.addcontact(this.count);\r\n    } else {\r\n      this.count = 0;\r\n      this.addcontact(this.count);\r\n    }\r\n  }\r\n\r\n  count: number = 1;\r\n\r\n  SettingsToggle() {\r\n    const query: string = \"#app .DesplegableLeftMore\";\r\n    const DesplegableLeftMore: any = document.querySelector(query);\r\n\r\n    if (this.countSett == 0) {\r\n      this.countSett = 1;\r\n      DesplegableLeftMore.style.opacity = 1;\r\n      DesplegableLeftMore.style.transform = \"scale(1)\";\r\n    } else {\r\n      this.countSett = 0;\r\n      DesplegableLeftMore.style.opacity = 0;\r\n      DesplegableLeftMore.style.transform = \"scale(0)\";\r\n    }\r\n  }\r\n\r\n  countSett: number = 0;\r\n\r\n  createGroup() {\r\n    const query: string = \"#app .newGroupContainer\";\r\n    const newGroupContainer: any = document.querySelector(query);\r\n\r\n    if (this.countGroup == 0) {\r\n      this.countGroup = 1;\r\n      newGroupContainer.style.left = 0;\r\n    } else {\r\n      this.countGroup = 0;\r\n      newGroupContainer.style.left = \"-100vh\";\r\n    }\r\n  }\r\n\r\n  countGroup: number = 0;\r\n\r\n  createImageGroup() {\r\n    const query: string = \"#app .updateImageGroup\";\r\n    const updateImageGroup: any = document.querySelector(query);\r\n\r\n    if (this.countImageGroup == 0) {\r\n      this.countImageGroup = 1;\r\n      updateImageGroup.style.left = 0;\r\n    } else {\r\n      this.countImageGroup = 0;\r\n      updateImageGroup.style.left = \"-100vh\";\r\n    }\r\n  }\r\n\r\n  countImageGroup: number = 0;\r\n}\r\n","<app-navigation-bar></app-navigation-bar>\r\n\r\n\r\n\r\n<input type=\"text\" name=\"searchBoxExternal\" placeholder=\"Buscar ...\" [(ngModel)]=\"searchBoxExternal\">\r\n\r\n\r\n<div class=\"container\">\r\n\r\n    \r\n\r\n    <div  *ngIf=\"viewProfile == false\"  class=\"container\">\r\n\r\n        <h1 id=\"name\">Encuentra Amigos</h1>\r\n\r\n        <div class=\"card\" style=\"width: 18rem; margin-bottom: 15px;\" *ngFor=\"let user of registerList | filterExternalProfiles:searchBoxExternal; let i = index\" >\r\n            <img class=\"card-img-top\" alt=\"Card image cap\" (click)=\"viewExternalProfile(user.email)\" id=\"{{'imagen'+i}}\"  [src]=\"user.Images\" alt=\"imagenes\" class=\"userImg\">\r\n              \r\n\r\n            <div class=\"card-body\">\r\n                <h1 style=\"display: none;\" id=\"{{'correo'+i}}\"  align=\"center\" >{{user.email}}</h1>\r\n                <h1 class=\"card-title\" (click)=\"viewExternalProfile(user.email)\" id=\"{{'nombre'+i}}\"  align=\"center\">{{user.name}} {{user.lname}}</h1>\r\n                <div style=\"width: 100%;\" class=\"card-text\" id=\"{{'descripcion'+i}}\"  align=\"center\">{{user.Descripcion}}</div> \r\n                <button class=\"button is-info\" style=\"margin-right: 10px;\" (click)=\"viewExternalProfile(user.email)\">Ver Perfil</button>\r\n                <!-- <button class=\"button is-info\" id=\"{{'button-'+i}}\" (click)=\"addFriend(i)\">{{mensajeButton[i]}}</button>\r\n                <button class=\"button is-info\" *ngIf=\"mensajeButton.length == 0\" id=\"{{'button-'+i}}\" (click)=\"addFriend(i)\">Seguir</button> -->\r\n            </div>  \r\n            \r\n        </div> \r\n    </div>\r\n\r\n\r\n\r\n    <!-- ---------------------------------------------------VIEW PROFILE----------------------------------------------- -->\r\n<div class=\"container\">\r\n    <div *ngIf=\"viewProfile == true\" class=\"containerView\" >\r\n\r\n        <button (click)=\"gotoExternalProfile()\" type=\"submit\" class=\"button is-info\"\r\n        style=\"padding: 5px;\">Volver</button>\r\n\r\n\r\n        <div class=\"perfilContainer\" >\r\n\r\n            <div class=\"photoContainer\">                \r\n                <img  class=\"Photoimg\" [src]=\"Currentimg\" srcset=\"\" alt=\"\" id=\"img\">\r\n            </div>\r\n\r\n                           \r\n            <div class=\"ContainerDescription\">\r\n                <h1  class=\"name\"></h1>\r\n                <input disabled id=\"descripcionID\" type=\"text\" class=\"inputDescripcion\" >\r\n            </div>\r\n\r\n            <br><button id=\"boton\" (click)=\"addFriendInsidePerfil()\" type=\"submit\" class=\"button is-info\"\r\n            style=\"padding: 5px;\">{{mensaje}}</button><br>\r\n\r\n\r\n          <div class=\"ContainerTags\" >\r\n\r\n            <h1 class=\"name\">Sus tags:</h1>\r\n\r\n                <table class=\"table\">\r\n\r\n                    <tbody>\r\n                    <tr *ngFor=\"let susTags of susTagsList; let i = index\" id=\"{{'contTag'+i}}\">\r\n                        <th><label id=\"{{'mitag'+i}}\">{{susTags.Tags}}</label></th>            \r\n                    </tr>\r\n                    </tbody>\r\n                </table>   \r\n            </div>\r\n\r\n\r\n            <div class=\"librosContainer\">\r\n                <h1 class=\"name\" style=\"margin-top: 40px;\">Sus Libros</h1>\r\n\r\n\r\n                <ngb-carousel>\r\n                    <ng-template *ngFor=\"let susLibros of susLibrosList; let i = index\" id=\"{{'susLibros'+i}}\" ngbSlide>\r\n                        <div>\r\n                            <div class=\"picsum-img-wrapper\">\r\n                                <img class=\"portadaImg\" id=\"{{'imagen'+i}}\" [src]=\"susLibros.Imagen\"\r\n                                    alt=\"Random first slide\">\r\n    \r\n                            </div>\r\n                            <div class=\"carousel-caption\" style=\"z-index: 0;\">\r\n                                <h3 id=\"{{'titulo'+i}}\" align=\"center\">{{susLibros.Titulo}}</h3>\r\n                                <p id=\"{{'autor'+i}}\" align=\"center\" style=\"margin-bottom:10px\">{{susLibros.Autor}}</p>\r\n                            </div>\r\n                        </div>\r\n                    </ng-template>\r\n                </ngb-carousel>\r\n\r\n                \r\n            </div>\r\n\r\n        </div> \r\n    </div>\r\n    </div>\r\n    \r\n    \r\n    \r\n</div>\r\n\r\n\r\n\r\n<app-footer></app-footer>\r\n\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { AuthService } from 'src/app/services/auth.service';\r\nimport { AngularFireDatabase } from '@angular/fire/database';\r\nimport { AngularFireAuth } from '@angular/fire/auth';\r\nimport { FilterPipe } from 'src/app/pipes/filter.pipe';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { Router } from '@angular/router';\r\nimport * as firebase from 'firebase';\r\nimport { UserService } from 'src/app/services/user.service';\r\nimport { User } from 'src/app/models/user';\r\nimport {ActivatedRoute} from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-external-profiles',\r\n  templateUrl: './external-profiles.component.html',\r\n  styleUrls: ['./external-profiles.component.scss']\r\n})\r\nexport class ExternalProfilesComponent implements OnInit {\r\n\r\n  constructor(public authService: AuthService,\r\n    private firebaseAuth:AngularFireAuth, \r\n    private userService: UserService,\r\n    private router: Router,\r\n    private firebase: AngularFireDatabase,\r\n    private toastr: ToastrService,\r\n    private filter: FilterPipe,\r\n    public route: ActivatedRoute) { }\r\n\r\n    registerList: User[];\r\n    imgUser: any[] = [];\r\n    registerListNew: any[] = [];\r\n    arr: any[] = [];\r\n    viewProfile = false;\r\n    susTagsList: any[] = [];\r\n    susLibrosList: any[] = [];\r\n    correoExternoUser = '';\r\n    UserName = '';\r\n    UserLastName = '';            \r\n    FulName = '';\r\n    correoExt = '';\r\n    Currentimg = \"../../../../../../assets/img/NoImage.png\";\r\n    searchBoxExternal= '';\r\n    mensaje = \"\";\r\n    call;\r\n\r\n\r\n   ngOnInit(): void {\r\n    \r\n      this.UserAcount();\r\n      this.userService.getRegister()\r\n      .snapshotChanges().subscribe(item => {\r\n        this.registerList = [];\r\n        item.forEach(element => {\r\n          let x = element.payload.toJSON();\r\n          x[\"$key\"] = element.key;\r\n          this.registerList.push(x as User);\r\n        });\r\n        \r\n        const Email = firebase.auth().currentUser.email;\r\n        this.registerListNew = Object.values(this.registerList);\r\n\r\n        for (let i = 0; i < this.registerList.length; i++) {\r\n            this.registerListNew  = Object.values(this.registerList[i]);\r\n\r\n            for (let j = 0; j < this.registerListNew.length; j++) {            \r\n              \r\n              if (this.registerListNew[j]==Email) {\r\n                this.registerList.splice(i, 1);\r\n              }\r\n              \r\n            }\r\n        }\r\n\r\n        this.getImgUsers(this.registerList);\r\n        \r\n      });\r\n\r\n      this.call=this.route.snapshot.paramMap.get(\"email\");\r\n      if (this.call) {\r\n        this.viewExternalProfile(this.call);\r\n      } \r\n  }\r\n\r\n  UserAcount (){    \r\n    let $this = this;\r\n    firebase.auth().onAuthStateChanged(function(user) {\r\n      if (user) {\r\n        \r\n        if (user != null) {\r\n          user.providerData.forEach(function (profile) {\r\n            // console.log(\"Sign-in provider: \" + profile.providerId);\r\n            // console.log(\"  Provider-specific UID: \" + profile.uid);\r\n            // console.log(\"  Name: \" + profile.displayName);\r\n            // console.log(\"  Email: \" + profile.email);\r\n            // $this.addBookToUser(profile.email,\"\");\r\n          });\r\n        }\r\n      } else {\r\n        // No user is signed in.\r\n      }\r\n    });\r\n  }\r\n\r\n  async  doLogout() {\r\n    await this.authService.logout();\r\n    this.router.navigate(['/']);\r\n  }\r\n\r\n  async getImgUsers(arrList){\r\n    const Email = firebase.auth().currentUser.email;\r\n    let entries;\r\n    let entriesDescipcion;\r\n\r\n    arrList.forEach((element,index) => {\r\n      if (\"Images\" in element){\r\n        entries = Object.keys(element.Images);\r\n        arrList[index].Images = element.Images[entries[entries.length-1]].ImgUrl;\r\n      } else {\r\n        arrList[index].Images = \"../../../../../../assets/img/NoImage.png\";\r\n      }\r\n\r\n      if (\"Descripcion\" in element){\r\n        entriesDescipcion = Object.values(element.Descripcion);\r\n        arrList[index].Descripcion = entriesDescipcion[entriesDescipcion.length-1].Descripcion;\r\n      } else {\r\n        arrList[index].Descripcion = \"Sin descripcion\";\r\n      }\r\n\r\n    });\r\n  }\r\n\r\n\r\n  async addFriend(index){\r\n    let Key;\r\n    let contador = 0;\r\n    let confirm = false;\r\n    const Email = firebase.auth().currentUser.email;\r\n\r\n    let correoAmigo = document.querySelector(\"#correo\"+index);         \r\n    let correoAmigoText = correoAmigo.textContent;\r\n    \r\n    let nombreAmigo = document.querySelector(\"#nombre\"+index);         \r\n    let nombreAmigoText = nombreAmigo.textContent;\r\n\r\n    let imagenAmigo: any = document.querySelector(\"#imagen\"+index);         \r\n    let imagenAmigoSrc = imagenAmigo.src;\r\n\r\n    if (correoAmigoText != ''){\r\n      this.correoExternoUser = correoAmigoText;\r\n    }\r\n\r\n      await this.firebase.database.ref(\"register\").once(\"value\", (users) => {\r\n        users.forEach((user) => {\r\n          const childKey = user.key;\r\n          const childData = user.val();\r\n          if (childData.email == Email) {\r\n            Key = childKey;\r\n            user.forEach((info) => {\r\n              info.forEach((Amigos) => {\r\n                Amigos.forEach((misAmigos) => {\r\n                  const misAmigosChildKey = misAmigos.key;\r\n                  const misAmigosChildData = misAmigos.val();\r\n                if (misAmigosChildKey == \"Contacto\"){\r\n                    this.arr.push(misAmigosChildData);                  \r\n                }\r\n                });\r\n                \r\n              });\r\n            });\r\n          }        \r\n        });\r\n      });\r\n\r\n      if (this.arr==undefined){\r\n        this.firebase.database.ref(\"register\").child(Key).child(\"Amigos\").push({\r\n          Contacto: correoAmigoText,\r\n          NombreAmigo: nombreAmigoText,\r\n          ImagenAmigo: imagenAmigoSrc\r\n        });\r\n        this.toastr.success('Amigo añadido a tu lista', 'Exitosamente');\r\n      } else{\r\n        for (let i = 0; i < this.arr.length; i++) {\r\n          if (this.arr[i]==correoAmigoText){\r\n            contador ++;\r\n          }        \r\n        }\r\n        if (contador==0){\r\n          confirm = true;\r\n        } else {\r\n          this.toastr.error('Esta persona ya se encuentra en tu lista', 'Fallido');\r\n        }\r\n        if (confirm == true){\r\n          this.firebase.database.ref(\"register\").child(Key).child(\"Amigos\").push({\r\n            Contacto: correoAmigoText,\r\n            NombreAmigo: nombreAmigoText,\r\n            ImagenAmigo: imagenAmigoSrc\r\n          });\r\n          this.toastr.success('Amigo añadido a tu lista', 'Exitosamente');\r\n        }\r\n      }\r\n         \r\n  }\r\n\r\n  async addFriendInsidePerfil(){\r\n    let Key;\r\n    let contador = 0;\r\n    let confirm = false;\r\n    const Email = firebase.auth().currentUser.email;\r\n\r\n      // Verificar si ya esta agregado\r\n      await this.firebase.database.ref(\"register\").once(\"value\", (users) => {\r\n        users.forEach((user) => {\r\n          const childKey = user.key;\r\n          const childData = user.val();\r\n          if (childData.email == Email) {\r\n            Key = childKey;\r\n            user.forEach((info) => {\r\n              info.forEach((Amigos) => {\r\n                Amigos.forEach((misAmigos) => {\r\n                  const misAmigosChildKey = misAmigos.key;\r\n                  const misAmigosChildData = misAmigos.val();\r\n                if (misAmigosChildKey == \"Contacto\"){\r\n                    this.arr.push(misAmigosChildData);                  \r\n                }\r\n                });\r\n                \r\n              });\r\n            });\r\n          }        \r\n        });\r\n      });\r\n      \r\n      if (this.arr==undefined){\r\n        this.firebase.database.ref(\"register\").child(Key).child(\"Amigos\").push({\r\n          Contacto: this.correoExt,\r\n          NombreAmigo: this.FulName,\r\n          ImagenAmigo: this.Currentimg\r\n        });\r\n        this.toastr.success('Amigo añadido a tu lista', 'Exitosamente');\r\n      } else{\r\n        for (let i = 0; i < this.arr.length; i++) {\r\n          if (this.arr[i]==this.correoExt){\r\n            contador ++;\r\n          }        \r\n        }\r\n        if (contador==0){\r\n          confirm = true;\r\n        } else {\r\n          this.toastr.error('Esta persona ya se encuentra en tu lista', 'Fallido');\r\n        }\r\n        if (confirm == true){\r\n          this.firebase.database.ref(\"register\").child(Key).child(\"Amigos\").push({\r\n            Contacto: this.correoExt,\r\n            NombreAmigo: this.FulName,\r\n            ImagenAmigo: this.Currentimg\r\n          });\r\n          this.toastr.success('Amigo añadido a tu lista', 'Exitosamente');\r\n        }\r\n      }\r\n         \r\n  }\r\n\r\n  gotoExternalProfile(){\r\n    this.viewProfile = false;\r\n    // this.getImgUsers(this.registerList);\r\n  }\r\n\r\n  async viewExternalProfile(correoExternoUser){\r\n    // let correoName = correoExternoUser.split(\"-\");\r\n    this.viewProfile = true;\r\n    let $this = this;\r\n    this.correoExt = correoExternoUser;\r\n    let CurrentDescription;\r\n    let Autor;\r\n    let Imagen;\r\n    let Titulo;\r\n    let keyTAGS;\r\n    let Tags = {};\r\n    const Email = firebase.auth().currentUser.email;\r\n    this.susLibrosList = [];\r\n    this.susTagsList = [];\r\n    this.Currentimg = \"\";\r\n\r\n    let Key;\r\n    await this.firebase.database.ref(\"register\").once(\"value\", (users) => {\r\n      users.forEach((user) => {\r\n        const childKey = user.key;\r\n        const childData = user.val();     \r\n        if (childData.email == correoExternoUser) {\r\n          Key = childKey;\r\n          if (childData.lname != '' && childData.name != ''){\r\n            this.UserName = childData.name;\r\n            this.UserLastName = childData.lname;            \r\n            // this.FulName = this.UserName.concat(\" \"+this.UserLastName);\r\n            this.FulName = this.UserName+\" \"+this.UserLastName;\r\n          }\r\n          user.forEach((info) => {\r\n            info.forEach((Description) => {\r\n              const pruebakey = Description.key;\r\n              keyTAGS = pruebakey;\r\n              Description.forEach((DescriptionText) => {\r\n                const DescriptionChildKey = DescriptionText.key;\r\n                const DescriptionChildData = DescriptionText.val();\r\n\r\n                if (DescriptionChildKey == \"Descripcion\"){\r\n                  CurrentDescription = DescriptionChildData;\r\n                }\r\n                \r\n                if (DescriptionChildKey == \"Autor\"){\r\n\r\n                  Autor = DescriptionChildData;\r\n\r\n                } else if (DescriptionChildKey == \"Imagen\"){\r\n\r\n                  Imagen = DescriptionChildData;\r\n\r\n                } else if (DescriptionChildKey == \"Titulo\"){\r\n                  Titulo = DescriptionChildData;\r\n                  if (Autor != '' && Imagen != '' && Titulo != ''){\r\n                    this.susLibrosList.push({Autor,Imagen,Titulo});\r\n                  }\r\n                }\r\n                \r\n                if (DescriptionChildKey == \"ImgUrl\"){\r\n                  $this.Currentimg = DescriptionChildData;\r\n                }\r\n                \r\n                if (DescriptionChildKey == \"Tag\"){\r\n                  Tags = DescriptionChildData;\r\n                  if (Tags != ''){\r\n                    this.susTagsList.push({Tags});\r\n                  }\r\n                }\r\n\r\n              });\r\n            });\r\n          });          \r\n        }\r\n      });\r\n    });\r\n\r\n\r\n    await this.firebase.database.ref(\"register\").once(\"value\", (users) => {\r\n      users.forEach((user) => {\r\n        const childKey = user.key;\r\n        const childData = user.val();\r\n        if (childData.email == Email) {\r\n          Key = childKey;\r\n          user.forEach((info) => {\r\n            info.forEach((Amigos) => {\r\n              Amigos.forEach((misAmigos) => {\r\n                const misAmigosChildKey = misAmigos.key;\r\n                const misAmigosChildData = misAmigos.val();\r\n              if (misAmigosChildKey == \"Contacto\"){\r\n                if (misAmigosChildData == correoExternoUser) {\r\n                  this.mensaje = \"Amigo\";\r\n                } else {\r\n                  this.mensaje = \"Seguir\";\r\n                }\r\n                                  \r\n              }\r\n              });\r\n              \r\n            });\r\n          });\r\n        }        \r\n      });\r\n    });\r\n    \r\n    setTimeout(function(){\r\n      \r\n      if($this.UserName != '') {\r\n      \r\n        const query: string = \".containerView .name\";        \r\n        // let nameInput = document.querySelector(query).innerHTML = $this.FulName;\r\n        let nameInput = document.querySelector(query);\r\n        nameInput.textContent = $this.FulName;\r\n  \r\n      } else {\r\n        const query: string = \".containerView .name\";\r\n        document.querySelector(query).innerHTML = \"Nombre no registrado\";\r\n        $this.toastr.error('Error al buscar el nombre', 'Error');   \r\n      }\r\n\r\n      if(!$this.Currentimg) {\r\n        $this.Currentimg = \"../../../../../../assets/img/NoImage.png\";\r\n      }\r\n\r\n      if(CurrentDescription != '') {\r\n      \r\n        const query: string = \".inputDescripcion\";\r\n        const element: any  = document.querySelector(query);\r\n        element.value = CurrentDescription;\r\n  \r\n      }\r\n      const query: string = \"#descripcionID\";\r\n      const Descripcion: any = document.querySelector(query);\r\n      let DescripcionValue = Descripcion.value\r\n  \r\n      if (DescripcionValue == 'undefined'){\r\n        DescripcionValue = \"Ingresa tu descripción\"\r\n      } \r\n\r\n    }, 500);\r\n    \r\n\r\n     \r\n  }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup } from \"@angular/forms\";\r\nimport { Router } from '@angular/router';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { UserService } from \"src/app/services/user.service\";\r\nimport * as firebase from 'firebase';\r\nimport { User } from 'src/app/models/user';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.scss']\r\n})\r\nexport class LoginComponent implements OnInit {\r\n\r\n  signupForm = new FormGroup({\r\n    signupEmail: new FormControl(),\r\n    signupPassword: new FormControl(),\r\n  });\r\n\r\n  constructor(private router: Router, private toastr: ToastrService, private userService: UserService) { }\r\n\r\n  registerList: User[];\r\n  register = [];\r\n  itemRef: any;\r\n\r\n  ngOnInit(): void {\r\n    this.userService.getRegister()\r\n      .snapshotChanges().subscribe(item => {\r\n        this.registerList = [];\r\n        item.forEach(element => {\r\n          let x = element.payload.toJSON();\r\n          x[\"$key\"] = element.key;\r\n          this.registerList.push(x as User);\r\n        });\r\n        console.log(this.registerList);\r\n      });\r\n  }\r\n\r\n  goToRegister() {\r\n    this.router.navigate(['/register']);\r\n  }\r\n\r\n  doLogin() {\r\n\r\n    let email = this.signupForm.controls.signupEmail.value;\r\n    const password = this.signupForm.controls.signupPassword.value;\r\n\r\n    let emailRegexp = new RegExp(/^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/g);\r\n\r\n    if (email.match(emailRegexp)) {\r\n\r\n      let email = this.signupForm.controls.signupEmail.value;\r\n    const password = this.signupForm.controls.signupPassword.value;\r\n\r\n    let emailRegexp = new RegExp(/^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/g);\r\n\r\n    let userExist;\r\n    if(email.match(emailRegexp)){\r\n      // Es correo\r\n      console.log(this.registerList);\r\n      console.log(\"Es correo\");\r\n      userExist = this.registerList.find( user => user.email == email);\r\n      console.log(userExist);\r\n    } else {\r\n      console.log(\"Es teléfono\");\r\n      // Es teléfono\r\n      userExist = this.registerList.find( user => user.telefono.e164Number == email && user);\r\n      email = userExist && userExist.email || undefined;\r\n      console.log(email);\r\n    }\r\n\r\n    if(userExist){\r\n\r\n      firebase.auth().signInWithEmailAndPassword(email, password).then(() => {\r\n        \r\n        this.router.navigate(['/home']);\r\n        this.toastr.success('Login successful', 'Login acount', {\r\n          positionClass: 'toast-top-center'\r\n        });\r\n      }).catch((error) => {\r\n        // Handle Errors here.\r\n        this.toastr.error('The password are incorrect', 'Error login', {\r\n          positionClass: 'toast-top-center'\r\n          });\r\n        var errorCode = error.code;\r\n        var errorMessage = error.message;\r\n        // ...\r\n        console.log(`Error [${errorCode}]: ${errorMessage}`);\r\n      });\r\n      } else {\r\n        console.log(\"Ya existe este email en tus contactos\");\r\n        this.toastr.error('The email or the password are incorrect', 'Error login', {\r\n        positionClass: 'toast-top-center'\r\n        });\r\n        }\r\n      \r\n      // this.userService.findById(email).once('value').then(data => {\r\n\r\n      //   if (data.val()) {\r\n\r\n      //     console.log(data.val());\r\n\r\n      //     this.login(email, password);\r\n      //   } else {\r\n\r\n      //     this.usuarioNoRegistrado();\r\n      //   }\r\n      // }).catch(() => {\r\n      //   this.usuarioNoRegistrado();\r\n      // });\r\n    \r\n    } else {\r\n\r\n      this.userService.findByPhone(email).once('value').then(data => {\r\n        if (data.exists()) {\r\n\r\n          data.forEach(element => {\r\n            let user = element.exportVal();\r\n\r\n            console.log(user.email);\r\n\r\n            email = user.email;\r\n          });\r\n\r\n          this.login(email, password);\r\n        } else {\r\n          this.usuarioNoRegistrado();\r\n        }\r\n      }).catch(() => {\r\n        this.usuarioNoRegistrado();\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  usuarioNoRegistrado() {\r\n    this.toastr.success('El usuario no esta registrado', 'Fallido', {\r\n      positionClass: 'toast-top-center'\r\n    });\r\n  }\r\n\r\n\r\n  login(email: string, password: string) {\r\n    firebase.auth().signInWithEmailAndPassword(email, password).then(() => {\r\n      this.router.navigate(['/home']);\r\n      this.toastr.success('Ingreso exitoso', '', {\r\n        positionClass: 'toast-top-center'\r\n      });\r\n    }).catch(function (error) {\r\n      // Handle Errors here.\r\n      var errorCode = error.code;\r\n      var errorMessage = error.message;\r\n      // ...\r\n      console.log(`Error [${errorCode}]: ${errorMessage}`);\r\n    });\r\n  }\r\n\r\n}\r\n","<div class=\"page\">\r\n  <div class=\"container\">\r\n    <div class=\"text\">\r\n      Login\r\n    </div>\r\n  \r\n    <div class=\"logo\">\r\n      <img src=\"../../../../assets/img/Logo - Azul.svg\" alt=\"\">\r\n    </div>\r\n  \r\n    <div class=\"text\">\r\n      Read2gether\r\n    </div>\r\n  \r\n    <div class=\"formBox\">\r\n      <form [formGroup]=\"signupForm\">\r\n        <div class=\"field\">\r\n          <label style=\"color: #205493; font-size: medium;\"for=\"\">Email</label>\r\n          <p class=\"control has-icons-left has-icons-right\">\r\n            <input class=\"input\" formControlName=\"signupEmail\" type=\"email\" placeholder=\"Email\" required>\r\n            \r\n            <span class=\"icon is-small is-left\">\r\n              <i class=\"fas fa-envelope\"></i>\r\n            </span>\r\n            <span class=\"icon is-small is-right\">\r\n              <i class=\"fas fa-check\"></i>\r\n            </span>\r\n          </p>\r\n        </div>\r\n        <div class=\"field\">\r\n          <label style=\"color: #205493; font-size: medium;\" for=\"\">Password</label>\r\n          <p class=\"control has-icons-left\">\r\n            <input class=\"input\" formControlName=\"signupPassword\"  type=\"password\" placeholder=\"Password\" required>\r\n            <span class=\"icon is-small is-left\">\r\n              <i class=\"fas fa-lock\"></i>\r\n            </span>\r\n          </p>\r\n        </div>\r\n        <div class=\"field\">\r\n          <div class=\"buttons\">                \r\n            <button type=\"submit\" class=\"button is-info\" style=\"width: 50%;\" (click)=\"doLogin()\">Login</button>\r\n\r\n          </div>\r\n        </div>\r\n      \r\n      </form>\r\n\r\n    <!-- <button class=\"Register\">Register</button> -->\r\n    <a (click)=\"goToRegister()\" class=\"RegisterBtn\">Click here to register</a>\r\n\r\n    </div>\r\n  \r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss']\r\n})\r\nexport class AppComponent {\r\n  title = 'Read2gether';\r\n}\r\n","\r\n        <router-outlet></router-outlet>\r\n\r\n\r\n<!-- <mat-sidenav-container>\r\n    <mat-sidenav #sidenav role=\"navigation\"> \r\n\r\n    </mat-sidenav>\r\n    <mat-sidenav-content>\r\n        <router-outlet></router-outlet>\r\n    </mat-sidenav-content>\r\n</mat-sidenav-container> -->","import { AngularFireUploadTask } from 'angularfire2/storage';\r\nimport { Component, OnInit, Output, EventEmitter } from '@angular/core';\r\nimport { AngularFireStorage } from '@angular/fire/storage';\r\n\r\nimport { Observable } from 'rxjs';\r\nimport { finalize } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-file-upload',\r\n  templateUrl: './file-upload.component.html',\r\n  styleUrls: ['./file-upload.component.scss']\r\n})\r\n\r\nexport class FileUploadComponent {\r\n\r\n  fileURL: any;\r\n  imgURL: any;\r\n\r\n  @Output() fileUrlEmitter = new EventEmitter<string>();\r\n  @Output() imgUrlEmitter  = new EventEmitter<string>();\r\n\r\n\r\n  //Main task\r\n  task: AngularFireUploadTask;\r\n\r\n  //Progress monitoring\r\n  percentage: Observable<number>;\r\n\r\n  snapshot: Observable<any>;\r\n\r\n  //Download URL\r\n  downloadURL: Observable<string>;\r\n\r\n  //State for dropzone CSS toggling\r\n  isHovering: boolean;\r\n\r\n  constructor(private storage: AngularFireStorage) { }\r\n\r\n  toggleHover(event: boolean) {\r\n    this.isHovering = event;\r\n  }\r\n\r\n  startUpload(event: FileList) {\r\n    //The file object\r\n    const file = event.item(0)\r\n\r\n    //Client-side Validation example\r\n    // if (file.type.split('/')[0] !== 'audio' || 'image') {\r\n    //   console.error('No hay soporte en ese tipo de archivo :(')\r\n    //   return;\r\n    // }\r\n\r\n    // The storage path\r\n    const path = `test/${new Date().getTime()}_${file.name}`;\r\n\r\n    const ref = this.storage.ref(path);\r\n\r\n    // Totally opcional metadata\r\n    const customMetadata = { app: 'My AngularFire-powered PWA!' };\r\n\r\n    // The main task\r\n    this.task = this.storage.upload(path, file, { customMetadata })\r\n\r\n    //progress monitoring\r\n    this.percentage = this.task.percentageChanges();\r\n    this.snapshot = this.task.snapshotChanges()\r\n\r\n    //The file's download URL\r\n    this.task.snapshotChanges().pipe(finalize(() => {\r\n    this.downloadURL = ref.getDownloadURL();\r\n    this.downloadURL.subscribe(url => {\r\n        this.fileURL = url;\r\n        this.fileUrlEmitter.emit(url);\r\n        console.log(\"URL ES: \" + url );\r\n      });\r\n    })).subscribe();\r\n\r\n    this.task.snapshotChanges().pipe(finalize(() => {\r\n      this.downloadURL = ref.getDownloadURL();\r\n      this.downloadURL.subscribe(imgUrl => {\r\n          this.imgURL = imgUrl;\r\n          this.imgUrlEmitter.emit(imgUrl);\r\n          console.log(\"URL ES: \" + imgUrl );\r\n        });\r\n      })).subscribe();\r\n\r\n  }\r\n\r\n\r\n\r\n  isActive(snapshot) {\r\n    return snapshot.state === 'running' && snapshot.bytesTransferred < snapshot.totalBytes;\r\n  }\r\n\r\n}\r\n","<div class=\"dropzone\" dropZone (hovered)=\"toggleHover($event)\" (dropped)=\"startUpload($event)\" \r\n    [class.hovering]=\"isHovering\">\r\n\r\n    <div class=\"file\" style=\" width: 140px; display: flex;   flex-flow: column wrap;\">\r\n        <div>\r\n            <label class=\"file-label\">\r\n\r\n                \r\n\r\n                <input type=\"file\" (change)=\"startUpload($event.target.files)\"  >\r\n    \r\n                <!-- <span class=\"file-cta\">\r\n                    <span class =\"file-icon\">\r\n                    <i class=\"fa fa-upload\"></i>\r\n                    </span>\r\n                    <br>\r\n                    <span class=\"file-label\">\r\n                        \r\n                    o escoger archivo\r\n                    </span> \r\n                </span>  -->\r\n            </label>\r\n        </div>\r\n\r\n    </div>\r\n</div>","import { FileUploadComponent } from './pages/private/file-upload/file-upload.component';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { NgxIntlTelInputModule } from 'ngx-intl-tel-input';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { CommonModule } from \"@angular/common\";\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { LoginComponent } from './pages/public/login/login.component';\r\nimport { RegisterComponent } from './pages/public/register/register.component';\r\n\r\n//firebase\r\n\r\nimport { AngularFireModule} from '@angular/fire';\r\nimport { AngularFireDatabaseModule} from '@angular/fire/database';\r\nimport { environment } from '../environments/environment';\r\nimport { AngularFirestoreModule, AngularFirestore }    from '@angular/fire/firestore';\r\nimport { AngularFireStorageModule, AngularFireStorage }    from '@angular/fire/storage';\r\nimport { AngularFireAuthModule } from '@angular/fire/auth';\r\nimport { AngularEpubViewerModule } from 'angular-epub-viewer';\r\n\r\n\r\n//bootstrap\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\n\r\n//Servicios\r\nimport { ToastrModule } from 'ngx-toastr';\r\nimport { AuthService } from './services/auth.service';\r\nimport { AngularFireAuthGuard, redirectLoggedInTo, redirectUnauthorizedTo } from '@angular/fire/auth-guard';\r\nimport { TagsComponent } from './pages/public/tags/tags.component';\r\nimport { FilterTagsPipe } from './pipes/filter-tags.pipe';\r\nimport { HomeComponent } from './pages/private/home/home.component';\r\nimport { ProfileComponent } from './pages/private/profile/profile.component';\r\nimport { NavigationBarComponent } from './pages/private/navigation-bar/navigation-bar.component';\r\nimport { FooterComponent } from './pages/private/footer/footer.component';\r\nimport { filter } from 'rxjs/operators';\r\nimport { FilterPipe } from './pipes/filter.pipe';\r\nimport { ExternalProfilesComponent } from './pages/private/external-profiles/external-profiles.component';\r\nimport { GroupComponent } from './pages/private/group/group.component';\r\nimport { FilterExternalProfilesPipe } from './pipes/filter-external-profiles.pipe';\r\nimport { BookPDFComponent } from './pages/private/book-pdf/book-pdf.component';\r\n// import { matDrawerAnimations, MatDrawerContainer } from '@angular/material/sidenav';\r\nimport {MatSidenavModule} from '@angular/material/sidenav';\r\n\r\n//PDF Viewer\r\nimport { PdfViewerModule } from 'ng2-pdf-viewer';\r\nimport { BookChatComponent } from './pages/private/book-chat/book-chat.component';\r\nimport { MyBooksComponent } from './pages/private/my-books/my-books.component';\r\n\r\n\r\n\r\n \r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    LoginComponent,\r\n    RegisterComponent,\r\n    FileUploadComponent,\r\n    TagsComponent,\r\n    FilterTagsPipe,\r\n    HomeComponent,\r\n    ProfileComponent,\r\n    NavigationBarComponent,\r\n    FooterComponent,\r\n    FilterPipe,\r\n    ExternalProfilesComponent,\r\n    GroupComponent,\r\n    FilterExternalProfilesPipe,\r\n    BookPDFComponent,\r\n    BookChatComponent,\r\n    MyBooksComponent,\r\n  ],\r\n  imports: [\r\n    AngularEpubViewerModule,\r\n    MatSidenavModule,\r\n    PdfViewerModule,\r\n    BrowserModule,\r\n    CommonModule,\r\n    AppRoutingModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    AngularFireDatabaseModule,\r\n    NgxIntlTelInputModule,\r\n    AngularFireModule.initializeApp(environment.firebase),\r\n    AngularFireAuthModule,\r\n    BrowserAnimationsModule,\r\n    AngularFirestoreModule,\r\n    NgbModule,\r\n    AngularFireStorageModule,\r\n    ToastrModule.forRoot({\r\n      timeOut: 3000,\r\n      positionClass: 'toast-top-center',\r\n      preventDuplicates: true,\r\n    })\r\n  ],\r\n  providers: [\r\n    RegisterComponent,\r\n    AuthService,\r\n    AngularFirestore,\r\n    AngularFireAuthGuard,\r\n    FilterTagsPipe,\r\n    FilterPipe,\r\n    FilterExternalProfilesPipe\r\n  ],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","<app-navigation-bar></app-navigation-bar>\r\n\r\n\r\n\r\n\r\n<div class=\"container\">\r\n  <div style=\"margin-top: 65px; margin-bottom: -21px;\"><input class=\"searchBar\" id=\"form1\" type=\"search\" name=\"searchBoxHome\" placeholder=\"Buscar\"\r\n    [(ngModel)]=\"searchBoxHome\" /></div>\r\n\r\n  <div style=\" margin-bottom: 3px; display: flex; justify-content: right; width: 100%;\">\r\n    <select (change)=\"getBooksByTag()\" [(ngModel)]=\"tag\">\r\n      <option value=\"All\" selected>Todos</option>\r\n      <option *ngFor=\"let tag of tagsList\" [value]=\"tag\">{{tag}}</option>\r\n    </select>\r\n  </div>\r\n  \r\n  <div *ngFor=\"let book of macthRecomended | filter: searchBoxHome; let i = index\">\r\n    <img id=\"{{ 'imagen' + i }}\" [src]=\"book.Portada\" alt=\"imagenes\" class=\"bookImg\" />\r\n    \r\n    <div class=\"cuerpoText\">\r\n      <h1 id=\"{{ 'titulo' + i }}\" align=\"center\">{{ book.Title }}</h1>\r\n      <h2 id=\"{{ 'autor' + i }}\" align=\"center\">{{ book.Autor }}</h2>\r\n\r\n      <div class=\"contenedorStars\">\r\n        <!-- <img class=\"stars\" style=\"width: 50%\" src=\"../../../../assets/img/stars.png\" alt=\"\" /> -->\r\n        <label class=\"rating-label\">Puntaje Promedio: {{book.Stars}}\r\n          <input class=\"rating\" max=\"5\" readonly step=\"0.01\" style=\" --fill:#feca57;--value:{{book.Stars}}\" type=\"range\"\r\n            value=\"{{book.Stars}}\">\r\n        </label>\r\n      </div>\r\n      \r\n\r\n      <div class=\"descripcion\">\r\n        <p>{{ book.Descripcion }}</p>\r\n      </div>\r\n\r\n      <div class=\"btnContainer\">\r\n        <button class=\"button is-info\" id=\"{{ 'button-' + i }}\" (click)=\"addBookToUser(i)\"\r\n          style=\"width: 45%\">\r\n          Añadir a mi lista\r\n        </button>\r\n        <button *ngIf=\"booksListGroup.length != 0\" class=\"button is-info\" id=\"{{ 'buttonGroup-' + i }}\" (click)=\"activateSelect(i)\" style=\"width: 50%; margin-left: 5px;\">\r\n          Añadir a mi grupo\r\n        </button>\r\n        <div style=\"margin-top:10px; display: none;\" [id]=\"'activateGroupSelect'+i\">\r\n          <select (change)=\"addBookToGroup(i)\"  [(ngModel)]=\"groupValue\"> \r\n            <option value=\"\" disabled selected>Seleccione su grupo</option>\r\n            <option *ngFor=\"let groups of booksListGroup\"  [ngValue]=\"groups\">{{groups}}</option>\r\n          </select>\r\n        </div>\r\n        \r\n        <button class=\"button is-info\" style=\"width: 55%; margin-top: 5px;\" (click)=\"activateComent(i)\">Añadir Comentario</button>\r\n        <div style=\"display: none;\"  [id]=\"'activateComentInput'+i\">\r\n          <input  style=\" margin-top: 5px;\"  type=\"text\" placeholder=\"Escriba su comentario\" [(ngModel)]=\"comentario\">\r\n          <button class=\"button is-info\" style=\" margin-top: 5px; margin-left: 2px;  width: 25%; height: 10%;\" (click)=\"sendComentario(book.Title,i)\">Enviar</button>\r\n        </div>\r\n      </div>\r\n\r\n\r\n      <!-- COMENTARIOS -->\r\n\r\n      <label style=\"color: #205493; font-weight: bold; font-size: medium; font-family: Helvetica; margin-top: 15px;\">Comentarios</label>\r\n      <div *ngFor=\"let bookComent of bookComents\">\r\n        <div *ngIf=\"bookComent.Title == book.Title\">\r\n          \r\n            <div class=\"comentario\">\r\n              <img class=\"commentPhoto\" [src]=\"bookComent.Images\" alt=\"\">\r\n              <div><label (click)=\"goToPerfil(bookComent.User)\" class=\"user\">{{ bookComent.name }}</label><br/>\r\n                <label class=\"commentText\">{{ bookComent.Comment }}</label></div>\r\n              \r\n            </div>\r\n          \r\n        </div>\r\n      </div>\r\n      \r\n\r\n      \r\n    </div>\r\n\r\n  </div>\r\n</div>\r\n\r\n<app-footer></app-footer>","import { TagService } from './../../../services/tag.service';\r\nimport { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\nimport { AuthService } from 'src/app/services/auth.service';\r\nimport { UserService } from \"src/app/services/user.service\";\r\nimport { AngularFireAuth } from '@angular/fire/auth';\r\nimport {  FormControl, FormGroup, NgForm, Validators, FormBuilder,} from \"@angular/forms\";\r\nimport * as firebase from 'firebase';\r\nimport { Router } from '@angular/router';\r\n//import { AngularFireDatabase, AngularFireList } from 'angularfire2/database';\r\nimport { AngularFireDatabase, AngularFireList } from '@angular/fire/database';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { FilterPipe } from 'src/app/pipes/filter.pipe';\r\nimport { BookService } from 'src/app/services/book.service';\r\n// import { User } from 'src/app/models/user';\r\nimport { User } from 'src/app/models/user';\r\nimport { Book } from 'src/app/models/book';\r\nimport { Group } from 'src/app/models/group';\r\n\r\n@Component({   \r\n  selector: 'app-home',\r\n  templateUrl: './home.component.html',\r\n  styleUrls: ['./home.component.scss']\r\n})\r\nexport class HomeComponent implements OnInit {\r\n\r\n  FormAdd = new FormGroup({\r\n    Numbercontact: new FormControl(),\r\n    Namecontact: new FormControl()\r\n  });\r\n\r\n  subscriptionList: {\r\n    connection: Subscription,\r\n    msgs: Subscription   \r\n  } = {\r\n      connection: undefined,\r\n      msgs: undefined\r\n  };\r\n  \r\n  searchBoxHome= '';\r\n\r\n  goToProfile() {\r\n    this.router.navigate(['/profile']);\r\n  }\r\n\r\n  goToHome() {\r\n    this.router.navigate(['/home']);\r\n  }\r\n\r\n\r\n  constructor(public authService: AuthService,\r\n    private tagService: TagService,\r\n    private firebaseAuth:AngularFireAuth, \r\n    private userService: UserService,\r\n    private bookService: BookService,\r\n    private router: Router,\r\n    private firebase: AngularFireDatabase,\r\n    private toastr: ToastrService,\r\n    private filter: FilterPipe) {}\r\n\r\n    registerList: User[];\r\n    bookList: Book[];\r\n    // bookList: any[] = [];\r\n    bookComents: any[] = [];\r\n    bookListRecomended;\r\n    bookTags: any[] = [];\r\n    register= [];\r\n    itemRef: any;\r\n    macthRecomended: any[] = [];\r\n    nameGroup: string;\r\n    groupValue: string;\r\n    booksList: any[] = [];\r\n    booksListGroup: any[] = [];\r\n    tagsList: any[] = [];\r\n    comentario: string;\r\n    arrTagsBooks: any[] = [];\r\n    groupList: any[] = [];\r\n    tag: string;\r\n\r\n    ngOnInit(): void {\r\n      // this.initChat();\r\n      let $this = this;\r\n      this.UserAcount();\r\n      this.userService.getRegister()\r\n      .snapshotChanges().subscribe(item => {\r\n        this.registerList = [];\r\n        item.forEach(element => {\r\n          let x = element.payload.toJSON();\r\n          x[\"$key\"] = element.key;\r\n          this.registerList.push(x as User);\r\n        });\r\n        this.getMyGroupsAndBooks(this.registerList);\r\n      });\r\n\r\n      this.userService.getGroups()\r\n      .snapshotChanges().subscribe(item => {\r\n        this.groupList = [];\r\n        item.forEach(element => {\r\n          let x = element.payload.toJSON();\r\n          x[\"$key\"] = element.key;\r\n          this.groupList.push(x as Group);\r\n        });\r\n      });\r\n\r\n\r\n      this.tagService.getTags()    \r\n      .snapshotChanges().subscribe(item => {\r\n        this.tagsList = [];\r\n        item.forEach(element => {\r\n          let x = element.payload.toJSON();\r\n          x[\"$key\"] = element.key;\r\n          this.tagsList.push(x as User);\r\n        });\r\n        console.log(this.tagsList);\r\n      });\r\n      \r\n      this.bookService.getBooks()\r\n      .snapshotChanges().subscribe(item => {\r\n        this.bookList = [];\r\n        item.forEach((element) => {\r\n          let x = element.payload.toJSON();\r\n          x[\"$key\"] = element.key;\r\n          this.bookList.push(x as Book);\r\n        });\r\n        this.macthRecomended = this.bookList;\r\n        $this.callTags(this.bookList,this.tagsList);\r\n        $this.coments(this.bookList,this.registerList);\r\n      });  \r\n    }\r\n\r\n    async callTags(lista,tags){\r\n    let Key;\r\n    let entries;\r\n\r\n    const Email = firebase.auth().currentUser.email;\r\n    lista.forEach((element) => {\r\n      if (\"Tags\" in element){\r\n        entries = Object.values(element.Tags);\r\n        this.arrTagsBooks.push({tags: entries, name: element.Title});\r\n      }\r\n    });\r\n    // console.log(this.arrTagsBooks);\r\n    this.tagsList = Object.values(tags[0]);   \r\n  }\r\n\r\n  getBooksByTag(){\r\n    let entries;\r\n    console.log(\"this.tag\");\r\n    console.log(this.tag);\r\n\r\n    if (this.tag == \"All\") {\r\n      this.macthRecomended = this.booksList;\r\n    } else {\r\n      this.macthRecomended = [];\r\n      this.bookList.forEach((element,index) => {\r\n        if (\"Tags\" in element){\r\n          entries = Object.values(element.Tags);\r\n          console.log(entries);\r\n          for (let i = 0; i < entries.length; i++) {\r\n            if (this.tag == entries[i]) {\r\n              this.macthRecomended.push(element);\r\n            }\r\n          }\r\n          \r\n        }\r\n      });      \r\n    }\r\n    console.log(\"this.macthRecomended\");\r\n    console.log(this.macthRecomended);\r\n\r\n    if (this.macthRecomended.length == 0){\r\n      this.macthRecomended = this.bookList;\r\n    }\r\n\r\n    \r\n  }\r\n\r\n  activateSelect(i){\r\n    let activate = document.getElementById(\"activateGroupSelect\"+i);\r\n    activate.style.display = \"block\";\r\n  }\r\n\r\n  async sendComentario(nombreLibro,i){\r\n\r\n    const Email = firebase.auth().currentUser.email;\r\n\r\n    if(this.comentario != ''){\r\n      let Key;\r\n\r\n     await this.bookList.forEach((element,index) => {\r\n        if (\"Title\" in element){\r\n          if (element.Title == nombreLibro) {\r\n            Key = element.$key;\r\n          }      \r\n        }\r\n      });\r\n\r\n      console.log(\"Key\");\r\n      console.log(Key);\r\n\r\n      this.firebase.database.ref(\"books\").child(Key).child(\"Comentarios\").push({\r\n        Comment: this.comentario,\r\n        User: Email\r\n      });\r\n      \r\n      this.toastr.success('Comentario enviado', 'Exitosamente');\r\n      this.comentario = \"\";\r\n      let activateComent = document.getElementById(\"activateComentInput\"+i);\r\n      activateComent.style.display = \"none\";\r\n    }\r\n  }\r\n\r\n\r\n  getMyGroupsAndBooks(list){\r\n    let entries;\r\n    let entriesBooks;\r\n    const Email = firebase.auth().currentUser.email;\r\n\r\n    list.forEach((element,index) => {\r\n      if (element.email == Email) {\r\n        if (\"Groups\" in element){\r\n          entries = Object.keys(element.Groups);\r\n          for (let i = 0; i < entries.length; i++) {\r\n            if (element.Groups[entries[i]].category == \"owner\") {\r\n              this.booksListGroup.push(element.Groups[entries[i]].groupName);\r\n            }\r\n          }        \r\n        }\r\n      }\r\n      \r\n      // if (\"MisLibros\" in element){\r\n      //   entriesBooks = Object.keys(element.MisLibros);\r\n      //   for (let i = 0; i < entriesBooks.length; i++) {\r\n      //     this.booksListGroup.push(element.MisLibros[entriesBooks[i]].Titulo);\r\n      //   }        \r\n      // }\r\n    });\r\n  }\r\n\r\n  activateComent(i){\r\n    let activateComent = document.getElementById(\"activateComentInput\"+i);\r\n    activateComent.style.display = \"block\";\r\n  }\r\n\r\n   async coments(books,register){\r\n\r\n    let entries;\r\n    let bookComentLocal = [];\r\n    this.bookComents = [];\r\n    bookComentLocal = this.bookComents;\r\n    console.log(\"bookComentLocal\");\r\n    console.log(bookComentLocal);\r\n    console.log(\"this.bookComents\");\r\n    console.log(this.bookComents);\r\n\r\n    await books.forEach((element) => {\r\n        if (\"Comentarios\" in element){\r\n          entries = Object.keys(element.Comentarios);\r\n          for (let i = 0; i < entries.length; i++) {\r\n            bookComentLocal.push({Comment: element.Comentarios[entries[i]].Comment, User: element.Comentarios[entries[i]].User, Title: element.Title}); \r\n          }\r\n          \r\n        }      \r\n    });\r\n    console.log(\" register\");\r\n    console.log(register);\r\n\r\n    await register.forEach((element) => {\r\n      if (bookComentLocal.length != 0) {\r\n\r\n        for (let i = 0; i < bookComentLocal.length; i++) {\r\n\r\n          if (bookComentLocal[i].User== element.email){\r\n            if (\"Images\" in element){            \r\n              entries = Object.keys(element.Images);\r\n              let index = entries.length-1;\r\n              bookComentLocal[i].Images = element.Images[entries[index]].ImgUrl;\r\n              bookComentLocal[i].name = element.name + \" \" + element.lname;\r\n            } else {\r\n              bookComentLocal[i].Images = \"../../../../../../assets/img/NoImage.png\";\r\n              bookComentLocal[i].name = element.name + \" \" + element.lname;\r\n            }\r\n          }  \r\n        }  \r\n      }       \r\n    });\r\n    console.log(\"bookComentLocal\");\r\n    console.log(bookComentLocal);\r\n      \r\n    }\r\n\r\n      UserAcount (){\r\n      // var user = this.firebaseAuth.auth.currentUser;\r\n      \r\n      let $this = this;\r\n      firebase.auth().onAuthStateChanged(function(user) {\r\n        if (user) {\r\n  \r\n          // User is signed in.\r\n          \r\n          if (user != null) {\r\n            user.providerData.forEach(function (profile) {\r\n              // console.log(\"Sign-in provider: \" + profile.providerId);\r\n              // console.log(\"  Provider-specific UID: \" + profile.uid);\r\n              // console.log(\"  Name: \" + profile.displayName);\r\n              // console.log(\"  Email: \" + profile.email);\r\n              // $this.addBookToUser(profile.email,\"\");\r\n            });\r\n          }\r\n          // console.log(user);\r\n        } else {\r\n          // No user is signed in.\r\n        }\r\n      });\r\n    }\r\n\r\n\r\n  async  doLogout() {\r\n    await this.authService.logout();\r\n    this.router.navigate(['/']);\r\n  }\r\n\r\n  imagen: any;\r\n  titulo: any;\r\n  autor: any;\r\n  confirm: any = false;\r\n  contador: number= 0;\r\n  arr: any[] = [];\r\n\r\n  ngFormLibro = new FormGroup({\r\n    imagen: new FormControl(),\r\n    titulo: new FormControl(),\r\n    autor: new FormControl(),      \r\n  });\r\n\r\n  async addBookToUser(i){\r\n    let Key;\r\n    let alink;\r\n\r\n    const Email = firebase.auth().currentUser.email;\r\n      this.imagen = this.macthRecomended[i].Portada;\r\n      this.titulo = this.macthRecomended[i].Title;\r\n      this.autor = this.macthRecomended[i].Autor;\r\n      alink = this.macthRecomended[i].alink;\r\n\r\n      await this.firebase.database.ref(\"register\").once(\"value\", (users) => {\r\n        users.forEach((user) => {\r\n          // console.log(\"entre nivel1\");\r\n          const childKey = user.key;\r\n          const childData = user.val();\r\n          if (childData.email == Email) {\r\n            Key = childKey;\r\n            user.forEach((info) => {\r\n              info.forEach((MisLibros) => {\r\n                MisLibros.forEach((Libros) => {\r\n                  const LibrosChildKey = Libros.key;\r\n                  const LibrosChildData = Libros.val();\r\n                if (LibrosChildKey == \"Titulo\"){\r\n                  if (LibrosChildData == this.titulo){\r\n                    this.arr.push(LibrosChildData);\r\n                  }\r\n                }\r\n                });\r\n                \r\n              });\r\n            });\r\n          }        \r\n        });\r\n      });\r\n      for (let i = 0; i < this.arr.length; i++) {\r\n        if (this.arr[i]==this.titulo){\r\n          this.contador ++;\r\n        }        \r\n      }\r\n      if (this.contador==0){\r\n        this.confirm = true;\r\n      } else {\r\n        this.toastr.error('El libro ya se encuentra en tu lista', 'Fallido');\r\n      }\r\n      if (this.confirm == true){\r\n        this.firebase.database.ref(\"register\").child(Key).child(\"MisLibros\").push({\r\n          Imagen: this.imagen,\r\n          Titulo: this.titulo,\r\n          Autor: this.autor,\r\n          alink: alink,\r\n          Pag: 0\r\n        });\r\n        this.toastr.success('Libro añadido a tu lista', 'Exitosamente');\r\n      }\r\n\r\n    this.contador = 0;\r\n    this.confirm = false;\r\n    this.arr = [];  \r\n  }\r\n\r\n  goToPerfil(email){\r\n    this.router.navigate(['externalProfiles',{email: email}]);\r\n  }\r\n  \r\n  async addBookToGroup(i){\r\n    let alink;\r\n    let keygroup;\r\n    let booksinGroup: any[] = [];\r\n    let entries;\r\n    let contador = 0;\r\n    let activate = document.getElementById(\"activateGroupSelect\"+i);\r\n    activate.style.display = \"none\";\r\n    \r\n    this.titulo = this.macthRecomended[i].Title;\r\n    this.imagen = this.macthRecomended[i].Portada;\r\n    this.autor = this.macthRecomended[i].Autor;\r\n    alink = this.macthRecomended[i].alink;\r\n    \r\n\r\n    await this.firebase.database.ref(\"groups\").once(\"value\", (users) => {\r\n      users.forEach((user) => {\r\n        // console.log(\"entre nivel1\");\r\n        const childKey = user.key;\r\n        const childData = user.val();\r\n        if (childData.name == this.groupValue) {\r\n          keygroup = childKey;\r\n        }        \r\n      });\r\n    });\r\n    \r\n    this.groupList.forEach((element) => {\r\n\r\n      if (element.name == this.groupValue) {\r\n        if (\"books\" in element){\r\n          entries = Object.keys(element.books);\r\n          for (let i = 0; i < entries.length; i++) {\r\n            booksinGroup.push(element.books[entries[i]].Titulo);     \r\n          }\r\n             \r\n        }\r\n      } \r\n    });\r\n\r\n    if (booksinGroup.length == 0) {\r\n      this.firebase.database.ref(\"groups\").child(keygroup).child(\"books\").push({\r\n        Autor: this.autor,\r\n        Imagen: this.imagen,\r\n        Titulo: this.titulo,\r\n        alink: alink,\r\n        Pag: 0\r\n      });\r\n      booksinGroup.push(this.titulo);\r\n      this.toastr.success('Libro añadido a tu grupo', 'Exitosamente');\r\n    }\r\n\r\n    for (let i = 0; i < booksinGroup.length; i++) {\r\n      if (this.titulo == booksinGroup[i]){\r\n        contador ++;\r\n      }\r\n    }\r\n\r\n    if (contador == 0) {\r\n\r\n      this.firebase.database.ref(\"groups\").child(keygroup).child(\"books\").push({\r\n        Autor: this.autor,\r\n        Imagen: this.imagen,\r\n        Titulo: this.titulo,\r\n        alink: alink,\r\n        Pag: 0\r\n      });\r\n      booksinGroup.push(this.titulo);\r\n      this.toastr.success('Libro añadido a tu grupo', 'Exitosamente');\r\n\r\n    } else {\r\n      this.toastr.error('El libro ya se encuentra en el grupo');\r\n    }\r\n    this.groupValue = \"\";\r\n  }\r\n  \r\n  async SendContact() {\r\n    \r\n    let Key;\r\n    const ContactName = this.FormAdd.controls.Namecontact.value;\r\n    let ContactNumber = this.FormAdd.controls.Numbercontact.value;\r\n    const Email = firebase.auth().currentUser.email;\r\n    let emailRegexp = new RegExp(/^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/g);\r\n    let userExist;\r\n\r\n    await this.firebase.database.ref('register').once('value', users => {\r\n      users.forEach(user => {\r\n        const childKey = user.key;\r\n        const childData = user.val();\r\n        if (childData.email == Email) {\r\n          Key = childKey;\r\n          // console.log(\"entramos\", childKey);\r\n        }\r\n        // console.log(\"recorrido\", childKey);\r\n      });\r\n    });\r\n\r\n    if (ContactNumber.match(emailRegexp)) {\r\n      // Es correo\r\n      // console.log(\"Es correo\");\r\n      userExist = this.registerList.find(user => user.email == ContactNumber);\r\n      ContactNumber = userExist && userExist.email || undefined;\r\n      if (!userExist) {\r\n        // console.log(\"Este usuario no existe\")\r\n      } else {\r\n        // console.log(ContactName, ContactNumber);\r\n        this.firebase.database.ref('register').child(Key).child('contacts').push({\r\n          Namecontact: ContactName,\r\n          Numbercontact: ContactNumber,\r\n        });\r\n      }\r\n    } else {\r\n      // console.log(\"Es teléfono\");\r\n      // Es teléfono\r\n      userExist = this.registerList.find(user => user.telefono.e164Number == ContactNumber && user);\r\n      if (!userExist) {\r\n        // console.log(\"Este usuario no existe\")\r\n      } else {\r\n        // console.log(ContactName, ContactNumber);\r\n        this.firebase.database.ref('register').child(Key).child('contacts').push({\r\n          Namecontact: ContactName,\r\n          Numbercontact: ContactNumber,\r\n        });\r\n      }\r\n    } \r\n\r\n    this.FormAdd.reset({\r\n      Namecontact: \"\",\r\n      Numbercontact: \"\",\r\n    });\r\n  }\r\n\r\n\r\n\r\n}\r\n","<app-navigation-bar></app-navigation-bar>\r\n\r\n<!-- <script src=\"../dist/epub.js\"></script>\r\n<script src=\"js/reader.js\"></script> -->\r\n<div class=\"name\">{{name}}</div>\r\n\r\n<!-- <div id=\"container\"> -->\r\n    <mat-drawer-container class=\"example-container\" >\r\n\r\n        \r\n            <mat-drawer position=\"end\" #drawer class=\"chat\" mode=\"side\">\r\n                <button type=\"button\" mat-button (click)=\"drawer.close()\">Go to book</button>\r\n                <app-book-chat *ngFor=\"let msg of msgs\" [msg]=\"msg\"></app-book-chat>\r\n    \r\n                <textarea id=\"msgID\" [formControl]=\"msgForm\" type=\"text\" class=\"inputMSG\"></textarea>\r\n                <button (click)=\"sendMsg()\" type=\"submit\" class=\"button is-info\" style=\"padding: 5px;\">Enviar\r\n                    mensaje</button>\r\n            </mat-drawer>\r\n       \r\n\r\n\r\n        <!-- firstPage -->\r\n        <button type=\"button\" *ngIf=\"isGroup\" mat-button (click)=\"drawer.toggle()\">Go to chat</button>\r\n        \r\n    <div id=\"container\">\r\n        <div class=\"example-sidenav-content\">\r\n\r\n\r\n            <div class=\"epubContainer\" style=\"height: 500px; width: 80vw;\">\r\n                <button id=\"BtnContinue\" (click)=\"btnDisplay()\" (click)=\"epubViewer.goTo(this.pag)\">Continuar\r\n                    Leyendo</button>\r\n\r\n                <angular-epub-viewer padding=\"10px\" #epubViewer></angular-epub-viewer>\r\n            </div>\r\n\r\n\r\n            <button (click)=\"previousPage()\">Previous page</button>\r\n            <button (click)=\"nextPage()\">Next page</button>\r\n\r\n\r\n        </div>\r\n    </div>\r\n\r\n\r\n\r\n    </mat-drawer-container>\r\n<!-- </div> -->\r\n   \r\n\r\n\r\n\r\n\r\n<app-footer></app-footer>","import { Component, OnInit, Input, ViewChild} from '@angular/core';\r\nimport { MatSliderModule } from '@angular/material/slider';\r\nimport { MessageI } from 'src/app/models/MessageI';\r\nimport { pageChange } from 'src/app/models/pageChange';\r\nimport { ChatService } from 'src/app/services/chat.service';\r\nimport { FormControl } from \"@angular/forms\";\r\nimport { Subscription } from 'rxjs';\r\nimport { AngularEpubViewerComponent, AngularEpubViewerModule } from 'angular-epub-viewer';\r\nimport {ActivatedRoute} from '@angular/router';\r\nimport * as firebase from \"firebase\";\r\nimport { AngularFireDatabase } from '@angular/fire/database';\r\nimport { UserService } from 'src/app/services/user.service';\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-book-pdf',\r\n  templateUrl: './book-pdf.component.html',\r\n  styleUrls: ['./book-pdf.component.scss']\r\n})\r\n\r\nexport class BookPDFComponent implements OnInit {\r\n\r\n  @ViewChild('epubViewer')\r\n  epubViewer: AngularEpubViewerComponent;\r\n\r\n  msgs: Array<MessageI> =[];\r\n  msgForm: FormControl;\r\n  subscriptionList: {\r\n    connection: Subscription,\r\n    newMgs: Subscription,\r\n    pageUpdate: Subscription\r\n  } = {\r\n      connection: undefined,\r\n      newMgs: undefined,\r\n      pageUpdate: undefined\r\n  };\r\n  url;\r\n  pag;\r\n  title;\r\n  group;\r\n  isGroup=false;\r\n  public name: string \r\n\r\n    constructor(public chatService:ChatService, public route: ActivatedRoute, private firebase: AngularFireDatabase, \r\n      public userService : UserService) {\r\n    this.msgForm = new FormControl();\r\n   }\r\n\r\n  ngOnInit(): void { \r\n\r\n    this.url=this.route.snapshot.paramMap.get(\"url\");\r\n    this.pag=this.route.snapshot.paramMap.get(\"Pag\");\r\n    this.title=this.route.snapshot.paramMap.get(\"title\");    \r\n    this.group=this.route.snapshot.paramMap.get(\"group\");\r\n    if(this.group!=\"\"){\r\n      this.isGroup=true;\r\n      this.initChat();\r\n    }\r\n    this.name = this.title; \r\n\r\n  }\r\n\r\n  ngAfterViewInit(){\r\n    this.epubViewer.openLink(this.url);\r\n  } \r\n\r\n  showFiller = false;\r\n\r\n  initChat() {\r\n    this.subscriptionList.connection = this.chatService.connect().subscribe(_ => {\r\n      console.log(\"Nos conectamos\");\r\n      this.subscriptionList.newMgs = this.chatService.getNewMsgs().subscribe((msg: MessageI) => {\r\n        \r\n        if(msg.group==this.group && msg.book==this.title){\r\n          this.msgs.push(msg);\r\n        }\r\n      });\r\n      this.subscriptionList.pageUpdate = this.chatService.getChangePage().subscribe((info: pageChange) =>{\r\n        if(info.group==this.group && info.book==this.title){\r\n          if(info.page == \"Next\") this.epubViewer.nextPage()\r\n          else if(info.page == \"Previous\") this.epubViewer.previousPage()\r\n          // else if (info.page == \"Continue\") this.epubViewer.goTo(5); AIUDA\r\n        }\r\n      })\r\n    });\r\n  }\r\n\r\n\r\n  nextPage(){\r\n    const pageInfo: pageChange = {group: this.group,book:this.title,page:\"Next\"}\r\n\r\n    this.savePage(1);\r\n    \r\n    if(this.group!=\"\"){\r\n      this.chatService.sendpageChange(pageInfo)\r\n    }\r\n    this.epubViewer.nextPage()\r\n  }\r\n\r\n\r\n  previousPage(){\r\n\r\n    this.savePage(-1);\r\n\r\n    const pageInfo: pageChange = {group: this.group,book:this.title,page:\"Previous\"}\r\n    if(this.group!=\"\"){\r\n      this.chatService.sendpageChange(pageInfo)\r\n    }\r\n    this.epubViewer.previousPage()\r\n  }\r\n\r\n  \r\n  async sendMsg() {\r\n    // console.log(firebase.auth().currentUser);\r\n    let img= \"\"\r\n    await this.userService.getUserImg(firebase.auth().currentUser.email).then(value =>{\r\n      img = value \r\n    });\r\n\r\n    const msg: MessageI = {\r\n      content: this.msgForm.value,\r\n      time: Date.now().toString(),\r\n      user: img == \"\" ? \"../../../../../../assets/img/NoImage.png\" : img,\r\n      group: this.group,\r\n      book:this.title \r\n    }\r\n    this.chatService.sendMsg(msg);\r\n    this.msgForm.setValue(\"\");\r\n  }\r\n\r\n  async savePage (pag: number) {\r\n\r\n    if(this.isGroup==false){\r\n      const email= firebase.auth().currentUser.email;\r\n      const ref = this.firebase.database.ref('register');\r\n  \r\n      ref.orderByChild('email').equalTo(email).limitToLast(1).once(\"value\", (user) =>{\r\n  \r\n          console.log(user.val()); \r\n          user=user.val();\r\n          let userKey=Object.keys(user);\r\n          console.log(userKey);\r\n          let books = user[Object.keys(user)[0]].MisLibros;\r\n          let bookKeys = Object.keys(books);\r\n        \r\n  \r\n        bookKeys.forEach(element => {\r\n          \r\n            if(books[element].Titulo==this.title){\r\n              console.log(books[element].Titulo);\r\n    \r\n              let currentpage = books[element].Pag;\r\n              this.firebase.database.ref(\"register\").child(userKey[0]).child(\"MisLibros\").child(element).child(\"Pag\").set(currentpage+pag);\r\n    \r\n            }\r\n                  \r\n        });\r\n      \r\n      });\r\n    }else{\r\n      const ref = this.firebase.database.ref('groups');\r\n      ref.orderByChild('name').equalTo(this.group).limitToLast(1).once(\"value\", (group) =>{\r\n  \r\n        group=group.val();\r\n        let groupKey=Object.keys(group);\r\n        let books = group[Object.keys(group)[0]].books;\r\n        let bookKeys = Object.keys(books);\r\n\r\n      bookKeys.forEach(element => {\r\n        \r\n          if(books[element].Titulo==this.title){\r\n  \r\n            let currentpage = books[element].Pag;\r\n            this.firebase.database.ref(\"groups\").child(groupKey[0]).child(\"books\").child(element).child(\"Pag\").set(currentpage+pag);\r\n  \r\n          }\r\n                \r\n      });\r\n    \r\n    });\r\n    }\r\n  }\r\n\r\n  btnDisplay(){\r\n    document.getElementById(\"BtnContinue\").style.display=\"none\";\r\n  }\r\n}\r\n\r\n","<app-navigation-bar></app-navigation-bar>\r\n\r\n<div class=\"app\">\r\n    <div class=\"container\" [formGroup]=\"ngFormProfile\">\r\n\r\n        <div class=\"perfilContainer\">\r\n\r\n            <div class=\"photoContainer\">\r\n                <app-file-upload (imgUrlEmitter)=\"getImg($event)\"></app-file-upload>\r\n                <img class=\"Photoimg\" src=\"../../../../../../assets/img/NoImage.png\" srcset=\"\" alt=\"\" id=\"img\">\r\n            </div>\r\n\r\n\r\n            <div class=\"ContainerDescription\">\r\n                <h1 class=\"name\"></h1>\r\n                <textarea id=\"descripcionID\" formControlName=\"descripcion\" type=\"text\"\r\n                    class=\"inputDescripcion\"></textarea>\r\n                <label for=\"descripcion\">\r\n\r\n\r\n                </label>\r\n                <button (click)=\"SendDescription()\" type=\"submit\" class=\"button is-info\"\r\n                    style=\"padding: 5px;\">Actualizar\r\n                    descripción</button>\r\n            </div>\r\n\r\n\r\n\r\n            <div class=\"tagsContainer\">\r\n\r\n                <h1 class=\"name\" style=\"margin-top: 20px;\">Mis tags</h1>\r\n\r\n                <table class=\"table\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th scope=\"col\" style=\"color: #205493;\">Tag</th>\r\n                            <th scope=\"col\" style=\"color: #205493;\">Eliminar</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr *ngFor=\"let misTags of misTagsList; let i = index\" id=\"{{'contTag'+i}}\">\r\n                            <th><label id=\"{{'mitag'+i}}\">{{misTags.Tags}}</label></th>\r\n                            <th><img (click)=\"deleteSth('eliminate-'+i)\" id=\"{{'eliminate'+i}}\"\r\n                                    src=\"../../../../assets/img/xIcon.svg\" alt=\"tag\" class=\"tagImg\"></th>\r\n\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n                <button (click)=\"goToTags()\" type=\"submit\" class=\"button is-info\"\r\n                    style=\"padding: 5px; width: max-content;\">Añadir nuevos\r\n                    tags</button>\r\n            </div>\r\n        </div>\r\n\r\n\r\n\r\n\r\n        <!-- <label for=\"\">Mis Libros</label>\r\n        <div *ngFor=\"let misLibros of misLibrosList; let i = index\" \">\r\n\r\n            <img id=\"{{'imagen'+i}}\" [src]=\"misLibros.Imagen\" alt=\"imagenes\" class=\"bookImg\">\r\n            <h1 id=\"{{'titulo'+i}}\" align=\"center\">{{misLibros.Titulo}}</h1>\r\n            <h2 >{{misLibros.Autor}}</h2>\r\n            <img (click)=\"deleteBook('eliminate-'+i)\" id=\"{{'eliminate'+i}}\" src=\"../../../../assets/img/xIcon.svg\"\r\n                alt=\"tag\" class=\"tagImg\">\r\n\r\n        </div>\r\n\r\n\r\n -->\r\n\r\n\r\n\r\n        <div class=\"librosContainer\">\r\n\r\n            <h1 class=\"name\" style=\"margin-top: 40px;\">Mis Libros</h1>\r\n\r\n\r\n            <ngb-carousel>\r\n                <ng-template *ngFor=\"let misLibros of misLibrosList; let i = index\" id=\"{{'mislibros'+i}}\" ngbSlide>\r\n\r\n                    <div>\r\n\r\n                        <div (click)=goToBook(i) class=\"picsum-img-wrapper\">\r\n                            <img class=\"portadaImg\" id=\"{{'imagen'+i}}\" [src]=\"misLibros.Imagen\"\r\n                                alt=\"Random first slide\">\r\n\r\n                        </div>\r\n                        <div class=\"carousel-caption\" style=\"z-index: 0;\">\r\n                            <img (click)=\"deleteBook(i)\" id=\"{{'eliminate'+i}}\" src=\"../../../../assets/img/xIcon.svg\"\r\n                                alt=\"tag\" class=\"tagImg\">\r\n                            <h3 id=\"{{'titulo'+i}}\" align=\"center\">{{misLibros.Titulo}}</h3>\r\n                            <p id=\"{{'autor'+i}}\" align=\"center\" style=\"margin-bottom:10px\">{{misLibros.Autor}}</p>\r\n                        </div>\r\n                    </div>\r\n                </ng-template>\r\n            </ngb-carousel>\r\n        </div>\r\n\r\n\r\n\r\n        <h1 class=\"name\" style=\"margin-top: 20px;\">Mis Amigos</h1>\r\n        <div *ngFor=\"let misAmigos of misAmigosList; let i = index\" class=\"{{'containerAmigos'+i}}\"\r\n            id=\"friendsContainer\">\r\n            <img (click)=\"goToPerfil(misAmigos.User)\" id=\"{{'foto'+i}}\" [src]=\"misAmigos.Images\" alt=\"foto\"\r\n                class=\"friendImg\">\r\n            <p (click)=\"goToPerfil(misAmigos.User)\" class=\"friendsName\">{{misAmigos.name}}</p>\r\n            <img (click)=\"deleteFriend(i,misAmigos.User)\" id=\"{{'eliminate'+i}}\" src=\"../../../../assets/img/xIcon.svg\"\r\n                alt=\"tag\" class=\"tagImg2\">\r\n        </div>\r\n\r\n\r\n        <h1 class=\"name\" style=\"margin-top: 20px;\">Mis grupos</h1>\r\n        <div *ngFor=\"let misgrupos of misGroupsList; let i = index\" class=\"{{'containerAmigos'+i}}\"\r\n            id=\"friendsContainer\">\r\n            <img (click)=\"goToGroup(misgrupos.name)\" id=\"{{'foto'+i}}\" [src]=\"misgrupos.Images\" alt=\"foto\"\r\n                class=\"friendImg\">\r\n            <p (click)=\"goToGroup(misgrupos.name)\" class=\"friendsName\">{{misgrupos.name}}</p>\r\n            <!-- ESTE ELIMINAR NO ESTÁ FUNCIONANDO -->\r\n            <img id=\"{{'eliminate'+i}}\" src=\"../../../../assets/img/xIcon.svg\" alt=\"tag\" class=\"tagImg2\">\r\n\r\n        </div>\r\n\r\n\r\n    </div>\r\n</div>\r\n\r\n<app-footer></app-footer>","import { FilterPipe } from \"src/app/pipes/filter.pipe\";\r\nimport { Component, OnInit } from \"@angular/core\";\r\nimport { AuthService } from \"src/app/services/auth.service\";\r\nimport { UserService } from \"src/app/services/user.service\";\r\nimport { AngularFireAuth } from \"@angular/fire/auth\";\r\nimport { FormControl, FormGroup } from \"@angular/forms\";\r\nimport * as firebase from \"firebase\";\r\nimport { Router } from \"@angular/router\";\r\nimport { ToastrService } from \"ngx-toastr\";\r\nimport { AngularFireDatabase, AngularFireList } from \"@angular/fire/database\";\r\nimport { NgbCarouselConfig } from \"@ng-bootstrap/ng-bootstrap\";\r\nimport { TagService } from \"src/app/services/tag.service\";\r\nimport { BookService } from \"src/app/services/book.service\";\r\nimport { User } from \"src/app/models/user\";\r\nimport { Group } from \"src/app/models/group\";\r\n\r\n@Component({\r\n  selector: \"app-profile\",\r\n  templateUrl: \"./profile.component.html\",\r\n  styleUrls: [\"./profile.component.scss\"],\r\n})\r\nexport class ProfileComponent implements OnInit {\r\n  userInfoList: User[];\r\n  misTagsList: any[] = [];\r\n  misLibrosList: any[] = [];\r\n  ImageSelected: string;\r\n  registerList: User[];\r\n  Currentimg: string;\r\n  CurrentDescription: string;\r\n  UserName: string;\r\n  UserLastName: string;\r\n  FulName: string;\r\n  misAmigosList: any[] = [];\r\n  keyOrdenList: any[] = [];\r\n  KeyUSER: string = \"\";\r\n  keyOrdenAmigosList: any[] = [];\r\n  keyOrdenBooksList: any[] = [];\r\n  amigoEmail: any;\r\n  misGroupsList: any[] = [];\r\n  groupList: Group[];\r\n\r\n  ngFormProfile = new FormGroup({\r\n    descripcion: new FormControl(),\r\n  });\r\n\r\n  constructor(\r\n    private _config: NgbCarouselConfig,\r\n    public authService: AuthService,\r\n    private firebaseAuth: AngularFireAuth,\r\n    private userService: UserService,\r\n    private bookService: BookService,\r\n    private router: Router,\r\n    private firebase: AngularFireDatabase,\r\n    private toastr: ToastrService,\r\n    private filterpipe: FilterPipe,\r\n    private tagService: TagService\r\n  ) {}\r\n\r\n  async ngOnInit() {\r\n    this.UserAcount();\r\n\r\n    this.userService\r\n      .getRegister()\r\n      .snapshotChanges()\r\n      .subscribe((item) => {\r\n        this.registerList = [];\r\n        item.forEach((element) => {\r\n          let x = element.payload.toJSON();\r\n          x[\"$key\"] = element.key;\r\n          this.registerList.push(x as User);\r\n        });\r\n        this.archieveGroups(this.groupList, this.registerList);\r\n        this.getMisAmigos();\r\n      });\r\n\r\n    this.userService\r\n      .getGroups()\r\n      .snapshotChanges()\r\n      .subscribe((item) => {\r\n        this.groupList = [];\r\n        item.forEach((element) => {\r\n          let x = element.payload.toJSON();\r\n          x[\"$key\"] = element.key;\r\n          this.groupList.push(x as Group);\r\n        });\r\n        this.archieveGroups(this.groupList, this.registerList);\r\n        this.getMisGrupos();\r\n      });\r\n\r\n    //  await this.PrintConsistance();\r\n    //  await this.UpdatePerfilPhoto();\r\n    //  await this.WhoIsWritingMe();\r\n    //  await this.SearchImg();\r\n  }\r\n\r\n  archieveGroups(list, list2) {\r\n    this.groupList = list;\r\n    this.registerList = list2;\r\n  }\r\n\r\n  goToHome() {\r\n    this.router.navigate([\"/home\"]);\r\n  }\r\n  goToProfile() {\r\n    this.router.navigate([\"/profile\"]);\r\n  }\r\n  goToTags() {\r\n    this.router.navigate([\"/tags\"]);\r\n  }\r\n  goToBook(i: string) {\r\n    // console.log(this.misLibrosList[i]);\r\n    // console.log(this.misLibrosList[i].link);\r\n    this.router.navigate(['/book',{Pag: this.misLibrosList[i].Pag, title: this.misLibrosList[i].Titulo,url: this.misLibrosList[i].alink,group:\"\"}]);\r\n  }\r\n\r\n  async doLogout() {\r\n    await this.authService.logout();\r\n    this.router.navigate([\"/\"]);\r\n  }\r\n\r\n  UserAcount() {\r\n    // var user = this.firebaseAuth.auth.currentUser;\r\n    let $this = this;\r\n    firebase.auth().onAuthStateChanged(function (user) {\r\n      if (user) {\r\n        // User is signed in.\r\n\r\n        if (user != null) {\r\n          user.providerData.forEach(function (profile) {\r\n            // console.log(\"Sign-in provider: \" + profile.providerId);\r\n            // console.log(\"  Provider-specific UID: \" + profile.uid);\r\n            // console.log(\"  Name: \" + profile.displayName);\r\n            // console.log(\"  Email: \" + profile.email);\r\n            // console.log(\"  Phone Number: \" + profile.photoURL);\r\n            $this.UpdatePerfilPhoto(profile.email);\r\n            $this.getNameUser(profile.email);\r\n            $this.getDescriptionUser(profile.email);\r\n            $this.getMisLibros();\r\n            $this.getMisTags();\r\n          });\r\n        }\r\n      } else {\r\n        // No user is signed in.\r\n      }\r\n    });\r\n  }\r\n\r\n  //---------------------------------------------------INIT DROP ZONE--------------------------------------------------------\r\n  fileUrl: string;\r\n  ImgUrl: string;\r\n  ImgGUrl: string;\r\n\r\n  getUrl(event) {\r\n    this.fileUrl = event;\r\n  }\r\n\r\n  async getImg(event) {\r\n    this.ImgUrl = event;\r\n    const Email = firebase.auth().currentUser.email;\r\n    await this.SendImage();\r\n    await this.UpdatePerfilPhoto(Email);\r\n  }\r\n\r\n  // async getGroupImg(event){\r\n  //   this.ImgGUrl = event;\r\n  //   console.log(\"URL recibida en padre: \" + this.ImgGUrl);\r\n  //  await this.groupImage();\r\n  // }\r\n\r\n  async SendImage() {\r\n    if (this.ImgUrl) {\r\n      let Key;\r\n      const Email = firebase.auth().currentUser.email;\r\n\r\n      await this.firebase.database.ref(\"register\").once(\"value\", (users) => {\r\n        users.forEach((user) => {\r\n          const childKey = user.key;\r\n          const childData = user.val();\r\n          if (childData.email == Email) {\r\n            Key = childKey;\r\n          }\r\n        });\r\n      });\r\n\r\n      this.firebase.database.ref(\"register\").child(Key).child(\"Images\").push({\r\n        ImgUrl: this.ImgUrl,\r\n      });\r\n\r\n      this.toastr.success(\"Photo subida\", \"Exitosamente\");\r\n    }\r\n  }\r\n\r\n  getMisGrupos() {\r\n    const Email = firebase.auth().currentUser.email;\r\n    let entries;\r\n    this.misGroupsList = [];\r\n    \r\n    this.registerList.forEach((element, index) => {\r\n      if (Email == element.email) {\r\n        if (\"Groups\" in element) {\r\n          entries = Object.keys(element.Groups);\r\n          for (let i = 0; i < entries.length; i++) {\r\n            this.misGroupsList.push({\r\n              name: element.Groups[entries[i]].groupName,\r\n            });\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    this.groupList.forEach((element, index) => {\r\n      console.log(\"element.name\");\r\n      console.log(element.name);\r\n      for (let i = 0; i < this.misGroupsList.length; i++) {\r\n        if (this.misGroupsList[i].name == element.name) {\r\n          if (\"Images\" in element) {\r\n            entries = Object.keys(element.Images);\r\n            this.misGroupsList[i].Images = element.Images[entries[0]].ImgUrl;\r\n          } else {\r\n            this.misGroupsList[i].Images = \"../../../../../../assets/img/NoImage.png\";\r\n          }\r\n          \r\n        }\r\n      }  \r\n    });\r\n  }\r\n\r\n  //-----------------------------------------------------Update perfil photo----------------------------------------------\r\n\r\n  async UpdatePerfilPhoto(Mail) {\r\n    let Key;\r\n\r\n    const Email = Mail;\r\n\r\n    await this.firebase.database.ref(\"register\").once(\"value\", (users) => {\r\n      users.forEach((user) => {\r\n        const childKey = user.key;\r\n        const childData = user.val();\r\n        if (childData.email == Email) {\r\n          Key = childKey;\r\n          user.forEach((info) => {\r\n            info.forEach((Images) => {\r\n              Images.forEach((ImgUrl) => {\r\n                const ImagesChildKey = ImgUrl.key;\r\n                const ImagesChildData = ImgUrl.val();\r\n                const filter = /https:/gm;\r\n\r\n                if (ImagesChildKey == \"ImgUrl\") {\r\n                  this.Currentimg = ImagesChildData;\r\n                }\r\n              });\r\n            });\r\n          });\r\n        }\r\n      });\r\n    });\r\n\r\n    if (!this.Currentimg) {\r\n      this.Currentimg = \"../../../../../../assets/img/NoImage.png\";\r\n      const query: string = \".container .Photoimg\";\r\n      const Photoimg: any = document.querySelector(query);\r\n      // const query2: string = \"#app .profile\";\r\n      // const profile: any = document.querySelector(query2);\r\n      Photoimg.src = this.Currentimg;\r\n      // profile.src = this.Currentimg;\r\n    } else {\r\n      const query: string = \".container .Photoimg\";\r\n      const Photoimg: any = document.querySelector(query);\r\n      // const query2: string = \"#app .profile\";\r\n      // const profile: any = document.querySelector(query2);\r\n      Photoimg.src = this.Currentimg;\r\n      // profile.src = this.Currentimg;\r\n    }\r\n  }\r\n  //-----------------------------------------------------End Update perfil photo--------------------------------------\r\n\r\n  //-----------------------------------------------------Search IMg----------------------------------------------\r\n  //   async SearchImg(){\r\n\r\n  //     let Key;\r\n  //     let ContactNumber = this.FormAdd.controls.Numbercontact.value;\r\n\r\n  //     await this.firebase.database.ref(\"register\").once(\"value\", (users) => {\r\n  //       users.forEach((user) => {\r\n  //         const childKey = user.key;\r\n  //         const childData = user.val();\r\n  //  // PRIMERA PASADA PARA RECORRER PRIMERA CAPA\r\n  //         if (childData.email == ContactNumber || childData.telefono.e164Number == ContactNumber) {\r\n  //           Key = childKey;\r\n  //           // SEGUNDA PASADA PARA RECORRER DENTRO DEL USUARIO\r\n  //           user.forEach((info) => {\r\n  //             const infoChildKey = info.key;\r\n  //             const infoChildData = info.val();\r\n  //             // SEGUNDA PASADA PARA RECORRER DENTRO DE CONTACTS\r\n  //             info.forEach((Images) => {\r\n  //               const imagesChildKey = Images.key;\r\n  //               const imagesChilData = Images.val();\r\n  //               // SEGUNDA PASADA PARA RECORRER LOS NUMERO Y NOMBRE\r\n  //               Images.forEach((ImgUrl) => {\r\n  //                 const ImagesChildKey = ImgUrl.key;\r\n  //                 const ImagesChildData = ImgUrl.val();\r\n  //                 const filter = /https:/gm;\r\n\r\n  //                 if (ImagesChildKey == \"ImgUrl\"){\r\n  //                   this.ImageSelected = ImagesChildData;\r\n  //                 }\r\n\r\n  //               });\r\n  //             });\r\n  //           });\r\n  //         }\r\n  //       });\r\n  //     });\r\n  //     return this.ImageSelected;\r\n  //   }\r\n  //-----------------------------------------------------ENd Search IMg----------------------------------------------\r\n  //-----------------------------------------------------Start get name----------------------------------------------\r\n\r\n  async getNameUser(Mail) {\r\n    let Key;\r\n    const Email = Mail;\r\n    await this.firebase.database.ref(\"register\").once(\"value\", (users) => {\r\n      users.forEach((user) => {\r\n        const childKey = user.key;\r\n        const childData = user.val();\r\n        if (childData.email == Email) {\r\n          Key = childKey;\r\n          if (childData.lname != \"\" && childData.name != \"\") {\r\n            this.UserName = childData.name;\r\n            this.UserLastName = childData.lname;\r\n            this.FulName = this.UserName.concat(\" \" + this.UserLastName);\r\n          }\r\n        }\r\n      });\r\n    });\r\n\r\n    if (this.UserName != \"\") {\r\n      const query: string = \".container .name\";\r\n      document.querySelector(query).innerHTML = this.FulName;\r\n    } else {\r\n      const query: string = \".container .name\";\r\n      document.querySelector(query).innerHTML = \"Nombre no registrado\";\r\n      this.toastr.error(\"Error al buscar el nombre\", \"Error\");\r\n    }\r\n  }\r\n  //-----------------------------------------------------End get name----------------------------------------------\r\n  //-----------------------------------------------------Start Send descrition------------------------------------------\r\n  async SendDescription() {\r\n    const query: string = \".container .inputDescripcion\";\r\n    const Descript: any = document.querySelector(query);\r\n    const Description = Descript.value;\r\n\r\n    if (Description != \"\") {\r\n      let Key;\r\n      const Email = firebase.auth().currentUser.email;\r\n      await this.firebase.database.ref(\"register\").once(\"value\", (users) => {\r\n        users.forEach((user) => {\r\n          const childKey = user.key;\r\n          const childData = user.val();\r\n          if (childData.email == Email) {\r\n            Key = childKey;\r\n          }\r\n        });\r\n      });\r\n\r\n      this.firebase.database.ref(\"register\").child(Key).child(\"Descripcion\").push({\r\n          Descripcion: Description,\r\n        });\r\n\r\n      this.toastr.success(\"Descripcion actualizada\", \"Exitosamente\");\r\n    }\r\n  }\r\n  //-----------------------------------------------------END Send descrition------------------------------------------\r\n  //-----------------------------------------------------Start Get descrition------------------------------------------\r\n  async getDescriptionUser(Mail) {\r\n    let Key;\r\n    // firebase.auth().currentUser.email\r\n    const Email = Mail;\r\n    await this.firebase.database.ref(\"register\").once(\"value\", (users) => {\r\n      users.forEach((user) => {\r\n        const childKey = user.key;\r\n        const childData = user.val();\r\n        if (childData.email == Email) {\r\n          Key = childKey;\r\n          user.forEach((info) => {\r\n            info.forEach((Description) => {\r\n              Description.forEach((DescriptionText) => {\r\n                const DescriptionChildKey = DescriptionText.key;\r\n                const DescriptionChildData = DescriptionText.val();\r\n\r\n                if (DescriptionChildKey == \"Descripcion\") {\r\n                  this.CurrentDescription = DescriptionChildData;\r\n                }\r\n              });\r\n            });\r\n          });\r\n        }\r\n      });\r\n    });\r\n\r\n    if (this.CurrentDescription != \"\") {\r\n      const query: string = \".inputDescripcion\";\r\n      const element: any = document.querySelector(query);\r\n      element.value = this.CurrentDescription;\r\n    }\r\n    const query: string = \"#descripcionID\";\r\n    const Descripcion: any = document.querySelector(query);\r\n    let DescripcionValue = Descripcion.value;\r\n\r\n    if (DescripcionValue == \"undefined\") {\r\n      DescripcionValue = \"Ingresa tu descripción\";\r\n    }\r\n  }\r\n  //-----------------------------------------------------Start get Mislibros------------------------------------------\r\n  async getMisLibros() {\r\n    const Email = firebase.auth().currentUser.email;\r\n\r\n    await this.firebase.database.ref(\"register\").once(\"value\", (users) => {\r\n      let usersData = users.val();\r\n      let user;\r\n      Object.keys(usersData).forEach((key) => {\r\n        if (usersData[key].email == Email) {\r\n          user = usersData[key];\r\n        }\r\n      });\r\n      if (user.MisLibros) {\r\n        Object.keys(user.MisLibros).forEach((key) => {\r\n          this.misLibrosList.push(user.MisLibros[key]);\r\n        });\r\n      }  \r\n    });\r\n  }\r\n\r\n  //-----------------------------------------------------END get Mislibros------------------------------------------\r\n\r\n  getMisAmigos() {\r\n    let entries;\r\n    // console.log(\"this.registerList\");\r\n    // console.log(this.registerList);\r\n    this.misAmigosList = [];\r\n\r\n    const Email = firebase.auth().currentUser.email;\r\n    this.registerList.forEach((element, index) => {\r\n      if (Email == element.email) {\r\n        if (\"Amigos\" in element) {\r\n          entries = Object.keys(element.Amigos);\r\n          for (let i = 0; i < entries.length; i++) {\r\n            this.misAmigosList.push({\r\n              name: element.Amigos[entries[i]].NombreAmigo,\r\n            });\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n\r\n    this.registerList.forEach((element, index) => {\r\n      for (let i = 0; i < this.misAmigosList.length; i++) {\r\n\r\n        if (this.misAmigosList[i]) {\r\n          if (this.misAmigosList[i].name == element.name + \" \" + element.lname) {\r\n            this.misAmigosList[i].User = element.email;\r\n            if (\"Images\" in element) {\r\n              entries = Object.keys(element.Images);\r\n              let index = entries.length - 1;\r\n              this.misAmigosList[i].Images = element.Images[entries[index]].ImgUrl;\r\n            } else {\r\n              this.misAmigosList[i].Images = \"../../../../../../assets/img/NoImage.png\";\r\n            }\r\n            \r\n          }\r\n        }\r\n        \r\n      }\r\n      \r\n    });\r\n\r\n  }\r\n\r\n  goToPerfil(email){\r\n    this.router.navigate(['externalProfiles',{email: email}]);\r\n  }\r\n\r\n  goToGroup(name){\r\n    this.router.navigate(['groups',{name: name}]);\r\n  }\r\n\r\n  //-----------------------------------------------------Start get MisTags------------------------------------------\r\n\r\n  async getMisTags() {\r\n    let Key;\r\n    let Tags = {};\r\n    let keyTAGS;\r\n\r\n    const Email = firebase.auth().currentUser.email;\r\n\r\n    await this.firebase.database.ref(\"register\").once(\"value\", (users) => {\r\n      users.forEach((user) => {\r\n        // console.log(\"entre nivel1\");\r\n        const childKey = user.key;\r\n        const childData = user.val();\r\n        if (childData.email == Email) {\r\n          this.KeyUSER = childKey;\r\n          user.forEach((info) => {\r\n            info.forEach((MisTags) => {\r\n              const pruebakey = MisTags.key;\r\n              keyTAGS = pruebakey;\r\n\r\n              MisTags.forEach((Tag) => {\r\n                const TagChildKey = Tag.key;\r\n                const TagChildData = Tag.val();\r\n                if (TagChildKey == \"Tag\") {\r\n                  Tags = TagChildData;\r\n                  // console.log(aut);\r\n                  // this.misTagsList.push({Tags:TagChildData});\r\n                  if (Tags != \"\") {\r\n                    // console.log(\"info key\");\r\n                    // console.log(keyTAGS);\r\n                    this.keyOrdenList.push(keyTAGS);\r\n                    this.misTagsList.push({ Tags });\r\n                  }\r\n                }\r\n              });\r\n            });\r\n          });\r\n        }\r\n      });\r\n    });\r\n  }\r\n  //-----------------------------------------------------END get MisTags------------------------------------------\r\n\r\n  async deleteSth(i) {\r\n    let index = i.split(\"-\");\r\n    let query2: string = \"#contTag\" + index[1];\r\n    let cont: any = document.querySelector(query2);\r\n    cont.style.display = \"none\";\r\n    this.tagService.deleteTag(this.keyOrdenList[index[1]], this.KeyUSER);\r\n    this.toastr.warning(\"Tag eliminado\", \"Exitosamente\");\r\n  }\r\n\r\n  async deleteBook(i) {\r\n    console.log(\"ENTRÉ\");\r\n    // let index = i.split(\"-\");\r\n    let query2: string = \"#mislibros\" + i;\r\n    console.log(\"QUERY\",query2);\r\n    let cont: any = document.querySelector(query2);\r\n    console.log(\"CONT\",cont);\r\n    //por el carrusel no encuentra el query2\r\n    // console.log(cont);\r\n    // cont.style.display = \"none\";\r\n\r\n    this.bookService.deleteBooks(\r\n      this.keyOrdenBooksList[i],\r\n      this.KeyUSER\r\n    );\r\n    this.toastr.warning(\"Libro eliminado\", \"Exitosamente\");\r\n  }\r\n\r\n  async deleteFriend(i,deleteEmail) {\r\n    let query2: string = \".containerAmigos\" + i;\r\n    let cont: any = document.querySelector(query2);\r\n    cont.style.display = \"none\";\r\n    const Email = firebase.auth().currentUser.email;\r\n    let myKey;\r\n    let entries;\r\n    let friendKey;\r\n    let keys; \r\n\r\n    this.registerList.forEach((element) => {\r\n      if (element.email == Email) {\r\n        myKey = element.$key;\r\n        if (\"Amigos\" in element){          \r\n          entries = Object.values(element.Amigos);\r\n          keys = Object.keys(element.Amigos);\r\n  \r\n          for (let i = 0; i < entries.length; i++) {\r\n            if (entries[i].Contacto == deleteEmail){\r\n              friendKey = keys[i];\r\n            }\r\n          }\r\n        } \r\n      }\r\n    });\r\n\r\n\r\n    this.userService.deleteFriends(\r\n      friendKey,\r\n      myKey\r\n    );\r\n    this.toastr.error(\"Amigo eliminado\", \"Exitosamente\");\r\n  }\r\n\r\n  \r\n  async editUserName(register: User) {\r\n    let variable;\r\n    this.userService.updateUsername(variable);\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'filterTags'\r\n})\r\nexport class FilterTagsPipe implements PipeTransform {\r\n\r\n  transform(value: any, args: any): any {\r\n    if (args === '') {\r\n      return value;\r\n    }\r\n    const resultSearchBox = [];\r\n    for (const post of value) {\r\n      if (post.Categoria.toLowerCase().indexOf(args.toLowerCase()) > -1 ){\r\n        resultSearchBox.push(post);\r\n      }      \r\n    }\r\n    return resultSearchBox;\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { AngularFireDatabase, AngularFireList } from '@angular/fire/database';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class TagService {\r\n\r\n  tagsList:  AngularFireList<any>;\r\n\r\n  constructor(private firebase: AngularFireDatabase) { }\r\n\r\n  getTags()\r\n  {\r\n    this.tagsList = this.firebase.list('tags');\r\n    return this.tagsList;\r\n  }\r\n\r\n  deleteTag(tagkey: string,$key: string)\r\n  {\r\n    console.log(\"delete $key\");\r\n    console.log(tagkey);\r\n    this.firebase.database.ref(\"register\").child($key).child(\"Tags\").child(tagkey).remove();\r\n  }\r\n\r\n  deleteIntegrant(tagkey: string,$key: string)\r\n  {\r\n    console.log(\"delete $key\");\r\n    console.log(tagkey);\r\n    this.firebase.database.ref(\"register\").child($key).child(\"Groups\").child(tagkey).remove();\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { AngularFireAuth } from '@angular/fire/auth';\r\nimport * as firebase from 'firebase';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthService {\r\n\r\n  constructor(private firebaseAuth: AngularFireAuth) { }\r\n\r\n  async logout() {\r\n    await firebase.auth().signOut();\r\n  }\r\n}","<app-navigation-bar></app-navigation-bar>\r\n\r\n<div class=\"app\">\r\n  <div class=\"containerComponents\">\r\n    <!-- ---------------------------------------------------Firt page------------------------------------------------ -->\r\n    <div *ngIf=\"firstPage == true\" style=\"margin-top: 20% !important;\" class=\"containerButtons\">\r\n\r\n      <h1 class=\"name\">Buscar un Nuevo Grupo</h1>\r\n\r\n      <button class=\"button is-info\" id=\"boton\" (click)=\"createGroup()\">Crear grupo</button>\r\n      <button class=\"button is-info\" (click)=\"searchGroupF()\">Buscar grupo</button>\r\n\r\n      <h1 class=\"name\" style=\"margin-top: 30px; \">Mis grupos</h1>\r\n      <div class=\"subName\" style=\"font-size: large;\">Buscar:</div>\r\n      <input type=\"text\" name=\"searchBoxExternal\" placeholder=\"\" [(ngModel)]=\"searchBoxExternal\">\r\n\r\n\r\n      <div class=\"card\" style=\"width: 18rem; margin-top: 15px;\"\r\n        *ngFor=\"let user of myGroups | filterExternalProfiles:searchBoxExternal; let i = index\">\r\n        <img class=\"card-img-top\" alt=\"Card image cap\" (click)=\"viewExternalGroup(user.name)\" id=\"{{'imagenGroup'+i}}\"\r\n          [src]=\"user.Images\" alt=\"imagenes\" class=\"groupImg\">\r\n\r\n\r\n        <div class=\"card-body\">\r\n          <h1 class=\"card-title\" (click)=\"viewExternalGroup(user.name)\" id=\"{{'nombre'+i}}\" align=\"center\">{{user.name}}\r\n          </h1>\r\n          <p class=\"card-text\" id=\"{{'descripcion'+i}}\" align=\"center\">{{user.description}}</p>\r\n          <button class=\"button is-info\" style=\"margin-right: 10px;\" (click)=\"viewExternalGroup(user.name)\">Ver\r\n            Grupo</button>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n<!-- ---------------------------------------------------Create Group----------------------------------------------- -->\r\n<div class=\"app\">\r\n  <div class=\"containerComponents\">\r\n\r\n    <form class=\"forms\" style=\"margin-top: 15px;\" *ngIf=\"viewCreateGroup == true\" [formGroup]=\"ngForm\">\r\n      \r\n      <button class=\"button is-info\" id=\"volver\" style=\"align-self: left;\" (click)=\"goBack()\">Volver</button>\r\n\r\n      <input style=\"display: none;\" [(ngModel)]=\"owner\" class=\"input\" formControlName=\"owner\" type=\"text\">\r\n\r\n      <h1 class=\"name\" style=\"margin-top: 30px; \">Crear nuevo Grupo</h1>\r\n\r\n      <label class=\"subName\" for=\"name\">Nombre del Grupo</label>\r\n      <div class=\"field\">\r\n        <input class=\"input\" formControlName=\"name\" type=\"text\" placeholder=\"Nombre del Grupo\" required>\r\n      </div>\r\n\r\n      <label class=\"subName\" for=\"description\">Descripción</label>\r\n      <div class=\"field\">\r\n        <input class=\"input\" type=\"text\" formControlName=\"description\" placeholder=\"Descripción\" required>\r\n      </div>\r\n\r\n      <label class=\"subName\" for=\"tags\">Agregar integrantes</label>\r\n      <div class=\"field\" style=\"height: 15vh;\">\r\n        <select  id=\"select\" style=\"height: 100%;\" required formControlName=\"integrants\" multiple>\r\n          <option value=\"\" disabled selected>Seleccione uno o muchos</option>\r\n          <option *ngFor=\"let amigos of amigosList\" [value]=\"amigos\">{{amigos}}</option>\r\n        </select>\r\n      </div>\r\n\r\n      <label class=\"subName\" for=\"privacity\">Privacidad del grupo</label>\r\n      <div >\r\n        <select id=\"select\" required formControlName=\"privacity\">\r\n          <option value=\"\" disabled selected>Seleccione uno</option>\r\n          <option value=\"publico\">Público</option>\r\n          <option value=\"privado\">Privado</option>\r\n        </select>\r\n      </div>\r\n\r\n      <br> <label class=\"subName\" for=\"tags\">Tags del grupo</label>\r\n      <div class=\"field\" style=\"height: 25vh;\">\r\n        <select id=\"select\" style=\"height: 100%;\" required formControlName=\"tags\" multiple>\r\n          <option value=\"\" disabled selected>Seleccione uno o multiples</option>\r\n          <option *ngFor=\"let tags of tagsList\" [value]=\"tags\">{{tags}}</option>\r\n        </select>\r\n      </div>\r\n\r\n      <div style=\"padding-bottom: 20px; padding-top: 5px;\" class=\"registrar\">\r\n        <div class=\"buttons\">\r\n          <button [disabled]=\"ngForm.invalid\" type=\"submit\" class=\"button is-info\"\r\n            (click)=\"onSubmit()\">Crear Grupo</button>\r\n          <!-- <button class=\"button is-success\" (click)=\"goToLogin()\">Back to Login</button> -->\r\n        </div>\r\n      </div>\r\n\r\n    </form>\r\n    <div *ngIf=\"nextImage == true\">\r\n      <app-file-upload (imgUrlEmitter)=\"getImg($event)\"></app-file-upload>\r\n      <img class=\"createGroupPhotoimg\" [src]=\"Currentimg\" srcset=\"\" alt=\"\" id=\"img\">\r\n    </div>\r\n\r\n  </div>\r\n</div>\r\n<!-- ---------------------------------------------Search Groups view--------------------------------------------- -->\r\n\r\n<div class=\"app\" style=\"margin-top: -80px;\">\r\n  <div class=\"containerComponents\">\r\n    <div *ngIf=\"viewsearchGroup == true\" class=\"containerSearchGroups\">\r\n\r\n      <button class=\"button is-info\" id=\"volver\" style=\"align-self: left;\"  (click)=\"goBack()\">Volver</button>\r\n\r\n      <h1 class=\"name\" id=\"name\" style=\"margin-top: 10px;\">Encuentra grupos</h1>\r\n\r\n      <div class=\"subName\" style=\"font-size: large;\">Buscar:</div>\r\n      <input type=\"text\" name=\"searchBoxExternal\" placeholder=\"Buscar\" style=\"margin-bottom: 10px;\" [(ngModel)]=\"searchBoxExternal\">\r\n\r\n      <div class=\"card\" style=\"width: 18rem; margin-bottom: 15px;\"\r\n        *ngFor=\"let user of groupList | filterExternalProfiles:searchBoxExternal; let i = index\">\r\n        <img class=\"card-img-top\" alt=\"Card image cap\" (click)=\"viewExternalGroup(user.name)\" id=\"{{'imagenGroup'+i}}\"\r\n          [src]=\"user.Images\" alt=\"imagenes\" class=\"groupImg\">\r\n\r\n\r\n        <div class=\"card-body\">\r\n          <h1 class=\"card-title\" (click)=\"viewExternalGroup(user.name)\" id=\"{{'nombre'+i}}\" align=\"center\">{{user.name}}\r\n          </h1>\r\n          <p class=\"card-text\" id=\"{{'descripcion'+i}}\" align=\"center\">{{user.description}}</p>\r\n          <p class=\"card-text\" id=\"{{'privacity'+i}}\" align=\"center\">{{user.privacity}}</p>\r\n          <button class=\"button is-info\" style=\"margin-right: 10px;\" (click)=\"viewExternalGroup(user.name)\">Ver\r\n            Grupo</button>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n<!-- ---------------------------------------------------Group perfil--------------------------------------------------- -->\r\n<div class=\"app\" style=\"margin-top: -80px; padding-bottom: 30px;\">\r\n  <div class=\"containerComponents\">\r\n    <div class=\"groupContainer\" *ngIf=\"viewInsideGroup == true\">\r\n\r\n      <div *ngFor=\"let select of selectedGroup\">\r\n      \r\n        <button class=\"button is-info\" id=\"volver\" style=\"align-self: left;\" (click)=\"goBack()\">Volver</button>\r\n      \r\n        <div class=\"photoContainer\">\r\n          <img class=\"Photoimg\" [src]=\"select.Images\" srcset=\"\" alt=\"\" id=\"img\">\r\n        </div>\r\n      \r\n        <div class=\"ContainerDescription\" style=\"margin-top: 10px;\">\r\n          <h1 class=\"name\">{{select.name}}</h1>\r\n      \r\n      \r\n          <div class=\"buttons\">\r\n            <button *ngIf=\"permisoAdd == true\" (click)=\"addToTheGroup(select.name)\" type=\"submit\" class=\"button is-info\"\r\n              style=\"padding: 5px; \">Ingresar al grupo</button>\r\n            <button *ngIf=\"permisoAdd == false && permisoAdmin == true\" (click)=\"quitGroup(select.name)\" type=\"submit\"\r\n              class=\"button is-danger\" style=\"padding: 5px;\">Abandonar grupo</button>\r\n          </div>\r\n      \r\n      \r\n          <div class=\"container\">\r\n            <h2 class=\"integrants\">Descripción</h2>\r\n            <div *ngIf=\"select.owner == owner\">\r\n              <textarea class=\"inputDescripcion\" type=\"text\" [(ngModel)]='descripcion'\r\n                class=\"inputDescripcion\">{{select.description}}</textarea>\r\n            </div>\r\n      \r\n            <div *ngIf=\"select.owner != owner\">\r\n              <textarea disabled type=\"text\" [(ngModel)]='descripcion'\r\n                class=\"inputDescripcion\">{{select.description}}</textarea>\r\n            </div>\r\n            \r\n            <div class=\"buttons\" style=\"width: 100%;\">\r\n              <button  *ngIf=\"select.owner == owner\" (click)=\"SendDescription(select.name)\" type=\"submit\" class=\"button is-info\" >Actualizar descripción</button>\r\n            </div>\r\n          </div>\r\n\r\n          \r\n        </div> \r\n\r\n\r\n        <div class=\"ownerContainer\">\r\n          <table class=\"table\">\r\n            <thead>\r\n              <tr>\r\n                <th scope=\"col\" style=\"color: #205493;\">Creador</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr>\r\n                <th><label id=\"{{'owner'+i}}\">{{nameOwner}}</label></th>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n\r\n        <div *ngIf=\"permisoVisual == true\" class=\"integrantsContainer\">\r\n\r\n          <h1 class=\"integrants\" style=\"margin-top: 20px;\">Integrantes</h1>\r\n\r\n          <table class=\"table\">\r\n            <thead>\r\n              <tr>\r\n                <th scope=\"col\" style=\"color: #205493;\">integrantes</th>\r\n                <th *ngIf=\"select.owner == owner\" scope=\"col\" style=\"color: #205493;\">Eliminar</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr *ngFor=\"let integrantes of selectedIntegrants; let i = index\">\r\n                <th id=\"{{'intregante'+i}}\"><label>{{integrantes}}</label></th>\r\n                <th *ngIf=\"select.owner == owner\"><img  (click)=\"deleteSth(integrantes,select.name,i)\" id=\"{{'eliminate'+i}}\"\r\n                                        src=\"../../../../assets/img/xIcon.svg\" alt=\"tag\" class=\"tagImg\"></th>\r\n\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n\r\n\r\n        <div class=\"tagsContainer\">\r\n\r\n\r\n          <table class=\"table\">\r\n            <thead>\r\n              <tr>\r\n                <th scope=\"col\" style=\"color: #205493;\">Tag</th>\r\n                <th *ngIf=\"select.owner == owner\" scope=\"col\" style=\"color: #205493;\">Eliminar</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr *ngFor=\"let grouptags of selectedTags; let i = index\" id=\"{{'contTag'+i}}\">\r\n                <th><label id=\"{{'mitag'+i}}\">{{grouptags}}</label></th>\r\n                <th *ngIf=\"select.owner == owner\"><img  (click)=\"deleteSth('eliminate-'+i)\" id=\"{{'eliminate'+i}}\"\r\n                                          src=\"../../../../assets/img/xIcon.svg\" alt=\"tag\" class=\"tagImg\"></th>\r\n\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n          <div class=\"buttons\" style=\"width: 100%;\">\r\n            <button *ngIf=\"select.owner == owner\" (click)=\"goToTags()\" type=\"submit\" class=\"button is-info\"\r\n            style=\"padding: 5px; width: max-content;\">Añadir nuevos tags</button>\r\n          </div>\r\n         \r\n        </div>\r\n\r\n        <div *ngIf=\"permisoVisual == true\" class=\"librosContainer\">\r\n\r\n          <h1 *ngIf=\"librosGrupo\" class=\"name\" style=\"margin-top: 40px;\">Libros del grupo</h1>\r\n          <ngb-carousel>\r\n            <ng-template *ngFor=\"let librosGrupo of librosGrupo; let i = index\" id=\"{{'librosGrupo'+i}}\" ngbSlide>\r\n              <div class=\"eliminate\">\r\n                <img *ngIf=\"select.owner == owner\" (click)=\"deleteBook('eliminate-'+i)\" id=\"{{'eliminate'+i}}\"\r\n                src=\"../../../../assets/img/xIcon.svg\" alt=\"tag\" class=\"tagImg\" style=\"margin-bottom: 5px;\">\r\n              </div>\r\n\r\n              <div  class=\"carusel\">\r\n        \r\n                <div (click)=goToBook(i) class=\"picsum-img-wrapper\">\r\n                  <img class=\"portadaImg\" id=\"{{'imagen'+i}}\" [src]=\"librosGrupo.Imagen\" alt=\"Random first slide\">\r\n\r\n                </div>\r\n                <div class=\"carousel-caption\" style=\"z-index: 0;\">\r\n                  <h3 id=\"{{'titulo'+i}}\" align=\"center\">{{librosGrupo.Titulo}}</h3>\r\n                  <p id=\"{{'autor'+i}}\" align=\"center\" style=\"margin-bottom:10px\">{{librosGrupo.Autor}}</p>\r\n                </div>\r\n              </div>\r\n            </ng-template>\r\n          </ngb-carousel>\r\n        </div>\r\n      </div>\r\n\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n<app-footer></app-footer>","import { UserService } from \"src/app/services/user.service\";\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { AngularFireAuth } from '@angular/fire/auth';\r\nimport { AngularFireDatabase } from '@angular/fire/database';\r\nimport { FormBuilder, FormControl, FormGroup } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { AuthService } from 'src/app/services/auth.service';\r\nimport * as firebase from \"firebase\";\r\nimport { Group } from \"src/app/models/group\";\r\nimport { TagService } from 'src/app/services/tag.service';\r\nimport { User } from 'src/app/models/user';\r\nimport {ActivatedRoute} from '@angular/router';\r\nimport { cpuUsage } from \"process\";\r\n\r\n@Component({\r\n  selector: 'app-group',\r\n  templateUrl: './group.component.html',\r\n  styleUrls: ['./group.component.scss']\r\n})\r\nexport class GroupComponent implements OnInit {\r\n\r\n  fileUrl: string;\r\n  ImgUrl:  string;\r\n  ImgGUrl:  string;\r\n  Currentimg = \"../../../../../../assets/img/NoImage.png\";\r\n  registerList: User[];\r\n  groupList: Group[];\r\n  amigosList: any[] = [];\r\n  amigosEmails: any[] = [];\r\n  tagsList: any[] = [];\r\n  owner: string;\r\n  searchBoxExternal= '';\r\n  selectedGroup: any[] = [];\r\n  selectedIntegrants: any[] = []; \r\n  selectedTags: any[] = [];\r\n  permisoVisual = true;\r\n  permisoAdd = true;\r\n  permisoAdmin = true;\r\n  nameOwner: string;\r\n  userName: string;\r\n  myGroups: any[] = [];\r\n  librosGrupo: any[] = [];\r\n  name;\r\n  openedGruop:string=\"\";\r\n  desaparecerBoton = true;\r\n  descripcion = \"\";\r\n\r\n  constructor(\r\n    private tagService: TagService,\r\n    private firebase: AngularFireDatabase,\r\n    private toastr: ToastrService,\r\n    private userService: UserService,\r\n    public route: ActivatedRoute,\r\n    private router: Router,) { }\r\n\r\n  viewCreateGroup = false;\r\n  firstPage = true;\r\n  viewsearchGroup = false;\r\n  nextImage = false;\r\n  viewInsideGroup = false;\r\n\r\n  ngOnInit(): void {\r\n    let $this = this;\r\n    \r\n    this.tagService.getTags()    \r\n      .snapshotChanges().subscribe(item => {\r\n        this.tagsList = [];\r\n        item.forEach(element => {\r\n          let x = element.payload.toJSON();\r\n          x[\"$key\"] = element.key;\r\n          this.tagsList.push(x as User);          \r\n        });\r\n        this.tagsList = Object.values(this.tagsList[0]);\r\n    });\r\n\r\n    this.userService.getGroups()\r\n      .snapshotChanges().subscribe(item => {\r\n        this.groupList = [];\r\n        item.forEach(element => {\r\n          let x = element.payload.toJSON();\r\n          x[\"$key\"] = element.key;\r\n          this.groupList.push(x as Group);\r\n        });\r\n        this.archieveGroups(this.groupList);\r\n        this.getImgGroups();\r\n      });\r\n\r\n      this.userService.getRegister()\r\n      .snapshotChanges().subscribe(item => {\r\n        this.registerList = [];\r\n        item.forEach(element => {\r\n          let x = element.payload.toJSON();\r\n          x[\"$key\"] = element.key;\r\n          this.registerList.push(x as User);\r\n        });\r\n        this.getMygroups();\r\n        this.getAmigos();\r\n      });\r\n      setTimeout(function () { \r\n        $this.name=$this.route.snapshot.paramMap.get(\"name\");\r\n        if ($this.name) {\r\n          $this.viewExternalGroup($this.name);          \r\n        }        \r\n        }, 1000);\r\n      \r\n  }\r\n  \r\n\r\n  ngForm = new FormGroup({\r\n    owner: new FormControl(),\r\n    photoimg: new FormControl(),\r\n    name: new FormControl(),\r\n    description: new FormControl(),\r\n    integrants: new FormControl(),    \r\n    privacity: new FormControl(),\r\n    tags: new FormControl(),\r\n  });\r\n\r\n  getUrl(event){\r\n    this.fileUrl = event;\r\n  }\r\n\r\n  async getImg(event){\r\n    this.ImgUrl = event;\r\n   await this.SendImage();\r\n   await this.UpdatePerfilPhoto();\r\n  //  await this.UpdatePerfilPhoto(Email);\r\n  }\r\n  \r\n  createGroup(){\r\n    this.firstPage = false;\r\n    this.viewCreateGroup = true;\r\n    this.ngForm.reset();\r\n  }\r\n\r\n  searchGroupF(){\r\n    this.viewsearchGroup = true;\r\n    this.firstPage = false;\r\n    this.nextImage = false;\r\n  }\r\n\r\n  goBack(){\r\n    this.firstPage = true;\r\n    this.viewsearchGroup = false;\r\n    this.viewCreateGroup = false;\r\n    this.nextImage = false;\r\n    this.viewsearchGroup = false;\r\n    this.viewInsideGroup = false;\r\n  }\r\n  \r\n  getMygroups (){\r\n    let entries;\r\n    this.owner = firebase.auth().currentUser.email;\r\n\r\n    this.registerList.forEach((element,index) => {\r\n      if (element.email == this.owner) {\r\n        if (\"Groups\" in element){\r\n          entries = Object.keys(element.Groups);\r\n          for (let i = 0; i < entries.length; i++) {\r\n            this.myGroups.push({name: element.Groups[entries[i]].groupName});          \r\n          }\r\n        }\r\n      }      \r\n    });\r\n\r\n    if (this.groupList) {\r\n      this.groupList.forEach((element,index) => {\r\n        \r\n        for (let i = 0; i < this.myGroups.length; i++) {\r\n          if (this.myGroups[i].name == element.name){\r\n            if (\"Images\" in element){\r\n              entries = Object.keys(element.Images);\r\n              this.myGroups[i].Images = element.Images;\r\n            }else {\r\n              this.myGroups[i].Images = \"../../../../../../assets/img/NoImage.png\";\r\n            }\r\n            this.myGroups[i].description = element.description;\r\n          } \r\n        }  \r\n      });\r\n      \r\n    }\r\n\r\n  }\r\n\r\n  \r\n\r\n  archieveGroups(arr){\r\n    this.groupList = arr;\r\n  }\r\n\r\n  getImgGroups(){\r\n    let entries;\r\n\r\n    this.groupList.forEach((element,index) => {\r\n      if (\"Images\" in element){\r\n        entries = Object.keys(element.Images);\r\n        this.groupList[index].Images = element.Images[entries[0]].ImgUrl;\r\n      } else {\r\n        this.groupList[index].Images = \"../../../../../../assets/img/NoImage.png\";\r\n      }\r\n    });\r\n  }\r\n\r\n  SendDescription(nombreGrupo){\r\n    let groupKey;\r\n    \r\n    console.log(\"this.descripcion\");\r\n    console.log(this.descripcion);\r\n\r\n    this.groupList.forEach((element) => {\r\n      if (element.name == nombreGrupo) {\r\n        groupKey = element.$key;\r\n        console.log(\"groupKey\");\r\n        console.log(groupKey); \r\n      }\r\n    });\r\n\r\n    this.userService.updateDescripcionGroup(\r\n      groupKey,\r\n      this.descripcion\r\n    );\r\n\r\n    this.toastr.success('Descripcion actualizada', 'Exitosamente', {\r\n      positionClass: 'toast-top-center'\r\n    });\r\n  }\r\n\r\n  quitGroup(nombreGrupo){\r\n    let entries;\r\n    let keyTodelete;\r\n    let keys;\r\n    let groupKey;\r\n\r\n    this.groupList.forEach((element) => {\r\n      if (element.name == nombreGrupo) {\r\n        groupKey = element.$key;\r\n        console.log(\"groupKey\");\r\n        console.log(groupKey);\r\n        if (\"integrants\" in element){          \r\n          entries = Object.values(element.integrants);\r\n          keys = Object.keys(element.integrants);\r\n  \r\n          for (let i = 0; i < entries.length; i++) {\r\n            if (entries[i].name == this.userName){\r\n              keyTodelete = keys[i];\r\n            }\r\n          }\r\n        } \r\n      }\r\n    });\r\n\r\n    this.userService.deleteGroups(\r\n      keyTodelete,\r\n      groupKey\r\n    );\r\n\r\n    this.toastr.error('Abandonaste este grupo', 'Exitosamente', {\r\n      positionClass: 'toast-top-center'\r\n    });\r\n\r\n    for (let i = 0; i < this.selectedIntegrants.length; i++) {\r\n      if (this.userName == this.selectedIntegrants[i]) {\r\n        this.selectedIntegrants.splice(i, 1);\r\n        this.permisoAdd = true;\r\n        console.log(this.selectedIntegrants);\r\n        if (this.userName != this.selectedIntegrants[i] && this.selectedGroup[0].privacity == \"privado\"){\r\n          this.permisoVisual = false;\r\n        } \r\n      }\r\n    }\r\n  }\r\n\r\n  async addToTheGroup(nombreGrupo){\r\n    this.owner = firebase.auth().currentUser.email;\r\n    let key;\r\n    let keygroup;\r\n    let nombre;\r\n    let entries;\r\n    let integrantes: any[] = [];\r\n    let estoy;\r\n\r\n    await this.firebase.database.ref(\"register\").once(\"value\", (users,index) => {\r\n      users.forEach((user) => {\r\n        const childKey = user.key;\r\n        const childData = user.val();\r\n        if (childData.email == this.owner) {\r\n          key = childKey;\r\n          nombre = childData.name + \" \" + childData.lname;\r\n        }        \r\n      });\r\n    });\r\n    await this.firebase.database.ref(\"groups\").once(\"value\", (users,index) => {\r\n      users.forEach((user) => {\r\n        const childKey = user.key;\r\n        const childData = user.val();\r\n        if (childData.name == nombreGrupo) {\r\n          keygroup = childKey;\r\n        }        \r\n      });\r\n    });\r\n    \r\n    this.groupList.forEach((element,index) => {\r\n      if (\"integrants\" in element){\r\n        \r\n        entries = Object.values(element.integrants);\r\n\r\n        for (let i = 0; i < entries.length; i++) {\r\n          integrantes.push(entries[i].name);\r\n        }\r\n      }\r\n    });\r\n\r\n    for (let i = 0; i < integrantes.length; i++) {\r\n        if (integrantes[i] != nombre) {\r\n          estoy = false;\r\n        } else {\r\n          estoy = true;\r\n        }\r\n    }\r\n    \r\n    if (estoy == false){\r\n      this.firebase.database.ref(\"register\").child(key).child(\"Groups\").push({\r\n        groupName: nombreGrupo,\r\n        category: \"integrant\"\r\n      });\r\n      this.firebase.database.ref(\"groups\").child(keygroup).child(\"integrants\").push({\r\n        name: nombre,\r\n      });\r\n      this.toastr.success('Te agregaste a este grupo', 'Exitosamente', {\r\n        positionClass: 'toast-top-center'\r\n      });\r\n      this.selectedIntegrants.push(nombre);\r\n      this.permisoAdd = false;\r\n      this.permisoVisual = true;\r\n    } else {\r\n      this.toastr.error('Ya estas en este grupo', '', {\r\n        positionClass: 'toast-top-center'\r\n      });\r\n    }\r\n    \r\n    \r\n  }\r\n  \r\n\r\n  viewExternalGroup(name){\r\n    this.viewInsideGroup = true;\r\n    this.viewsearchGroup = false;\r\n    this.firstPage = false;\r\n    this.viewCreateGroup = false;\r\n    this.nextImage = false;\r\n    this.permisoVisual= true;\r\n    this.permisoAdmin = true;\r\n    this.permisoAdd = true;\r\n    this.selectedGroup = [];\r\n    this.selectedIntegrants = [];\r\n    this.selectedTags = [];\r\n    this.librosGrupo = [];\r\n    let activeUser = firebase.auth().currentUser.email;\r\n    let temp: any[] = [];\r\n\r\n    let entries;\r\n    let entriesIntegrants;\r\n\r\n    this.groupList.forEach((element,index) => {\r\n      if (this.groupList[index].name == name){\r\n        \r\n        if(\"integrants\" in element){\r\n          entriesIntegrants = Object.values(element.integrants);\r\n  \r\n          for (let i = 0; i < entriesIntegrants.length; i++) {\r\n            this.selectedIntegrants.push(entriesIntegrants[i].name);\r\n          }\r\n        }\r\n        this.openedGruop=name;\r\n        \r\n        entries = Object.keys(element.Images);\r\n        this.selectedGroup.push(element);\r\n        this.descripcion = element.description;\r\n        \r\n        this.selectedTags.push(Object.values(element.tags));\r\n        if (element.books) {\r\n          temp.push(Object.values(element.books));\r\n        }  \r\n      }\r\n    });\r\n    \r\n\r\n\r\n    this.librosGrupo = temp[0];\r\n    // console.log(\"libros grupo\",this.librosGrupo);\r\n    \r\n    this.registerList.forEach((element,index) => {\r\n      for (let i = 0; i < this.groupList.length; i++) {\r\n        if (this.selectedGroup[0].owner == element.email) {\r\n          this.nameOwner = element.name + \" \" + element.lname;\r\n        }\r\n        if (activeUser == element.email){\r\n          this.userName = element.name + \" \" + element.lname;\r\n        }  \r\n      }  \r\n    });\r\n\r\n    for (let i = 0; i < this.selectedIntegrants.length; i++) {\r\n      if(this.userName == this.selectedIntegrants[i]){\r\n        this.permisoAdd = false;\r\n      }\r\n      \r\n      if (this.userName != this.selectedIntegrants[i] && this.selectedGroup[0].privacity == \"privado\"){\r\n        this.permisoVisual = false;\r\n      }    \r\n    }\r\n    \r\n    if(this.selectedGroup[0].owner == activeUser){\r\n      this.permisoAdd = false;\r\n      this.permisoAdmin = false;\r\n      this.permisoVisual = true;\r\n    }\r\n  }\r\n\r\n  goToPerfil(email){\r\n    this.router.navigate(['externalProfiles',{email: email}]);\r\n  }\r\n\r\n  goToBook(i: string) {\r\n    // console.log(\"CLICK LIBRO\",this.librosGrupo[i]);\r\n    // console.log(\"GRUPO\",this.openedGruop);\r\n    this.router.navigate(['/book',{Pag: this.librosGrupo[i].pag, title: this.librosGrupo[i].Titulo,url: this.librosGrupo[i].alink,group:this.openedGruop}]);\r\n  }\r\n\r\n\r\n  async getAmigos(){\r\n    this.owner = firebase.auth().currentUser.email; \r\n    this.amigosList = [];\r\n\r\n    await this.firebase.database.ref(\"register\").once(\"value\", (users) => {\r\n      users.forEach((user) => {\r\n        const childData = user.val();\r\n        if (childData.email == this.owner) {\r\n          user.forEach((info) => {\r\n            info.forEach((MisAmigos) => {\r\n              MisAmigos.forEach((Amigos) => {\r\n                const AmigosChildKey = Amigos.key;\r\n                const AmigosChildData = Amigos.val();\r\n              if (AmigosChildKey == \"NombreAmigo\"){              \r\n                this.amigosList.push(AmigosChildData);\r\n              }\r\n              if (AmigosChildKey == \"Contacto\"){\r\n                this.amigosEmails.push(AmigosChildData);\r\n              }\r\n              });\r\n              \r\n            });\r\n          });\r\n        }        \r\n      });\r\n    });\r\n  }\r\n\r\n  async deleteSth(integrante,nombreGrupo,id){\r\n    let KeyUSER;\r\n    let Keygroup;\r\n    await this.firebase.database.ref(\"register\").once(\"value\", (users) => {\r\n      users.forEach((user) => {\r\n        const childKey = user.key;\r\n        const childData = user.val();\r\n        if (childData.name + \" \" + childData.lname == integrante[0]) {\r\n          KeyUSER = childKey;\r\n          user.forEach((info) => {              \r\n            info.forEach((MisGrupos) => {\r\n              const MisgruposChildKey = MisGrupos.key;\r\n                MisGrupos.forEach((Groups) => {\r\n                  const GroupsChildKey = Groups.key;\r\n                  const GroupsChildData = Groups.val();\r\n                if (GroupsChildKey == \"groupName\" && GroupsChildData == nombreGrupo){\r\n                  Keygroup = MisgruposChildKey;\r\n                }              \r\n                });\r\n            });\r\n          });\r\n        }        \r\n      });\r\n    });\r\n    let integrant = document.getElementById(\"integrante\"+id);\r\n    integrant.style.display = 'none';\r\n    this.tagService.deleteIntegrant(Keygroup,KeyUSER);\r\n    this.toastr.error('Integrante eliminado', 'Exitosamente');    \r\n  }\r\n\r\n  async onSubmit(){\r\n    this.owner = firebase.auth().currentUser.email;\r\n    const nombreGrupo = this.ngForm.controls.name.value;\r\n    const integrant = this.ngForm.controls.integrants.value;\r\n\r\n    let nameExist = this.groupList.find(group => group.name == nombreGrupo);\r\n    let keyOwner;\r\n    let keyGroup;\r\n    let keyIntegrants = [];\r\n    let contador = 0;\r\n\r\n    if (nameExist) {\r\n      this.toastr.error('Ese nombre ya esta registrado', 'Intenta otro nombre', {\r\n        positionClass: 'toast-top-center'\r\n      });\r\n    } else{\r\n      this.toastr.success('El grupo ha sido creado', 'Exitosamente', {\r\n        positionClass: 'toast-top-center'\r\n      });\r\n      this.userService.createGroup(this.ngForm.value);\r\n      \r\n      this.nextImage = true;\r\n      await this.firebase.database.ref(\"register\").once(\"value\", (users,index) => {\r\n        users.forEach((user) => {\r\n          const childKey = user.key;\r\n          const childData = user.val();\r\n          if (childData.email == this.owner) {\r\n            keyOwner = childKey;\r\n          }\r\n          if (childData.email == this.amigosEmails[contador]) {\r\n            contador ++;\r\n            keyIntegrants.push(childKey);\r\n          }        \r\n        });\r\n      });\r\n\r\n      await this.firebase.database.ref(\"groups\").once(\"value\", (users,index) => {\r\n        users.forEach((user) => {\r\n          const childKey = user.key;\r\n          const childData = user.val();\r\n          if (childData.name == nombreGrupo) {\r\n            keyGroup = childKey;\r\n          }       \r\n        });\r\n      });\r\n      \r\n      if (keyGroup) {\r\n        for (let i = 0; i < integrant.length; i++) {\r\n          this.firebase.database.ref(\"groups\").child(keyGroup).child(\"integrants\").push({\r\n            name: integrant[i],\r\n          });\r\n        }\r\n        \r\n      }\r\n      \r\n\r\n      if (keyOwner) {\r\n        this.firebase.database.ref(\"register\").child(keyOwner).child(\"Groups\").push({\r\n          groupName: nombreGrupo,\r\n          category: \"owner\"\r\n        });\r\n      }\r\n      for (let i = 0; i < keyIntegrants.length; i++) {\r\n        this.firebase.database.ref(\"register\").child(keyIntegrants[i]).child(\"Groups\").push({\r\n          groupName: nombreGrupo,\r\n          category: \"integrant\"\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  \r\n\r\n  async SendImage (){\r\n    const nombreGrupo = this.ngForm.controls.name.value;\r\n\r\n    if(this.ImgUrl){\r\n      let Key;      \r\n      // const Email = firebase.auth().currentUser.email;\r\n\r\n      await this.firebase.database.ref(\"groups\").once(\"value\", (groups) => {\r\n        groups.forEach((group) => {\r\n          const childKey = group.key;\r\n          const childData = group.val();\r\n          if (childData.name == nombreGrupo) {\r\n            Key = childKey;\r\n          }\r\n                   \r\n        });\r\n      });\r\n\r\n      this.firebase.database.ref(\"groups\").child(Key).child(\"Images\").push({\r\n        ImgUrl: this.ImgUrl\r\n      });\r\n      \r\n      this.toastr.success('Foto subida', 'Exitosamente');\r\n    }\r\n  }\r\n\r\n  async UpdatePerfilPhoto(){\r\n    const nombreGrupo = this.ngForm.controls.name.value;\r\n    let Key;\r\n\r\n    await this.firebase.database.ref(\"groups\").once(\"value\", (users) => {\r\n      users.forEach((user) => {\r\n        const childKey = user.key;\r\n        const childData = user.val();     \r\n        if (childData.name == nombreGrupo) {\r\n          Key = childKey;\r\n          user.forEach((info) => {\r\n            info.forEach((Images) => {\r\n              Images.forEach((ImgUrl) => {\r\n                const ImagesChildKey = ImgUrl.key;\r\n                const ImagesChildData = ImgUrl.val();\r\n\r\n                if (ImagesChildKey == \"ImgUrl\"){\r\n                  this.Currentimg = ImagesChildData;\r\n                } \r\n              });\r\n            });\r\n          });\r\n        }\r\n      });\r\n    });\r\n\r\n    if(!this.Currentimg) {\r\n      this.Currentimg = \"../../../../../../assets/img/NoImage.png\";\r\n    }\r\n  }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-footer',\r\n  templateUrl: './footer.component.html',\r\n  styleUrls: ['./footer.component.scss']\r\n})\r\nexport class FooterComponent implements OnInit {\r\n\r\n  constructor(private router:Router,) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  goToProfile() {\r\n    this.router.navigate(['/profile']);\r\n  }\r\n\r\n  goToHome() {\r\n    this.router.navigate(['/home']);\r\n  }\r\n\r\n  goToGroups() {\r\n    this.router.navigate(['/groups']); \r\n  }\r\n\r\n  goToBook() {\r\n    this.router.navigate(['/mybooks']);\r\n  }\r\n\r\n  goToExternalProfiles() {\r\n    this.router.navigate(['/externalProfiles']);\r\n  }\r\n  \r\n\r\n}\r\n","<nav class=\"footer\">\r\n    <div class=\"container\">\r\n      <div class=\"footer-brand foot\" >  \r\n        <a class=\"footer-item\">\r\n          <img (click)=\"goToBook()\" class=\"imagen\"\r\n            src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbG5zOnN2Z2pzPSJodHRwOi8vc3ZnanMuY29tL3N2Z2pzIiB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgeD0iMCIgeT0iMCIgdmlld0JveD0iMCAwIDUxMi4wMDQgNTEyLjAwNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNTEyIDUxMiIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgY2xhc3M9IiI+PGc+CjxnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZD0iTTI5MS4wNTcsMjQyLjgxMWMxLjUxLDIuOTUzLDQuNTE0LDQuNjU5LDcuNjIsNC42NTljMS4yOTcsMCwyLjYyOC0wLjI5OSwzLjg2Ni0wLjkzICAgICBjMC41MDMtMC4yNTYsNTAuNzMxLTI1Ljc3MSw3NS41MDMtMzMuNTk2YzQuNDg5LTEuNDI1LDYuOTgtNi4yMjEsNS41NTUtMTAuNzA5Yy0xLjQxNy00LjQ4OS02LjE3OC02Ljk4OS0xMC43MDktNS41NzIgICAgIGMtMjYuMDk1LDguMjUyLTc1Ljk4MSwzMy41OTYtNzguMDk3LDM0LjY3MUMyOTAuNTk2LDIzMy40NjcsMjg4LjkyNCwyMzguNjA1LDI5MS4wNTcsMjQyLjgxMXoiIGZpbGw9IiNmZmZmZmYiIGRhdGEtb3JpZ2luYWw9IiMwMDAwMDAiIHN0eWxlPSIiIGNsYXNzPSIiPjwvcGF0aD4KCQkJPHBhdGggZD0iTTI5OC42NzcsMTQ1LjA3MWMxLjI5NywwLDIuNjI4LTAuMjk5LDMuODY2LTAuOTNjMC41MDMtMC4yNTYsNTAuNzMxLTI1Ljc3MSw3NS41MDMtMzMuNTk2ICAgICBjNC40ODktMS40MjUsNi45OC02LjIyMSw1LjU1NS0xMC43MDljLTEuNDE3LTQuNDg5LTYuMTc4LTYuOTg5LTEwLjcwOS01LjU3MmMtMjYuMDk1LDguMjUyLTc1Ljk4MSwzMy41OTYtNzguMDk3LDM0LjY3MSAgICAgYy00LjE5OCwyLjEzMy01Ljg3MSw3LjI3LTMuNzM4LDExLjQ3N0MyOTIuNTY3LDE0My4zNjQsMjk1LjU3MSwxNDUuMDcxLDI5OC42NzcsMTQ1LjA3MXoiIGZpbGw9IiNmZmZmZmYiIGRhdGEtb3JpZ2luYWw9IiMwMDAwMDAiIHN0eWxlPSIiIGNsYXNzPSIiPjwvcGF0aD4KCQkJPHBhdGggZD0iTTUwMy40NjksMTI4LjAwNGMtNC43MTksMC04LjUzMywzLjgyMy04LjUzMyw4LjUzM3YzMzIuOGMwLDE0LjExNC0xMS40ODYsMjUuNi0yNS42LDI1LjZoLTIwNC44di0xOS42MzUgICAgIGMxMi40NDItNC4zNTIsNDQuODUxLTE0LjQ5OCw3Ni44LTE0LjQ5OGM3NC4zMzQsMCwxMjQuODA5LDE2LjQ2MSwxMjUuMzEyLDE2LjYzMWMyLjU2OCwwLjg1Myw1LjQzNiwwLjQyNyw3LjY4LTEuMTc4ICAgICBjMi4yMjctMS42MDQsMy41NDEtNC4xODEsMy41NDEtNi45MjFWOTMuODcxYzAtNC4wMDItMi43NzMtNy40NjctNi42ODItOC4zMjljMCwwLTYuNjktMS40OTMtMTguMTI1LTMuNTkzICAgICBjLTQuNjE3LTAuODUzLTkuMDc5LDIuMjE5LTkuOTMzLDYuODQ0Yy0wLjg1Myw0LjY0MiwyLjIxLDkuMDg4LDYuODQ0LDkuOTQxYzQuMzYxLDAuODAyLDguMDEzLDEuNTEsMTAuODI5LDIuMDc0djM1Ny4xODggICAgIGMtMTkuMzM3LTUuMDY5LTYyLjI3Ni0xNC4yNTktMTE5LjQ2Ny0xNC4yNTljLTM3LjE4LDAtNzMuNzAyLDEyLjIxMS04NS4wMDEsMTYuMzVjLTEwLjA0NC00LjQzNy00MC40MDUtMTYuMzUtNzcuMTMzLTE2LjM1ICAgICBjLTU4Ljc3OCwwLTEwNy4xOTYsOS42OTQtMTI4LDE0LjYxOFYxMDAuNDc1YzE3LjA0MS00LjE5LDY3LjM3MS0xNS4xMzgsMTI4LTE1LjEzOGMzMS4xMTMsMCw1Ny43OTYsOS42ODUsNjguMjY3LDE0LjA2M3YzMzUuODA0ICAgICBjMCwzLjA3MiwxLjY1NSw1LjkxNCw0LjMyNiw3LjQyNGMyLjY3MSwxLjUxOSw1Ljk2NSwxLjQ3Niw4LjYwMi0wLjExMWMwLjg0NS0wLjUwMyw4NS4zOTMtNTEuMDA0LDE2MC40MzUtNzYuMDE1ICAgICBjMy40OS0xLjE2OSw1LjgzNy00LjQyLDUuODM3LTguMDk4VjguNTM3YzAtMi43OTktMS4zNzQtNS40MTktMy42NzgtNy4wMTRjLTIuMjg3LTEuNTk2LTUuMjIyLTEuOTYzLTcuODU5LTAuOTgxICAgICBDMzQ2Ljg1NiwyNi4xNSwyNzcuNzcxLDY5LjE0MSwyNzcuMDc5LDY5LjU2OGMtMy45OTQsMi41LTUuMjE0LDcuNzY1LTIuNzE0LDExLjc1OWMyLjQ5MiwzLjk5NCw3Ljc1Nyw1LjIxNCwxMS43NTksMi43MTQgICAgIGMwLjYzMS0wLjQwMSw2MC43MzItMzcuNzk0LDEyMy40NzctNjMuMDI3djMzMS4yODFjLTU4LjI0OSwyMC4yNDEtMTE5LjA2Niw1My4yOTEtMTQ1LjA2Nyw2OC4wODdWOTMuODcxICAgICBjMC0zLjIzNC0xLjgyNi02LjE4Ny00LjcxOS03LjYzN2MtMS40NjgtMC43MjUtMzYuNDM3LTE3Ljk2My04MC42MTQtMTcuOTYzYy03Ny4xMDcsMC0xMzYuMzg4LDE2LjY4My0xMzguODgsMTcuMzk5ICAgICBjLTMuNjYxLDEuMDQxLTYuMTg3LDQuMzk1LTYuMTg3LDguMjAxdjM3NS40NjdjMCwyLjY3MSwxLjI2Myw1LjE5NywzLjM4OCw2LjgxYzEuNTAyLDEuMTM1LDMuMzExLDEuNzI0LDUuMTQ2LDEuNzI0ICAgICBjMC43ODUsMCwxLjU3LTAuMTExLDIuMzM4LTAuMzMzYzAuNTg5LTAuMTYyLDU5LjU5Ny0xNi43MzQsMTM0LjE5NS0xNi43MzRjMzEuMTk4LDAsNTcuODU2LDkuNzExLDY4LjI2NywxNC4wNzF2MjAuMDYyaC0yMDQuOCAgICAgYy0xNC4xMTQsMC0yNS42LTExLjQ4Ni0yNS42LTI1LjZ2LTMzMi44YzAtNC43MS0zLjgyMy04LjUzMy04LjUzMy04LjUzM3MtOC41MzMsMy44MjMtOC41MzMsOC41MzN2MzMyLjggICAgIGMwLDIzLjUyNiwxOS4xNCw0Mi42NjcsNDIuNjY3LDQyLjY2N2g0MjYuNjY3YzIzLjUyNiwwLDQyLjY2Ny0xOS4xNCw0Mi42NjctNDIuNjY3di0zMzIuOCAgICAgQzUxMi4wMDIsMTMxLjgyNyw1MDguMTg4LDEyOC4wMDQsNTAzLjQ2OSwxMjguMDA0eiIgZmlsbD0iI2ZmZmZmZiIgZGF0YS1vcmlnaW5hbD0iIzAwMDAwMCIgc3R5bGU9IiIgY2xhc3M9IiI+PC9wYXRoPgoJCQk8cGF0aCBkPSJNMjkxLjA1NywxOTEuNjExYzEuNTEsMi45NTMsNC41MTQsNC42NTksNy42Miw0LjY1OWMxLjI5NywwLDIuNjI4LTAuMjk5LDMuODY2LTAuOTMgICAgIGMwLjUwMy0wLjI1Niw1MC43MzEtMjUuNzcxLDc1LjUwMy0zMy41OTZjNC40ODktMS40MjUsNi45OC02LjIyMSw1LjU1NS0xMC43MDljLTEuNDE3LTQuNDg5LTYuMTc4LTYuOTg5LTEwLjcwOS01LjU3MiAgICAgYy0yNi4wOTUsOC4yNTItNzUuOTgxLDMzLjU5Ni03OC4wOTcsMzQuNjcxQzI5MC41OTYsMTgyLjI2NywyODguOTI0LDE4Ny40MDUsMjkxLjA1NywxOTEuNjExeiIgZmlsbD0iI2ZmZmZmZiIgZGF0YS1vcmlnaW5hbD0iIzAwMDAwMCIgc3R5bGU9IiIgY2xhc3M9IiI+PC9wYXRoPgoJCQk8cGF0aCBkPSJNMjkxLjA1NywyOTQuMDExYzEuNTEsMi45NTMsNC41MTQsNC42NTksNy42Miw0LjY1OWMxLjI5NywwLDIuNjI4LTAuMjk5LDMuODY2LTAuOTMgICAgIGMwLjUwMy0wLjI1Niw1MC43MzEtMjUuNzcxLDc1LjUwMy0zMy41OTZjNC40ODktMS40MjUsNi45OC02LjIyMSw1LjU1NS0xMC43MDljLTEuNDE3LTQuNDg5LTYuMTc4LTYuOTg5LTEwLjcwOS01LjU3MiAgICAgYy0yNi4wOTUsOC4yNTItNzUuOTgxLDMzLjU5Ni03OC4wOTcsMzQuNjcxQzI5MC41OTYsMjg0LjY2NywyODguOTI0LDI4OS44MDUsMjkxLjA1NywyOTQuMDExeiIgZmlsbD0iI2ZmZmZmZiIgZGF0YS1vcmlnaW5hbD0iIzAwMDAwMCIgc3R5bGU9IiIgY2xhc3M9IiI+PC9wYXRoPgoJCQk8cGF0aCBkPSJNMjA2Ljc0OCwxNTguMzY2Yy01Mi42OTMtMTIuMzY1LTExMi41NzIsMy4zODgtMTE1LjA4OSw0LjA2MmMtNC41NDgsMS4yMi03LjI1Myw1Ljg5Ni02LjAzMywxMC40NTMgICAgIGMxLjAyNCwzLjgxNCw0LjQ3MSw2LjMyMyw4LjIzNSw2LjMyM2MwLjczNCwwLDEuNDc2LTAuMDk0LDIuMjE5LTAuMjljMC41NzItMC4xNjIsNTguMjIzLTE1LjMyNiwxMDYuNzc4LTMuOTM0ICAgICBjNC41NjUsMS4wNjcsOS4xODItMS43NzUsMTAuMjU3LTYuMzY2QzIxNC4xODksMTY0LjAzMiwyMTEuMzM5LDE1OS40NDEsMjA2Ljc0OCwxNTguMzY2eiIgZmlsbD0iI2ZmZmZmZiIgZGF0YS1vcmlnaW5hbD0iIzAwMDAwMCIgc3R5bGU9IiIgY2xhc3M9IiI+PC9wYXRoPgoJCQk8cGF0aCBkPSJNMjA2Ljc0OCwyMDkuNTY2Yy01Mi42OTMtMTIuMzU2LTExMi41NzIsMy4zODgtMTE1LjA4OSw0LjA2MmMtNC41NDgsMS4yMi03LjI1Myw1Ljg5Ny02LjAzMywxMC40NTMgICAgIGMxLjAyNCwzLjgxNCw0LjQ3MSw2LjMyMyw4LjIzNSw2LjMyM2MwLjczNCwwLDEuNDc2LTAuMDk0LDIuMjE5LTAuMjljMC41NzItMC4xNjIsNTguMjIzLTE1LjMyNiwxMDYuNzc4LTMuOTM0ICAgICBjNC41NjUsMS4wNjcsOS4xODItMS43NzUsMTAuMjU3LTYuMzY2QzIxNC4xODksMjE1LjIzMiwyMTEuMzM5LDIxMC42NDEsMjA2Ljc0OCwyMDkuNTY2eiIgZmlsbD0iI2ZmZmZmZiIgZGF0YS1vcmlnaW5hbD0iIzAwMDAwMCIgc3R5bGU9IiIgY2xhc3M9IiI+PC9wYXRoPgoJCQk8cGF0aCBkPSJNMjkxLjA1NywzNDUuMjExYzEuNTEsMi45NTMsNC41MTQsNC42NTksNy42Miw0LjY1OWMxLjI5NywwLDIuNjI4LTAuMjk5LDMuODY2LTAuOTMgICAgIGMwLjUwMy0wLjI1Niw1MC43MzEtMjUuNzcxLDc1LjUwMy0zMy41OTZjNC40ODktMS40MjUsNi45OC02LjIyMSw1LjU1NS0xMC43MDljLTEuNDE3LTQuNDg4LTYuMTc4LTYuOTg5LTEwLjcwOS01LjU3MiAgICAgYy0yNi4wOTUsOC4yNTItNzUuOTgxLDMzLjU5Ni03OC4wOTcsMzQuNjcxQzI5MC41OTYsMzM1Ljg2NywyODguOTI0LDM0MS4wMDUsMjkxLjA1NywzNDUuMjExeiIgZmlsbD0iI2ZmZmZmZiIgZGF0YS1vcmlnaW5hbD0iIzAwMDAwMCIgc3R5bGU9IiIgY2xhc3M9IiI+PC9wYXRoPgoJCQk8cGF0aCBkPSJNMjA2Ljc0OCwyNjAuNzY2Yy01Mi42OTMtMTIuMzU2LTExMi41NzIsMy4zNzktMTE1LjA4OSw0LjA2MmMtNC41NDgsMS4yMi03LjI1Myw1Ljg5Ny02LjAzMywxMC40NTMgICAgIGMxLjAyNCwzLjgxNCw0LjQ3MSw2LjMzMiw4LjIzNSw2LjMzMmMwLjczNCwwLDEuNDc2LTAuMTAyLDIuMjE5LTAuMjk5YzAuNTcyLTAuMTYyLDU4LjIyMy0xNS4zMjYsMTA2Ljc3OC0zLjkzNCAgICAgYzQuNTY1LDEuMDY3LDkuMTgyLTEuNzc1LDEwLjI1Ny02LjM2NkMyMTQuMTg5LDI2Ni40MzIsMjExLjMzOSwyNjEuODQxLDIwNi43NDgsMjYwLjc2NnoiIGZpbGw9IiNmZmZmZmYiIGRhdGEtb3JpZ2luYWw9IiMwMDAwMDAiIHN0eWxlPSIiIGNsYXNzPSIiPjwvcGF0aD4KCQkJPHBhdGggZD0iTTIwNi43NDgsMzYzLjE2NmMtNTIuNjkzLTEyLjM2NS0xMTIuNTcyLDMuMzg4LTExNS4wODksNC4wNjJjLTQuNTQ4LDEuMjItNy4yNTMsNS44OTctNi4wMzMsMTAuNDUzICAgICBjMS4wMjQsMy44MTQsNC40NzEsNi4zMzIsOC4yMzUsNi4zMzJjMC43MzQsMCwxLjQ3Ni0wLjEwMiwyLjIxOS0wLjI5OWMwLjU3Mi0wLjE2Miw1OC4yMjMtMTUuMzI2LDEwNi43NzgtMy45MzQgICAgIGM0LjU2NSwxLjA1OCw5LjE4Mi0xLjc3NSwxMC4yNTctNi4zNjZDMjE0LjE4OSwzNjguODMyLDIxMS4zMzksMzY0LjI0MSwyMDYuNzQ4LDM2My4xNjZ6IiBmaWxsPSIjZmZmZmZmIiBkYXRhLW9yaWdpbmFsPSIjMDAwMDAwIiBzdHlsZT0iIiBjbGFzcz0iIj48L3BhdGg+CgkJCTxwYXRoIGQ9Ik0yMDYuNzQ4LDMxMS45NjZjLTUyLjY5My0xMi4zNjUtMTEyLjU3MiwzLjM3OS0xMTUuMDg5LDQuMDYyYy00LjU0OCwxLjIyLTcuMjUzLDUuODk3LTYuMDMzLDEwLjQ1MyAgICAgYzEuMDI0LDMuODE0LDQuNDcxLDYuMzMyLDguMjM1LDYuMzMyYzAuNzM0LDAsMS40NzYtMC4xMDIsMi4yMTktMC4yOTljMC41NzItMC4xNjIsNTguMjIzLTE1LjMyNiwxMDYuNzc4LTMuOTM0ICAgICBjNC41NjUsMS4wNjcsOS4xODItMS43NzUsMTAuMjU3LTYuMzY2QzIxNC4xODksMzE3LjYzMiwyMTEuMzM5LDMxMy4wNDEsMjA2Ljc0OCwzMTEuOTY2eiIgZmlsbD0iI2ZmZmZmZiIgZGF0YS1vcmlnaW5hbD0iIzAwMDAwMCIgc3R5bGU9IiIgY2xhc3M9IiI+PC9wYXRoPgoJCTwvZz4KCTwvZz4KPC9nPgo8ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8L2c+CjxnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjwvZz4KPGcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPC9nPgo8ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8L2c+CjxnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjwvZz4KPGcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPC9nPgo8ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8L2c+CjxnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjwvZz4KPGcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPC9nPgo8ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8L2c+CjxnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjwvZz4KPGcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPC9nPgo8ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8L2c+CjxnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjwvZz4KPGcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPC9nPgo8L2c+PC9zdmc+\"\r\n            alt=\"\">\r\n          <img (click)=\"goToExternalProfiles()\" class=\"imagen\"\r\n            src=\"../../../../assets/img/add-user.png\"\r\n            alt=\"\">\r\n            <img (click)=\"goToHome()\" class=\"imagen\"\r\n            src=\"https://firebasestorage.googleapis.com/v0/b/tesisredsocial-be58f.appspot.com/o/icons%2Fhome.png?alt=media&token=511e456d-58ab-4670-928b-84f8f93e18e0\"\r\n            alt=\"\">\r\n          <img (click)=\"goToGroups()\" class=\"imagen\"\r\n            src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbG5zOnN2Z2pzPSJodHRwOi8vc3ZnanMuY29tL3N2Z2pzIiB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgeD0iMCIgeT0iMCIgdmlld0JveD0iMCAwIDUwNS40IDUwNS40IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyIiB4bWw6c3BhY2U9InByZXNlcnZlIiBjbGFzcz0iIj48Zz4KPGcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KCTxnPgoJCTxwYXRoIGQ9Ik00MzcuMSwyMzMuNDVjMTQuOC0xMC40LDI0LjYtMjcuNywyNC42LTQ3LjJjMC0zMS45LTI1LjgtNTcuNy01Ny43LTU3LjdjLTMxLjksMC01Ny43LDI1LjgtNTcuNyw1Ny43ICAgIGMwLDE5LjUsOS43LDM2LjgsMjQuNiw0Ny4yYy0xMi43LDQuNC0yNC4zLDExLjItMzQuMSwyMGMtMTMuNS0xMS41LTI5LjQtMjAuMy00Ni44LTI1LjVjMjEuMS0xMi44LDM1LjMtMzYuMSwzNS4zLTYyLjYgICAgYzAtNDAuNC0zMi43LTczLjEtNzMuMS03My4xYy00MC40LDAtNzMuMSwzMi44LTczLjEsNzMuMWMwLDI2LjUsMTQuMSw0OS44LDM1LjMsNjIuNmMtMTcuMiw1LjItMzIuOSwxMy45LTQ2LjMsMjUuMiAgICBjLTkuOC04LjYtMjEuMi0xNS4zLTMzLjctMTkuNmMxNC44LTEwLjQsMjQuNi0yNy43LDI0LjYtNDcuMmMwLTMxLjktMjUuOC01Ny43LTU3LjctNTcuN3MtNTcuNywyNS44LTU3LjcsNTcuNyAgICBjMCwxOS41LDkuNywzNi44LDI0LjYsNDcuMkMyOC41LDI0Ny4yNSwwLDI4NC45NSwwLDMyOS4yNXY2LjZjMCwwLjIsMC4yLDAuNCwwLjQsMC40aDEyMi4zYy0wLjcsNS41LTEuMSwxMS4yLTEuMSwxNi45djYuOCAgICBjMCwyOS40LDIzLjgsNTMuMiw1My4yLDUzLjJoMTU1YzI5LjQsMCw1My4yLTIzLjgsNTMuMi01My4ydi02LjhjMC01LjctMC40LTExLjQtMS4xLTE2LjlINTA1YzAuMiwwLDAuNC0wLjIsMC40LTAuNHYtNi42ICAgIEM1MDUuMiwyODQuODUsNDc2LjgsMjQ3LjE1LDQzNy4xLDIzMy40NXogTTM2Mi4zLDE4Ni4xNWMwLTIzLDE4LjctNDEuNyw0MS43LTQxLjdzNDEuNywxOC43LDQxLjcsNDEuNyAgICBjMCwyMi43LTE4LjMsNDEuMi00MC45LDQxLjdjLTAuMywwLTAuNSwwLTAuOCwwcy0wLjUsMC0wLjgsMEMzODAuNSwyMjcuNDUsMzYyLjMsMjA4Ljk1LDM2Mi4zLDE4Ni4xNXogTTE5NC45LDE2NS4zNSAgICBjMC0zMS41LDI1LjYtNTcuMSw1Ny4xLTU3LjFzNTcuMSwyNS42LDU3LjEsNTcuMWMwLDMwLjQtMjMuOSw1NS4zLTUzLjgsNTdjLTEuMSwwLTIuMiwwLTMuMywwYy0xLjEsMC0yLjIsMC0zLjMsMCAgICBDMjE4LjgsMjIwLjY1LDE5NC45LDE5NS43NSwxOTQuOSwxNjUuMzV6IE01OS4zLDE4Ni4xNWMwLTIzLDE4LjctNDEuNyw0MS43LTQxLjdzNDEuNywxOC43LDQxLjcsNDEuN2MwLDIyLjctMTguMyw0MS4yLTQwLjksNDEuNyAgICBjLTAuMywwLTAuNSwwLTAuOCwwcy0wLjUsMC0wLjgsMEM3Ny42LDIyNy40NSw1OS4zLDIwOC45NSw1OS4zLDE4Ni4xNXogTTEyNS41LDMyMC4xNUgxNi4yYzQuNS00Mi42LDQwLjUtNzYsODQuMi03Ni4zICAgIGMwLjIsMCwwLjQsMCwwLjYsMHMwLjQsMCwwLjYsMGMyMC44LDAuMSwzOS44LDcuOCw1NC41LDIwLjNDMTQxLjcsMjc5Ljc1LDEzMSwyOTguOTUsMTI1LjUsMzIwLjE1eiBNMzY2LjgsMzU5Ljk1ICAgIGMwLDIwLjUtMTYuNywzNy4yLTM3LjIsMzcuMmgtMTU1Yy0yMC41LDAtMzcuMi0xNi43LTM3LjItMzcuMnYtNi44YzAtNjIuMSw0OS42LTExMi45LDExMS4zLTExNC43YzEuMSwwLjEsMi4zLDAuMSwzLjQsMC4xICAgIHMyLjMsMCwzLjQtMC4xYzYxLjcsMS44LDExMS4zLDUyLjYsMTExLjMsMTE0LjdWMzU5Ljk1eiBNMzc4LjcsMzIwLjE1Yy01LjUtMjEuMS0xNi00MC0zMC4zLTU1LjZjMTQuOC0xMi44LDM0LTIwLjUsNTUtMjAuNyAgICBjMC4yLDAsMC40LDAsMC42LDBzMC40LDAsMC42LDBjNDMuNywwLjMsNzkuNywzMy43LDg0LjIsNzYuM0gzNzguN3oiIGZpbGw9IiNmZmZmZmYiIGRhdGEtb3JpZ2luYWw9IiMwMDAwMDAiIHN0eWxlPSIiPjwvcGF0aD4KCTwvZz4KPC9nPgo8ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8L2c+CjxnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjwvZz4KPGcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPC9nPgo8ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8L2c+CjxnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjwvZz4KPGcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPC9nPgo8ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8L2c+CjxnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjwvZz4KPGcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPC9nPgo8ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8L2c+CjxnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjwvZz4KPGcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPC9nPgo8ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8L2c+CjxnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjwvZz4KPGcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPC9nPgo8L2c+PC9zdmc+\"\r\n            alt=\"\">\r\n          <img (click)=\"goToProfile()\" class=\"imagen\"\r\n            src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbG5zOnN2Z2pzPSJodHRwOi8vc3ZnanMuY29tL3N2Z2pzIiB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgeD0iMCIgeT0iMCIgdmlld0JveD0iMCAwIDQ4MCA0ODAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUxMiA1MTIiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxnPgo8ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgoJPGc+CgkJPHBhdGggZD0iTTI0MCwwQzEwNy42NjQsMCwwLDEwNy42NjQsMCwyNDBjMCw1Ny45NiwyMC42NTYsMTExLjE4NCw1NC45OTIsMTUyLjcwNGMwLjA4OCwwLjEyLDAuMDk2LDAuMjcyLDAuMTkyLDAuMzg0ICAgIGMyNC43OTIsMjkuODk2LDU1LjkyOCw1Mi44MTYsOTAuNjI0LDY3LjYyNGMwLjQsMC4xNjgsMC43OTIsMC4zNTIsMS4xOTIsMC41MmMyLjgwOCwxLjE4NCw1LjY0OCwyLjI4LDguNDk2LDMuMzUyICAgIGMxLjEyLDAuNDI0LDIuMjQsMC44NTYsMy4zNzYsMS4yNjRjMi40NTYsMC44OCw0LjkyOCwxLjcxMiw3LjQxNiwyLjUxMmMxLjU5MiwwLjUxMiwzLjE4NCwxLjAxNiw0Ljc5MiwxLjQ5NiAgICBjMi4yLDAuNjU2LDQuNDA4LDEuMjg4LDYuNjMyLDEuODg4YzEuOTUyLDAuNTI4LDMuOTIsMS4wMTYsNS44ODgsMS40ODhjMS45OTIsMC40OCwzLjk5MiwwLjk2LDYsMS4zODQgICAgYzIuMjQsMC40OCw0LjUwNCwwLjkwNCw2Ljc3NiwxLjMyYzEuODI0LDAuMzM2LDMuNjQsMC42ODgsNS40OCwwLjk4NGMyLjUyLDAuNDA4LDUuMDU2LDAuNzI4LDcuNiwxLjA1NiAgICBjMS42NCwwLjIwOCwzLjI3MiwwLjQ0OCw0LjkyLDAuNjI0YzIuODgsMC4zMDQsNS43ODQsMC41Miw4LjY5NiwwLjcyYzEuMzUyLDAuMDk2LDIuNjk2LDAuMjQsNC4wNTYsMC4zMTIgICAgYzQuMjQ4LDAuMjQsOC41NDQsMC4zNjgsMTIuODcyLDAuMzY4czguNjI0LTAuMTI4LDEyLjg4OC0wLjM1MmMxLjM2LTAuMDcyLDIuNzA0LTAuMjE2LDQuMDU2LTAuMzEyICAgIGMyLjkxMi0wLjIwOCw1LjgxNi0wLjQxNiw4LjY5Ni0wLjcyYzEuNjQ4LTAuMTc2LDMuMjgtMC40MTYsNC45Mi0wLjYyNGMyLjU0NC0wLjMyOCw1LjA4LTAuNjQ4LDcuNi0xLjA1NiAgICBjMS44MzItMC4yOTYsMy42NTYtMC42NDgsNS40OC0wLjk4NGMyLjI2NC0wLjQxNiw0LjUyOC0wLjg0LDYuNzc2LTEuMzJjMi4wMDgtMC40MzIsNC0wLjkwNCw2LTEuMzg0ICAgIGMxLjk2OC0wLjQ4LDMuOTM2LTAuOTY4LDUuODg4LTEuNDg4YzIuMjI0LTAuNTkyLDQuNDMyLTEuMjMyLDYuNjMyLTEuODg4YzEuNjA4LTAuNDgsMy4yLTAuOTg0LDQuNzkyLTEuNDk2ICAgIGMyLjQ4OC0wLjgsNC45Ni0xLjYzMiw3LjQxNi0yLjUxMmMxLjEyOC0wLjQwOCwyLjI0OC0wLjg0LDMuMzc2LTEuMjY0YzIuODU2LTEuMDcyLDUuNjg4LTIuMTc2LDguNDk2LTMuMzUyICAgIGMwLjQtMC4xNjgsMC43OTItMC4zNTIsMS4xOTItMC41MmMzNC42ODgtMTQuODA4LDY1LjgzMi0zNy43MjgsOTAuNjI0LTY3LjYyNGMwLjA5Ni0wLjExMiwwLjEwNC0wLjI3MiwwLjE5Mi0wLjM4NCAgICBDNDU5LjM0NCwzNTEuMTg0LDQ4MCwyOTcuOTYsNDgwLDI0MEM0ODAsMTA3LjY2NCwzNzIuMzM2LDAsMjQwLDB6IE0zMzcuMjU2LDQ0MS43NmMtMC4xMiwwLjA1Ni0wLjIzMiwwLjEyLTAuMzUyLDAuMTc2ICAgIGMtMi44NTYsMS4zNzYtNS43NiwyLjY3Mi04LjY4OCwzLjkzNmMtMC42NjQsMC4yOC0xLjMyLDAuNTY4LTEuOTg0LDAuODQ4Yy0yLjU2LDEuMDcyLTUuMTUyLDIuMDg4LTcuNzYsMy4wNjQgICAgYy0xLjA4OCwwLjQwOC0yLjE3NiwwLjgwOC0zLjI3MiwxLjE5MmMtMi4zMTIsMC44MjQtNC42MzIsMS42MTYtNi45NzYsMi4zNjhjLTEuNDU2LDAuNDY0LTIuOTIsMC45MDQtNC4zODQsMS4zMzYgICAgYy0yLjA4LDAuNjI0LTQuMTY4LDEuMjI0LTYuMjgsMS43ODRjLTEuNzc2LDAuNDcyLTMuNTY4LDAuOTA0LTUuMzYsMS4zMjhjLTEuODgsMC40NDgtMy43NTIsMC45MDQtNS42NDgsMS4zMDQgICAgYy0yLjA3MiwwLjQ0LTQuMTYsMC44MTYtNi4yNCwxLjE5MmMtMS42ODgsMC4zMTItMy4zNjgsMC42NC01LjA3MiwwLjkxMmMtMi4zNDQsMC4zNjgtNC43MTIsMC42NjQtNy4wNzIsMC45NiAgICBjLTEuNDk2LDAuMTkyLTIuOTg0LDAuNDE2LTQuNDk2LDAuNTc2Yy0yLjY5NiwwLjI4OC01LjQxNiwwLjQ3Mi04LjEyOCwwLjY2NGMtMS4yMDgsMC4wOC0yLjQwOCwwLjIxNi0zLjYzMiwwLjI4ICAgIGMtMy45NiwwLjIwOC03LjkyOCwwLjMyLTExLjkxMiwwLjMycy03Ljk1Mi0wLjExMi0xMS45MDQtMC4zMmMtMS4yMTYtMC4wNjQtMi40MTYtMC4xOTItMy42MzItMC4yOCAgICBjLTIuNzItMC4xODQtNS40MzItMC4zNzYtOC4xMjgtMC42NjRjLTEuNTEyLTAuMTYtMy0wLjM4NC00LjQ5Ni0wLjU3NmMtMi4zNi0wLjI5Ni00LjcyOC0wLjU5Mi03LjA3Mi0wLjk2ICAgIGMtMS43MDQtMC4yNzItMy4zODQtMC42LTUuMDcyLTAuOTEyYy0yLjA4OC0wLjM3Ni00LjE3Ni0wLjc2LTYuMjQtMS4xOTJjLTEuODk2LTAuNC0zLjc3Ni0wLjg1Ni01LjY0OC0xLjMwNCAgICBjLTEuNzkyLTAuNDMyLTMuNTg0LTAuODU2LTUuMzYtMS4zMjhjLTIuMTA0LTAuNTYtNC4yLTEuMTY4LTYuMjgtMS43ODRjLTEuNDY0LTAuNDMyLTIuOTI4LTAuODcyLTQuMzg0LTEuMzM2ICAgIGMtMi4zNDQtMC43NTItNC42NzItMS41NDQtNi45NzYtMi4zNjhjLTEuMDk2LTAuMzkyLTIuMTg0LTAuNzkyLTMuMjcyLTEuMTkyYy0yLjYwOC0wLjk3Ni01LjItMS45OTItNy43Ni0zLjA2NCAgICBjLTAuNjY0LTAuMjcyLTEuMzEyLTAuNTYtMS45NzYtMC44NGMtMi45MjgtMS4yNTYtNS44MzItMi41Ni04LjY5Ni0zLjkzNmMtMC4xMi0wLjA1Ni0wLjIzMi0wLjExMi0wLjM1Mi0wLjE3NiAgICBjLTI3LjkxMi0xMy41MDQtNTIuNTY4LTMyLjY3Mi03Mi41NzYtNTUuOTUyYzE1LjQ2NC01Ni45NDQsNTkuMjQtMTAyLjg0OCwxMTUuNTYtMTIxLjExMmMxLjExMiwwLjY4LDIuMjcyLDEuMjg4LDMuNDE2LDEuOTI4ICAgIGMwLjY3MiwwLjM3NiwxLjMzNiwwLjc3NiwyLjAxNiwxLjEzNmMyLjM4NCwxLjI2NCw0LjgsMi40NDgsNy4yNzIsMy41MTJjMS44OTYsMC44MzIsMy44NTYsMS41MzYsNS44MDgsMi4yNTYgICAgYzAuMzg0LDAuMTM2LDAuNzY4LDAuMjg4LDEuMTUyLDAuNDI0YzEwLjg0OCwzLjg0LDIyLjQ1Niw2LjA0LDM0LjYsNi4wNHMyMy43NTItMi4yLDM0LjU5Mi02LjA0ICAgIGMwLjM4NC0wLjEzNiwwLjc2OC0wLjI4OCwxLjE1Mi0wLjQyNGMxLjk1Mi0wLjcyLDMuOTEyLTEuNDI0LDUuODA4LTIuMjU2YzIuNDcyLTEuMDY0LDQuODg4LTIuMjQ4LDcuMjcyLTMuNTEyICAgIGMwLjY4LTAuMzY4LDEuMzQ0LTAuNzYsMi4wMTYtMS4xMzZjMS4xNDQtMC42NCwyLjMxMi0xLjI0OCwzLjQzMi0xLjkzNmM1Ni4zMiwxOC4yNzIsMTAwLjA4OCw2NC4xNzYsMTE1LjU2LDEyMS4xMTIgICAgQzM4OS44MjQsNDA5LjA4LDM2NS4xNjgsNDI4LjI0OCwzMzcuMjU2LDQ0MS43NnogTTE1MiwxNzZjMC00OC41MiwzOS40OC04OCw4OC04OHM4OCwzOS40OCw4OCw4OCAgICBjMCwzMC44NjQtMTYuMDA4LDU4LjAyNC00MC4xMjgsNzMuNzM2Yy0zLjE1MiwyLjA0OC02LjQzMiwzLjg4LTkuOCw1LjQ4Yy0wLjQsMC4xOTItMC43OTIsMC4zOTItMS4xOTIsMC41NzYgICAgYy0yMy4xNjgsMTAuNTM2LTUwLjU5MiwxMC41MzYtNzMuNzYsMGMtMC40LTAuMTg0LTAuOC0wLjM4NC0xLjE5Mi0wLjU3NmMtMy4zNzYtMS42LTYuNjQ4LTMuNDMyLTkuOC01LjQ4ICAgIEMxNjguMDA4LDIzNC4wMjQsMTUyLDIwNi44NjQsMTUyLDE3NnogTTQyMS44MzIsMzcwLjU4NGMtMTguMTM2LTUzLjU1Mi01OS41MTItOTYuODMyLTExMi4zNzYtMTE3LjM5MiAgICBDMzMwLjYsMjM0LjE0NCwzNDQsMjA2LjY0LDM0NCwxNzZjMC01Ny4zNDQtNDYuNjU2LTEwNC0xMDQtMTA0cy0xMDQsNDYuNjU2LTEwNCwxMDRjMCwzMC42NCwxMy40LDU4LjE0NCwzNC41NTIsNzcuMTkyICAgIGMtNTIuODY0LDIwLjU2OC05NC4yNCw2My44NC0xMTIuMzc2LDExNy4zOTJDMzEuNjcyLDMzMy43OTIsMTYsMjg4LjcwNCwxNiwyNDBDMTYsMTE2LjQ4OCwxMTYuNDg4LDE2LDI0MCwxNnMyMjQsMTAwLjQ4OCwyMjQsMjI0ICAgIEM0NjQsMjg4LjcwNCw0NDguMzI4LDMzMy43OTIsNDIxLjgzMiwzNzAuNTg0eiIgZmlsbD0iI2ZmZmZmZiIgZGF0YS1vcmlnaW5hbD0iIzAwMDAwMCIgc3R5bGU9IiI+PC9wYXRoPgoJPC9nPgo8L2c+CjxnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjwvZz4KPGcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPC9nPgo8ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8L2c+CjxnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjwvZz4KPGcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPC9nPgo8ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8L2c+CjxnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjwvZz4KPGcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPC9nPgo8ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8L2c+CjxnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjwvZz4KPGcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPC9nPgo8ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8L2c+CjxnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjwvZz4KPGcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPC9nPgo8ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8L2c+CjwvZz48L3N2Zz4=\"\r\n            alt=\"\">\r\n        </a>\r\n      </div>\r\n    </div>\r\n  </nav> \r\n  \r\n  <!-- \r\n  <a class=\"footer-item\">\r\n    <img (click)=\"goToProfile()\" class=\"imagen\"\r\n    src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbG5zOnN2Z2pzPSJodHRwOi8vc3ZnanMuY29tL3N2Z2pzIiB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgeD0iMCIgeT0iMCIgdmlld0JveD0iMCAwIDUxMi4wMDQgNTEyLjAwNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNTEyIDUxMiIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgY2xhc3M9IiI+PGc+CjxnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZD0iTTI5MS4wNTcsMjQyLjgxMWMxLjUxLDIuOTUzLDQuNTE0LDQuNjU5LDcuNjIsNC42NTljMS4yOTcsMCwyLjYyOC0wLjI5OSwzLjg2Ni0wLjkzICAgICBjMC41MDMtMC4yNTYsNTAuNzMxLTI1Ljc3MSw3NS41MDMtMzMuNTk2YzQuNDg5LTEuNDI1LDYuOTgtNi4yMjEsNS41NTUtMTAuNzA5Yy0xLjQxNy00LjQ4OS02LjE3OC02Ljk4OS0xMC43MDktNS41NzIgICAgIGMtMjYuMDk1LDguMjUyLTc1Ljk4MSwzMy41OTYtNzguMDk3LDM0LjY3MUMyOTAuNTk2LDIzMy40NjcsMjg4LjkyNCwyMzguNjA1LDI5MS4wNTcsMjQyLjgxMXoiIGZpbGw9IiNmZmZmZmYiIGRhdGEtb3JpZ2luYWw9IiMwMDAwMDAiIHN0eWxlPSIiIGNsYXNzPSIiPjwvcGF0aD4KCQkJPHBhdGggZD0iTTI5OC42NzcsMTQ1LjA3MWMxLjI5NywwLDIuNjI4LTAuMjk5LDMuODY2LTAuOTNjMC41MDMtMC4yNTYsNTAuNzMxLTI1Ljc3MSw3NS41MDMtMzMuNTk2ICAgICBjNC40ODktMS40MjUsNi45OC02LjIyMSw1LjU1NS0xMC43MDljLTEuNDE3LTQuNDg5LTYuMTc4LTYuOTg5LTEwLjcwOS01LjU3MmMtMjYuMDk1LDguMjUyLTc1Ljk4MSwzMy41OTYtNzguMDk3LDM0LjY3MSAgICAgYy00LjE5OCwyLjEzMy01Ljg3MSw3LjI3LTMuNzM4LDExLjQ3N0MyOTIuNTY3LDE0My4zNjQsMjk1LjU3MSwxNDUuMDcxLDI5OC42NzcsMTQ1LjA3MXoiIGZpbGw9IiNmZmZmZmYiIGRhdGEtb3JpZ2luYWw9IiMwMDAwMDAiIHN0eWxlPSIiIGNsYXNzPSIiPjwvcGF0aD4KCQkJPHBhdGggZD0iTTUwMy40NjksMTI4LjAwNGMtNC43MTksMC04LjUzMywzLjgyMy04LjUzMyw4LjUzM3YzMzIuOGMwLDE0LjExNC0xMS40ODYsMjUuNi0yNS42LDI1LjZoLTIwNC44di0xOS42MzUgICAgIGMxMi40NDItNC4zNTIsNDQuODUxLTE0LjQ5OCw3Ni44LTE0LjQ5OGM3NC4zMzQsMCwxMjQuODA5LDE2LjQ2MSwxMjUuMzEyLDE2LjYzMWMyLjU2OCwwLjg1Myw1LjQzNiwwLjQyNyw3LjY4LTEuMTc4ICAgICBjMi4yMjctMS42MDQsMy41NDEtNC4xODEsMy41NDEtNi45MjFWOTMuODcxYzAtNC4wMDItMi43NzMtNy40NjctNi42ODItOC4zMjljMCwwLTYuNjktMS40OTMtMTguMTI1LTMuNTkzICAgICBjLTQuNjE3LTAuODUzLTkuMDc5LDIuMjE5LTkuOTMzLDYuODQ0Yy0wLjg1Myw0LjY0MiwyLjIxLDkuMDg4LDYuODQ0LDkuOTQxYzQuMzYxLDAuODAyLDguMDEzLDEuNTEsMTAuODI5LDIuMDc0djM1Ny4xODggICAgIGMtMTkuMzM3LTUuMDY5LTYyLjI3Ni0xNC4yNTktMTE5LjQ2Ny0xNC4yNTljLTM3LjE4LDAtNzMuNzAyLDEyLjIxMS04NS4wMDEsMTYuMzVjLTEwLjA0NC00LjQzNy00MC40MDUtMTYuMzUtNzcuMTMzLTE2LjM1ICAgICBjLTU4Ljc3OCwwLTEwNy4xOTYsOS42OTQtMTI4LDE0LjYxOFYxMDAuNDc1YzE3LjA0MS00LjE5LDY3LjM3MS0xNS4xMzgsMTI4LTE1LjEzOGMzMS4xMTMsMCw1Ny43OTYsOS42ODUsNjguMjY3LDE0LjA2M3YzMzUuODA0ICAgICBjMCwzLjA3MiwxLjY1NSw1LjkxNCw0LjMyNiw3LjQyNGMyLjY3MSwxLjUxOSw1Ljk2NSwxLjQ3Niw4LjYwMi0wLjExMWMwLjg0NS0wLjUwMyw4NS4zOTMtNTEuMDA0LDE2MC40MzUtNzYuMDE1ICAgICBjMy40OS0xLjE2OSw1LjgzNy00LjQyLDUuODM3LTguMDk4VjguNTM3YzAtMi43OTktMS4zNzQtNS40MTktMy42NzgtNy4wMTRjLTIuMjg3LTEuNTk2LTUuMjIyLTEuOTYzLTcuODU5LTAuOTgxICAgICBDMzQ2Ljg1NiwyNi4xNSwyNzcuNzcxLDY5LjE0MSwyNzcuMDc5LDY5LjU2OGMtMy45OTQsMi41LTUuMjE0LDcuNzY1LTIuNzE0LDExLjc1OWMyLjQ5MiwzLjk5NCw3Ljc1Nyw1LjIxNCwxMS43NTksMi43MTQgICAgIGMwLjYzMS0wLjQwMSw2MC43MzItMzcuNzk0LDEyMy40NzctNjMuMDI3djMzMS4yODFjLTU4LjI0OSwyMC4yNDEtMTE5LjA2Niw1My4yOTEtMTQ1LjA2Nyw2OC4wODdWOTMuODcxICAgICBjMC0zLjIzNC0xLjgyNi02LjE4Ny00LjcxOS03LjYzN2MtMS40NjgtMC43MjUtMzYuNDM3LTE3Ljk2My04MC42MTQtMTcuOTYzYy03Ny4xMDcsMC0xMzYuMzg4LDE2LjY4My0xMzguODgsMTcuMzk5ICAgICBjLTMuNjYxLDEuMDQxLTYuMTg3LDQuMzk1LTYuMTg3LDguMjAxdjM3NS40NjdjMCwyLjY3MSwxLjI2Myw1LjE5NywzLjM4OCw2LjgxYzEuNTAyLDEuMTM1LDMuMzExLDEuNzI0LDUuMTQ2LDEuNzI0ICAgICBjMC43ODUsMCwxLjU3LTAuMTExLDIuMzM4LTAuMzMzYzAuNTg5LTAuMTYyLDU5LjU5Ny0xNi43MzQsMTM0LjE5NS0xNi43MzRjMzEuMTk4LDAsNTcuODU2LDkuNzExLDY4LjI2NywxNC4wNzF2MjAuMDYyaC0yMDQuOCAgICAgYy0xNC4xMTQsMC0yNS42LTExLjQ4Ni0yNS42LTI1LjZ2LTMzMi44YzAtNC43MS0zLjgyMy04LjUzMy04LjUzMy04LjUzM3MtOC41MzMsMy44MjMtOC41MzMsOC41MzN2MzMyLjggICAgIGMwLDIzLjUyNiwxOS4xNCw0Mi42NjcsNDIuNjY3LDQyLjY2N2g0MjYuNjY3YzIzLjUyNiwwLDQyLjY2Ny0xOS4xNCw0Mi42NjctNDIuNjY3di0zMzIuOCAgICAgQzUxMi4wMDIsMTMxLjgyNyw1MDguMTg4LDEyOC4wMDQsNTAzLjQ2OSwxMjguMDA0eiIgZmlsbD0iI2ZmZmZmZiIgZGF0YS1vcmlnaW5hbD0iIzAwMDAwMCIgc3R5bGU9IiIgY2xhc3M9IiI+PC9wYXRoPgoJCQk8cGF0aCBkPSJNMjkxLjA1NywxOTEuNjExYzEuNTEsMi45NTMsNC41MTQsNC42NTksNy42Miw0LjY1OWMxLjI5NywwLDIuNjI4LTAuMjk5LDMuODY2LTAuOTMgICAgIGMwLjUwMy0wLjI1Niw1MC43MzEtMjUuNzcxLDc1LjUwMy0zMy41OTZjNC40ODktMS40MjUsNi45OC02LjIyMSw1LjU1NS0xMC43MDljLTEuNDE3LTQuNDg5LTYuMTc4LTYuOTg5LTEwLjcwOS01LjU3MiAgICAgYy0yNi4wOTUsOC4yNTItNzUuOTgxLDMzLjU5Ni03OC4wOTcsMzQuNjcxQzI5MC41OTYsMTgyLjI2NywyODguOTI0LDE4Ny40MDUsMjkxLjA1NywxOTEuNjExeiIgZmlsbD0iI2ZmZmZmZiIgZGF0YS1vcmlnaW5hbD0iIzAwMDAwMCIgc3R5bGU9IiIgY2xhc3M9IiI+PC9wYXRoPgoJCQk8cGF0aCBkPSJNMjkxLjA1NywyOTQuMDExYzEuNTEsMi45NTMsNC41MTQsNC42NTksNy42Miw0LjY1OWMxLjI5NywwLDIuNjI4LTAuMjk5LDMuODY2LTAuOTMgICAgIGMwLjUwMy0wLjI1Niw1MC43MzEtMjUuNzcxLDc1LjUwMy0zMy41OTZjNC40ODktMS40MjUsNi45OC02LjIyMSw1LjU1NS0xMC43MDljLTEuNDE3LTQuNDg5LTYuMTc4LTYuOTg5LTEwLjcwOS01LjU3MiAgICAgYy0yNi4wOTUsOC4yNTItNzUuOTgxLDMzLjU5Ni03OC4wOTcsMzQuNjcxQzI5MC41OTYsMjg0LjY2NywyODguOTI0LDI4OS44MDUsMjkxLjA1NywyOTQuMDExeiIgZmlsbD0iI2ZmZmZmZiIgZGF0YS1vcmlnaW5hbD0iIzAwMDAwMCIgc3R5bGU9IiIgY2xhc3M9IiI+PC9wYXRoPgoJCQk8cGF0aCBkPSJNMjA2Ljc0OCwxNTguMzY2Yy01Mi42OTMtMTIuMzY1LTExMi41NzIsMy4zODgtMTE1LjA4OSw0LjA2MmMtNC41NDgsMS4yMi03LjI1Myw1Ljg5Ni02LjAzMywxMC40NTMgICAgIGMxLjAyNCwzLjgxNCw0LjQ3MSw2LjMyMyw4LjIzNSw2LjMyM2MwLjczNCwwLDEuNDc2LTAuMDk0LDIuMjE5LTAuMjljMC41NzItMC4xNjIsNTguMjIzLTE1LjMyNiwxMDYuNzc4LTMuOTM0ICAgICBjNC41NjUsMS4wNjcsOS4xODItMS43NzUsMTAuMjU3LTYuMzY2QzIxNC4xODksMTY0LjAzMiwyMTEuMzM5LDE1OS40NDEsMjA2Ljc0OCwxNTguMzY2eiIgZmlsbD0iI2ZmZmZmZiIgZGF0YS1vcmlnaW5hbD0iIzAwMDAwMCIgc3R5bGU9IiIgY2xhc3M9IiI+PC9wYXRoPgoJCQk8cGF0aCBkPSJNMjA2Ljc0OCwyMDkuNTY2Yy01Mi42OTMtMTIuMzU2LTExMi41NzIsMy4zODgtMTE1LjA4OSw0LjA2MmMtNC41NDgsMS4yMi03LjI1Myw1Ljg5Ny02LjAzMywxMC40NTMgICAgIGMxLjAyNCwzLjgxNCw0LjQ3MSw2LjMyMyw4LjIzNSw2LjMyM2MwLjczNCwwLDEuNDc2LTAuMDk0LDIuMjE5LTAuMjljMC41NzItMC4xNjIsNTguMjIzLTE1LjMyNiwxMDYuNzc4LTMuOTM0ICAgICBjNC41NjUsMS4wNjcsOS4xODItMS43NzUsMTAuMjU3LTYuMzY2QzIxNC4xODksMjE1LjIzMiwyMTEuMzM5LDIxMC42NDEsMjA2Ljc0OCwyMDkuNTY2eiIgZmlsbD0iI2ZmZmZmZiIgZGF0YS1vcmlnaW5hbD0iIzAwMDAwMCIgc3R5bGU9IiIgY2xhc3M9IiI+PC9wYXRoPgoJCQk8cGF0aCBkPSJNMjkxLjA1NywzNDUuMjExYzEuNTEsMi45NTMsNC41MTQsNC42NTksNy42Miw0LjY1OWMxLjI5NywwLDIuNjI4LTAuMjk5LDMuODY2LTAuOTMgICAgIGMwLjUwMy0wLjI1Niw1MC43MzEtMjUuNzcxLDc1LjUwMy0zMy41OTZjNC40ODktMS40MjUsNi45OC02LjIyMSw1LjU1NS0xMC43MDljLTEuNDE3LTQuNDg4LTYuMTc4LTYuOTg5LTEwLjcwOS01LjU3MiAgICAgYy0yNi4wOTUsOC4yNTItNzUuOTgxLDMzLjU5Ni03OC4wOTcsMzQuNjcxQzI5MC41OTYsMzM1Ljg2NywyODguOTI0LDM0MS4wMDUsMjkxLjA1NywzNDUuMjExeiIgZmlsbD0iI2ZmZmZmZiIgZGF0YS1vcmlnaW5hbD0iIzAwMDAwMCIgc3R5bGU9IiIgY2xhc3M9IiI+PC9wYXRoPgoJCQk8cGF0aCBkPSJNMjA2Ljc0OCwyNjAuNzY2Yy01Mi42OTMtMTIuMzU2LTExMi41NzIsMy4zNzktMTE1LjA4OSw0LjA2MmMtNC41NDgsMS4yMi03LjI1Myw1Ljg5Ny02LjAzMywxMC40NTMgICAgIGMxLjAyNCwzLjgxNCw0LjQ3MSw2LjMzMiw4LjIzNSw2LjMzMmMwLjczNCwwLDEuNDc2LTAuMTAyLDIuMjE5LTAuMjk5YzAuNTcyLTAuMTYyLDU4LjIyMy0xNS4zMjYsMTA2Ljc3OC0zLjkzNCAgICAgYzQuNTY1LDEuMDY3LDkuMTgyLTEuNzc1LDEwLjI1Ny02LjM2NkMyMTQuMTg5LDI2Ni40MzIsMjExLjMzOSwyNjEuODQxLDIwNi43NDgsMjYwLjc2NnoiIGZpbGw9IiNmZmZmZmYiIGRhdGEtb3JpZ2luYWw9IiMwMDAwMDAiIHN0eWxlPSIiIGNsYXNzPSIiPjwvcGF0aD4KCQkJPHBhdGggZD0iTTIwNi43NDgsMzYzLjE2NmMtNTIuNjkzLTEyLjM2NS0xMTIuNTcyLDMuMzg4LTExNS4wODksNC4wNjJjLTQuNTQ4LDEuMjItNy4yNTMsNS44OTctNi4wMzMsMTAuNDUzICAgICBjMS4wMjQsMy44MTQsNC40NzEsNi4zMzIsOC4yMzUsNi4zMzJjMC43MzQsMCwxLjQ3Ni0wLjEwMiwyLjIxOS0wLjI5OWMwLjU3Mi0wLjE2Miw1OC4yMjMtMTUuMzI2LDEwNi43NzgtMy45MzQgICAgIGM0LjU2NSwxLjA1OCw5LjE4Mi0xLjc3NSwxMC4yNTctNi4zNjZDMjE0LjE4OSwzNjguODMyLDIxMS4zMzksMzY0LjI0MSwyMDYuNzQ4LDM2My4xNjZ6IiBmaWxsPSIjZmZmZmZmIiBkYXRhLW9yaWdpbmFsPSIjMDAwMDAwIiBzdHlsZT0iIiBjbGFzcz0iIj48L3BhdGg+CgkJCTxwYXRoIGQ9Ik0yMDYuNzQ4LDMxMS45NjZjLTUyLjY5My0xMi4zNjUtMTEyLjU3MiwzLjM3OS0xMTUuMDg5LDQuMDYyYy00LjU0OCwxLjIyLTcuMjUzLDUuODk3LTYuMDMzLDEwLjQ1MyAgICAgYzEuMDI0LDMuODE0LDQuNDcxLDYuMzMyLDguMjM1LDYuMzMyYzAuNzM0LDAsMS40NzYtMC4xMDIsMi4yMTktMC4yOTljMC41NzItMC4xNjIsNTguMjIzLTE1LjMyNiwxMDYuNzc4LTMuOTM0ICAgICBjNC41NjUsMS4wNjcsOS4xODItMS43NzUsMTAuMjU3LTYuMzY2QzIxNC4xODksMzE3LjYzMiwyMTEuMzM5LDMxMy4wNDEsMjA2Ljc0OCwzMTEuOTY2eiIgZmlsbD0iI2ZmZmZmZiIgZGF0YS1vcmlnaW5hbD0iIzAwMDAwMCIgc3R5bGU9IiIgY2xhc3M9IiI+PC9wYXRoPgoJCTwvZz4KCTwvZz4KPC9nPgo8ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8L2c+CjxnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjwvZz4KPGcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPC9nPgo8ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8L2c+CjxnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjwvZz4KPGcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPC9nPgo8ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8L2c+CjxnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjwvZz4KPGcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPC9nPgo8ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8L2c+CjxnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjwvZz4KPGcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPC9nPgo8ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8L2c+CjxnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjwvZz4KPGcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPC9nPgo8L2c+PC9zdmc+\"\r\n      alt=\"\">\r\n  </a>\r\n  <a class=\"footer-item\">\r\n    <img (click)=\"goToProfile()\" class=\"imagen\"\r\n    src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbG5zOnN2Z2pzPSJodHRwOi8vc3ZnanMuY29tL3N2Z2pzIiB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgeD0iMCIgeT0iMCIgdmlld0JveD0iMCAwIDU1IDU1IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyIiB4bWw6c3BhY2U9InByZXNlcnZlIiBjbGFzcz0iIj48Zz48cGF0aCB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGQ9Im0yMS45MiAyNWgtMTEuNjRhMyAzIDAgMCAxIC0zLTN2LTExLjcyYTMgMyAwIDAgMSAzLTNoMTEuNjRhMyAzIDAgMCAxIDMgM3YxMS42NGEzIDMgMCAwIDEgLTMgMy4wOHptLTExLjY0LTE2LjI1YTEuNTQgMS41NCAwIDAgMCAtMS41MyAxLjUzdjExLjY0YTEuNTMgMS41MyAwIDAgMCAxLjUzIDEuNTNoMTEuNjRhMS41MiAxLjUyIDAgMCAwIDEuNTMtMS41M3YtMTEuNjRhMS41MyAxLjUzIDAgMCAwIC0xLjUzLTEuNTN6IiBmaWxsPSIjZmZmZmZmIiBkYXRhLW9yaWdpbmFsPSIjMDAwMDAwIiBzdHlsZT0iIiBjbGFzcz0iIj48L3BhdGg+PHBhdGggeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBkPSJtNDQuNzIgMjVoLTExLjY0YTMgMyAwIDAgMSAtMy0zdi0xMS43MmEzIDMgMCAwIDEgMy0zaDExLjY0YTMgMyAwIDAgMSAzIDN2MTEuNjRhMyAzIDAgMCAxIC0zIDMuMDh6bS0xMS42NC0xNi4yNWExLjUzIDEuNTMgMCAwIDAgLTEuNTMgMS41M3YxMS42NGExLjUyIDEuNTIgMCAwIDAgMS41MyAxLjUzaDExLjY0YTEuNTMgMS41MyAwIDAgMCAxLjUzLTEuNTN2LTExLjY0YTEuNTQgMS41NCAwIDAgMCAtMS41My0xLjUzeiIgZmlsbD0iI2ZmZmZmZiIgZGF0YS1vcmlnaW5hbD0iIzAwMDAwMCIgc3R5bGU9IiIgY2xhc3M9IiI+PC9wYXRoPjxwYXRoIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZD0ibTIxLjkyIDQ3Ljc1aC0xMS42NGEzIDMgMCAwIDEgLTMtM3YtMTEuNjdhMyAzIDAgMCAxIDMtM2gxMS42NGEzIDMgMCAwIDEgMyAzdjExLjY0YTMgMyAwIDAgMSAtMyAzLjAzem0tMTEuNjQtMTYuMmExLjUzIDEuNTMgMCAwIDAgLTEuNTMgMS41M3YxMS42NGExLjU0IDEuNTQgMCAwIDAgMS41MyAxLjUzaDExLjY0YTEuNTMgMS41MyAwIDAgMCAxLjUzLTEuNTN2LTExLjY0YTEuNTIgMS41MiAwIDAgMCAtMS41My0xLjUzeiIgZmlsbD0iI2ZmZmZmZiIgZGF0YS1vcmlnaW5hbD0iIzAwMDAwMCIgc3R5bGU9IiIgY2xhc3M9IiI+PC9wYXRoPjxwYXRoIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZD0ibTM1LjQgNDIuNzlhLjcxLjcxIDAgMCAxIC0uNTMtLjIyLjc0Ljc0IDAgMCAxIDAtMS4wNmw3LTdhLjc0Ljc0IDAgMCAxIDEuMDYgMCAuNzUuNzUgMCAwIDEgMCAxLjA2bC03IDdhLjc0Ljc0IDAgMCAxIC0uNTMuMjJ6IiBmaWxsPSIjZmZmZmZmIiBkYXRhLW9yaWdpbmFsPSIjMDAwMDAwIiBzdHlsZT0iIiBjbGFzcz0iIj48L3BhdGg+PHBhdGggeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBkPSJtNDIuNCA0Mi43OWEuNzQuNzQgMCAwIDEgLS41My0uMjJsLTctN2EuNzUuNzUgMCAwIDEgMS4wNi0xLjA2bDcgN2EuNzUuNzUgMCAwIDEgMCAxLjA2Ljc0Ljc0IDAgMCAxIC0uNTMuMjJ6IiBmaWxsPSIjZmZmZmZmIiBkYXRhLW9yaWdpbmFsPSIjMDAwMDAwIiBzdHlsZT0iIiBjbGFzcz0iIj48L3BhdGg+PHBhdGggeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBkPSJtNDcuMjkgNTIuMjVoLTM5LjU4YTUgNSAwIDAgMSAtNS01di0zOS41NGE1IDUgMCAwIDEgNS01aDM5LjU4YTUgNSAwIDAgMSA1IDV2MzkuNThhNSA1IDAgMCAxIC01IDQuOTZ6bS0zOS41OC00OGEzLjQ2IDMuNDYgMCAwIDAgLTMuNDYgMy40NnYzOS41OGEzLjQ2IDMuNDYgMCAwIDAgMy40NiAzLjQ2aDM5LjU4YTMuNDYgMy40NiAwIDAgMCAzLjQ2LTMuNDZ2LTM5LjU4YTMuNDYgMy40NiAwIDAgMCAtMy40Ni0zLjQ2eiIgZmlsbD0iI2ZmZmZmZiIgZGF0YS1vcmlnaW5hbD0iIzAwMDAwMCIgc3R5bGU9IiIgY2xhc3M9IiI+PC9wYXRoPjwvZz48L3N2Zz4=\"\r\n    alt=\"\">\r\n  </a>\r\n  <a class=\"footer-item\">\r\n    <img (click)=\"goToProfile()\" class=\"imagen\"\r\n    src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbG5zOnN2Z2pzPSJodHRwOi8vc3ZnanMuY29tL3N2Z2pzIiB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgeD0iMCIgeT0iMCIgdmlld0JveD0iMCAwIDUwNS40IDUwNS40IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyIiB4bWw6c3BhY2U9InByZXNlcnZlIiBjbGFzcz0iIj48Zz4KPGcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KCTxnPgoJCTxwYXRoIGQ9Ik00MzcuMSwyMzMuNDVjMTQuOC0xMC40LDI0LjYtMjcuNywyNC42LTQ3LjJjMC0zMS45LTI1LjgtNTcuNy01Ny43LTU3LjdjLTMxLjksMC01Ny43LDI1LjgtNTcuNyw1Ny43ICAgIGMwLDE5LjUsOS43LDM2LjgsMjQuNiw0Ny4yYy0xMi43LDQuNC0yNC4zLDExLjItMzQuMSwyMGMtMTMuNS0xMS41LTI5LjQtMjAuMy00Ni44LTI1LjVjMjEuMS0xMi44LDM1LjMtMzYuMSwzNS4zLTYyLjYgICAgYzAtNDAuNC0zMi43LTczLjEtNzMuMS03My4xYy00MC40LDAtNzMuMSwzMi44LTczLjEsNzMuMWMwLDI2LjUsMTQuMSw0OS44LDM1LjMsNjIuNmMtMTcuMiw1LjItMzIuOSwxMy45LTQ2LjMsMjUuMiAgICBjLTkuOC04LjYtMjEuMi0xNS4zLTMzLjctMTkuNmMxNC44LTEwLjQsMjQuNi0yNy43LDI0LjYtNDcuMmMwLTMxLjktMjUuOC01Ny43LTU3LjctNTcuN3MtNTcuNywyNS44LTU3LjcsNTcuNyAgICBjMCwxOS41LDkuNywzNi44LDI0LjYsNDcuMkMyOC41LDI0Ny4yNSwwLDI4NC45NSwwLDMyOS4yNXY2LjZjMCwwLjIsMC4yLDAuNCwwLjQsMC40aDEyMi4zYy0wLjcsNS41LTEuMSwxMS4yLTEuMSwxNi45djYuOCAgICBjMCwyOS40LDIzLjgsNTMuMiw1My4yLDUzLjJoMTU1YzI5LjQsMCw1My4yLTIzLjgsNTMuMi01My4ydi02LjhjMC01LjctMC40LTExLjQtMS4xLTE2LjlINTA1YzAuMiwwLDAuNC0wLjIsMC40LTAuNHYtNi42ICAgIEM1MDUuMiwyODQuODUsNDc2LjgsMjQ3LjE1LDQzNy4xLDIzMy40NXogTTM2Mi4zLDE4Ni4xNWMwLTIzLDE4LjctNDEuNyw0MS43LTQxLjdzNDEuNywxOC43LDQxLjcsNDEuNyAgICBjMCwyMi43LTE4LjMsNDEuMi00MC45LDQxLjdjLTAuMywwLTAuNSwwLTAuOCwwcy0wLjUsMC0wLjgsMEMzODAuNSwyMjcuNDUsMzYyLjMsMjA4Ljk1LDM2Mi4zLDE4Ni4xNXogTTE5NC45LDE2NS4zNSAgICBjMC0zMS41LDI1LjYtNTcuMSw1Ny4xLTU3LjFzNTcuMSwyNS42LDU3LjEsNTcuMWMwLDMwLjQtMjMuOSw1NS4zLTUzLjgsNTdjLTEuMSwwLTIuMiwwLTMuMywwYy0xLjEsMC0yLjIsMC0zLjMsMCAgICBDMjE4LjgsMjIwLjY1LDE5NC45LDE5NS43NSwxOTQuOSwxNjUuMzV6IE01OS4zLDE4Ni4xNWMwLTIzLDE4LjctNDEuNyw0MS43LTQxLjdzNDEuNywxOC43LDQxLjcsNDEuN2MwLDIyLjctMTguMyw0MS4yLTQwLjksNDEuNyAgICBjLTAuMywwLTAuNSwwLTAuOCwwcy0wLjUsMC0wLjgsMEM3Ny42LDIyNy40NSw1OS4zLDIwOC45NSw1OS4zLDE4Ni4xNXogTTEyNS41LDMyMC4xNUgxNi4yYzQuNS00Mi42LDQwLjUtNzYsODQuMi03Ni4zICAgIGMwLjIsMCwwLjQsMCwwLjYsMHMwLjQsMCwwLjYsMGMyMC44LDAuMSwzOS44LDcuOCw1NC41LDIwLjNDMTQxLjcsMjc5Ljc1LDEzMSwyOTguOTUsMTI1LjUsMzIwLjE1eiBNMzY2LjgsMzU5Ljk1ICAgIGMwLDIwLjUtMTYuNywzNy4yLTM3LjIsMzcuMmgtMTU1Yy0yMC41LDAtMzcuMi0xNi43LTM3LjItMzcuMnYtNi44YzAtNjIuMSw0OS42LTExMi45LDExMS4zLTExNC43YzEuMSwwLjEsMi4zLDAuMSwzLjQsMC4xICAgIHMyLjMsMCwzLjQtMC4xYzYxLjcsMS44LDExMS4zLDUyLjYsMTExLjMsMTE0LjdWMzU5Ljk1eiBNMzc4LjcsMzIwLjE1Yy01LjUtMjEuMS0xNi00MC0zMC4zLTU1LjZjMTQuOC0xMi44LDM0LTIwLjUsNTUtMjAuNyAgICBjMC4yLDAsMC40LDAsMC42LDBzMC40LDAsMC42LDBjNDMuNywwLjMsNzkuNywzMy43LDg0LjIsNzYuM0gzNzguN3oiIGZpbGw9IiNmZmZmZmYiIGRhdGEtb3JpZ2luYWw9IiMwMDAwMDAiIHN0eWxlPSIiPjwvcGF0aD4KCTwvZz4KPC9nPgo8ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8L2c+CjxnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjwvZz4KPGcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPC9nPgo8ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8L2c+CjxnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjwvZz4KPGcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPC9nPgo8ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8L2c+CjxnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjwvZz4KPGcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPC9nPgo8ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8L2c+CjxnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjwvZz4KPGcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPC9nPgo8ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8L2c+CjxnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjwvZz4KPGcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPC9nPgo8L2c+PC9zdmc+\"\r\n    alt=\"\">\r\n  </a>\r\n  <a class=\"footer-item\">\r\n    <img (click)=\"goToProfile()\" class=\"imagen\"\r\n    src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbG5zOnN2Z2pzPSJodHRwOi8vc3ZnanMuY29tL3N2Z2pzIiB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgeD0iMCIgeT0iMCIgdmlld0JveD0iMCAwIDQ4MCA0ODAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUxMiA1MTIiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxnPgo8ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgoJPGc+CgkJPHBhdGggZD0iTTI0MCwwQzEwNy42NjQsMCwwLDEwNy42NjQsMCwyNDBjMCw1Ny45NiwyMC42NTYsMTExLjE4NCw1NC45OTIsMTUyLjcwNGMwLjA4OCwwLjEyLDAuMDk2LDAuMjcyLDAuMTkyLDAuMzg0ICAgIGMyNC43OTIsMjkuODk2LDU1LjkyOCw1Mi44MTYsOTAuNjI0LDY3LjYyNGMwLjQsMC4xNjgsMC43OTIsMC4zNTIsMS4xOTIsMC41MmMyLjgwOCwxLjE4NCw1LjY0OCwyLjI4LDguNDk2LDMuMzUyICAgIGMxLjEyLDAuNDI0LDIuMjQsMC44NTYsMy4zNzYsMS4yNjRjMi40NTYsMC44OCw0LjkyOCwxLjcxMiw3LjQxNiwyLjUxMmMxLjU5MiwwLjUxMiwzLjE4NCwxLjAxNiw0Ljc5MiwxLjQ5NiAgICBjMi4yLDAuNjU2LDQuNDA4LDEuMjg4LDYuNjMyLDEuODg4YzEuOTUyLDAuNTI4LDMuOTIsMS4wMTYsNS44ODgsMS40ODhjMS45OTIsMC40OCwzLjk5MiwwLjk2LDYsMS4zODQgICAgYzIuMjQsMC40OCw0LjUwNCwwLjkwNCw2Ljc3NiwxLjMyYzEuODI0LDAuMzM2LDMuNjQsMC42ODgsNS40OCwwLjk4NGMyLjUyLDAuNDA4LDUuMDU2LDAuNzI4LDcuNiwxLjA1NiAgICBjMS42NCwwLjIwOCwzLjI3MiwwLjQ0OCw0LjkyLDAuNjI0YzIuODgsMC4zMDQsNS43ODQsMC41Miw4LjY5NiwwLjcyYzEuMzUyLDAuMDk2LDIuNjk2LDAuMjQsNC4wNTYsMC4zMTIgICAgYzQuMjQ4LDAuMjQsOC41NDQsMC4zNjgsMTIuODcyLDAuMzY4czguNjI0LTAuMTI4LDEyLjg4OC0wLjM1MmMxLjM2LTAuMDcyLDIuNzA0LTAuMjE2LDQuMDU2LTAuMzEyICAgIGMyLjkxMi0wLjIwOCw1LjgxNi0wLjQxNiw4LjY5Ni0wLjcyYzEuNjQ4LTAuMTc2LDMuMjgtMC40MTYsNC45Mi0wLjYyNGMyLjU0NC0wLjMyOCw1LjA4LTAuNjQ4LDcuNi0xLjA1NiAgICBjMS44MzItMC4yOTYsMy42NTYtMC42NDgsNS40OC0wLjk4NGMyLjI2NC0wLjQxNiw0LjUyOC0wLjg0LDYuNzc2LTEuMzJjMi4wMDgtMC40MzIsNC0wLjkwNCw2LTEuMzg0ICAgIGMxLjk2OC0wLjQ4LDMuOTM2LTAuOTY4LDUuODg4LTEuNDg4YzIuMjI0LTAuNTkyLDQuNDMyLTEuMjMyLDYuNjMyLTEuODg4YzEuNjA4LTAuNDgsMy4yLTAuOTg0LDQuNzkyLTEuNDk2ICAgIGMyLjQ4OC0wLjgsNC45Ni0xLjYzMiw3LjQxNi0yLjUxMmMxLjEyOC0wLjQwOCwyLjI0OC0wLjg0LDMuMzc2LTEuMjY0YzIuODU2LTEuMDcyLDUuNjg4LTIuMTc2LDguNDk2LTMuMzUyICAgIGMwLjQtMC4xNjgsMC43OTItMC4zNTIsMS4xOTItMC41MmMzNC42ODgtMTQuODA4LDY1LjgzMi0zNy43MjgsOTAuNjI0LTY3LjYyNGMwLjA5Ni0wLjExMiwwLjEwNC0wLjI3MiwwLjE5Mi0wLjM4NCAgICBDNDU5LjM0NCwzNTEuMTg0LDQ4MCwyOTcuOTYsNDgwLDI0MEM0ODAsMTA3LjY2NCwzNzIuMzM2LDAsMjQwLDB6IE0zMzcuMjU2LDQ0MS43NmMtMC4xMiwwLjA1Ni0wLjIzMiwwLjEyLTAuMzUyLDAuMTc2ICAgIGMtMi44NTYsMS4zNzYtNS43NiwyLjY3Mi04LjY4OCwzLjkzNmMtMC42NjQsMC4yOC0xLjMyLDAuNTY4LTEuOTg0LDAuODQ4Yy0yLjU2LDEuMDcyLTUuMTUyLDIuMDg4LTcuNzYsMy4wNjQgICAgYy0xLjA4OCwwLjQwOC0yLjE3NiwwLjgwOC0zLjI3MiwxLjE5MmMtMi4zMTIsMC44MjQtNC42MzIsMS42MTYtNi45NzYsMi4zNjhjLTEuNDU2LDAuNDY0LTIuOTIsMC45MDQtNC4zODQsMS4zMzYgICAgYy0yLjA4LDAuNjI0LTQuMTY4LDEuMjI0LTYuMjgsMS43ODRjLTEuNzc2LDAuNDcyLTMuNTY4LDAuOTA0LTUuMzYsMS4zMjhjLTEuODgsMC40NDgtMy43NTIsMC45MDQtNS42NDgsMS4zMDQgICAgYy0yLjA3MiwwLjQ0LTQuMTYsMC44MTYtNi4yNCwxLjE5MmMtMS42ODgsMC4zMTItMy4zNjgsMC42NC01LjA3MiwwLjkxMmMtMi4zNDQsMC4zNjgtNC43MTIsMC42NjQtNy4wNzIsMC45NiAgICBjLTEuNDk2LDAuMTkyLTIuOTg0LDAuNDE2LTQuNDk2LDAuNTc2Yy0yLjY5NiwwLjI4OC01LjQxNiwwLjQ3Mi04LjEyOCwwLjY2NGMtMS4yMDgsMC4wOC0yLjQwOCwwLjIxNi0zLjYzMiwwLjI4ICAgIGMtMy45NiwwLjIwOC03LjkyOCwwLjMyLTExLjkxMiwwLjMycy03Ljk1Mi0wLjExMi0xMS45MDQtMC4zMmMtMS4yMTYtMC4wNjQtMi40MTYtMC4xOTItMy42MzItMC4yOCAgICBjLTIuNzItMC4xODQtNS40MzItMC4zNzYtOC4xMjgtMC42NjRjLTEuNTEyLTAuMTYtMy0wLjM4NC00LjQ5Ni0wLjU3NmMtMi4zNi0wLjI5Ni00LjcyOC0wLjU5Mi03LjA3Mi0wLjk2ICAgIGMtMS43MDQtMC4yNzItMy4zODQtMC42LTUuMDcyLTAuOTEyYy0yLjA4OC0wLjM3Ni00LjE3Ni0wLjc2LTYuMjQtMS4xOTJjLTEuODk2LTAuNC0zLjc3Ni0wLjg1Ni01LjY0OC0xLjMwNCAgICBjLTEuNzkyLTAuNDMyLTMuNTg0LTAuODU2LTUuMzYtMS4zMjhjLTIuMTA0LTAuNTYtNC4yLTEuMTY4LTYuMjgtMS43ODRjLTEuNDY0LTAuNDMyLTIuOTI4LTAuODcyLTQuMzg0LTEuMzM2ICAgIGMtMi4zNDQtMC43NTItNC42NzItMS41NDQtNi45NzYtMi4zNjhjLTEuMDk2LTAuMzkyLTIuMTg0LTAuNzkyLTMuMjcyLTEuMTkyYy0yLjYwOC0wLjk3Ni01LjItMS45OTItNy43Ni0zLjA2NCAgICBjLTAuNjY0LTAuMjcyLTEuMzEyLTAuNTYtMS45NzYtMC44NGMtMi45MjgtMS4yNTYtNS44MzItMi41Ni04LjY5Ni0zLjkzNmMtMC4xMi0wLjA1Ni0wLjIzMi0wLjExMi0wLjM1Mi0wLjE3NiAgICBjLTI3LjkxMi0xMy41MDQtNTIuNTY4LTMyLjY3Mi03Mi41NzYtNTUuOTUyYzE1LjQ2NC01Ni45NDQsNTkuMjQtMTAyLjg0OCwxMTUuNTYtMTIxLjExMmMxLjExMiwwLjY4LDIuMjcyLDEuMjg4LDMuNDE2LDEuOTI4ICAgIGMwLjY3MiwwLjM3NiwxLjMzNiwwLjc3NiwyLjAxNiwxLjEzNmMyLjM4NCwxLjI2NCw0LjgsMi40NDgsNy4yNzIsMy41MTJjMS44OTYsMC44MzIsMy44NTYsMS41MzYsNS44MDgsMi4yNTYgICAgYzAuMzg0LDAuMTM2LDAuNzY4LDAuMjg4LDEuMTUyLDAuNDI0YzEwLjg0OCwzLjg0LDIyLjQ1Niw2LjA0LDM0LjYsNi4wNHMyMy43NTItMi4yLDM0LjU5Mi02LjA0ICAgIGMwLjM4NC0wLjEzNiwwLjc2OC0wLjI4OCwxLjE1Mi0wLjQyNGMxLjk1Mi0wLjcyLDMuOTEyLTEuNDI0LDUuODA4LTIuMjU2YzIuNDcyLTEuMDY0LDQuODg4LTIuMjQ4LDcuMjcyLTMuNTEyICAgIGMwLjY4LTAuMzY4LDEuMzQ0LTAuNzYsMi4wMTYtMS4xMzZjMS4xNDQtMC42NCwyLjMxMi0xLjI0OCwzLjQzMi0xLjkzNmM1Ni4zMiwxOC4yNzIsMTAwLjA4OCw2NC4xNzYsMTE1LjU2LDEyMS4xMTIgICAgQzM4OS44MjQsNDA5LjA4LDM2NS4xNjgsNDI4LjI0OCwzMzcuMjU2LDQ0MS43NnogTTE1MiwxNzZjMC00OC41MiwzOS40OC04OCw4OC04OHM4OCwzOS40OCw4OCw4OCAgICBjMCwzMC44NjQtMTYuMDA4LDU4LjAyNC00MC4xMjgsNzMuNzM2Yy0zLjE1MiwyLjA0OC02LjQzMiwzLjg4LTkuOCw1LjQ4Yy0wLjQsMC4xOTItMC43OTIsMC4zOTItMS4xOTIsMC41NzYgICAgYy0yMy4xNjgsMTAuNTM2LTUwLjU5MiwxMC41MzYtNzMuNzYsMGMtMC40LTAuMTg0LTAuOC0wLjM4NC0xLjE5Mi0wLjU3NmMtMy4zNzYtMS42LTYuNjQ4LTMuNDMyLTkuOC01LjQ4ICAgIEMxNjguMDA4LDIzNC4wMjQsMTUyLDIwNi44NjQsMTUyLDE3NnogTTQyMS44MzIsMzcwLjU4NGMtMTguMTM2LTUzLjU1Mi01OS41MTItOTYuODMyLTExMi4zNzYtMTE3LjM5MiAgICBDMzMwLjYsMjM0LjE0NCwzNDQsMjA2LjY0LDM0NCwxNzZjMC01Ny4zNDQtNDYuNjU2LTEwNC0xMDQtMTA0cy0xMDQsNDYuNjU2LTEwNCwxMDRjMCwzMC42NCwxMy40LDU4LjE0NCwzNC41NTIsNzcuMTkyICAgIGMtNTIuODY0LDIwLjU2OC05NC4yNCw2My44NC0xMTIuMzc2LDExNy4zOTJDMzEuNjcyLDMzMy43OTIsMTYsMjg4LjcwNCwxNiwyNDBDMTYsMTE2LjQ4OCwxMTYuNDg4LDE2LDI0MCwxNnMyMjQsMTAwLjQ4OCwyMjQsMjI0ICAgIEM0NjQsMjg4LjcwNCw0NDguMzI4LDMzMy43OTIsNDIxLjgzMiwzNzAuNTg0eiIgZmlsbD0iI2ZmZmZmZiIgZGF0YS1vcmlnaW5hbD0iIzAwMDAwMCIgc3R5bGU9IiI+PC9wYXRoPgoJPC9nPgo8L2c+CjxnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjwvZz4KPGcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPC9nPgo8ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8L2c+CjxnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjwvZz4KPGcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPC9nPgo8ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8L2c+CjxnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjwvZz4KPGcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPC9nPgo8ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8L2c+CjxnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjwvZz4KPGcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPC9nPgo8ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8L2c+CjxnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjwvZz4KPGcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPC9nPgo8ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8L2c+CjwvZz48L3N2Zz4=\"\r\n    alt=\"\"> -->","import { Injectable } from '@angular/core';\r\nimport { AngularFireDatabase, AngularFireList } from '@angular/fire/database';\r\nimport { Group } from '../models/group';\r\nimport { User } from '../models/user';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class UserService {\r\n\r\n  registerList: AngularFireList<any>;\r\n  groupsList: AngularFireList<any>;\r\n  private collection: string;\r\n  private subCollectionPhone: string;\r\n\r\n  constructor(private firebase: AngularFireDatabase) { \r\n    this.collection= 'register';\r\n    this.subCollectionPhone= \"telefono\";\r\n  }\r\n\r\n  async getUserImg(email:string){\r\n    let image = \"\"\r\n    await this.firebase.database.ref(this.collection).orderByChild('email').equalTo(email).limitToLast(1).once(\"value\", (user) =>{\r\n    user = user.val()\r\n    let Images = user[Object.keys(user)[0]].Images;\r\n    let keys = Object.keys(Images)\r\n    image = Images[keys[keys.length -1]].ImgUrl;  \r\n    } )\r\n    return image\r\n  }\r\n\r\n  getRegister(){\r\n     this.registerList = this.firebase.list(this.collection);\r\n     \r\n    return this.registerList;\r\n  }\r\n\r\n  getGroups(){\r\n    this.groupsList = this.firebase.list('groups');\r\n     \r\n    return this.groupsList;\r\n  }\r\n\r\n  public findById(email: string) {\r\n    \r\n    const ref = this.firebase.database.ref(this.collection);\r\n  \r\n    return ref.orderByChild('email').equalTo(email).limitToLast(1);\r\n  }\r\n\r\n  public findByPhone(numero: string) {\r\n    const ref = this.firebase.database.ref(this.collection);\r\n    \r\n    return ref.orderByChild(this.subCollectionPhone+'/e164Number').equalTo('+57'+numero).limitToLast(1);\r\n  }\r\n\r\n\r\n  deleteFriends(tagkey: string,$key: string)\r\n  {\r\n    console.log(\"delete $key\");\r\n    console.log(tagkey);\r\n    this.firebase.database.ref(this.collection).child($key).child(\"Amigos\").child(tagkey).remove();\r\n  }\r\n\r\n  deleteGroups(tagkey: string,$key: string)\r\n  {\r\n    console.log(\"delete $key\");\r\n    console.log(tagkey);\r\n    this.firebase.database.ref(\"groups\").child($key).child(\"integrants\").child(tagkey).remove();\r\n  }\r\n\r\n  updateDescripcionGroup($key: string,value: string){\r\n    this.firebase.database.ref(\"groups\").child($key).child(\"description\").set(value);\r\n  }\r\n\r\n  updateUsername(user: User)\r\n  {\r\n    console.log(\"user.$key\");\r\n    console.log(user.$key);\r\n    // this.registerList.update(register.$key, {\r\n    //   name: register.name,\r\n    // });\r\n  }\r\n\r\n  insertRegister(user: User){\r\n\r\n    // this.firebase.object(this.collection).set({...user});\r\n\r\n    this.firebase.list('register').push({\r\n      email: user.email,\r\n      telefono: user.telefono,\r\n      password: user.password,\r\n      name: user.name,\r\n      lname: user.lname\r\n    });\r\n\r\n  }\r\n\r\n  createGroup(group: Group){\r\n    this.firebase.list('groups').push({\r\n      owner: group.owner,\r\n      name: group.name,\r\n      description: group.description,\r\n      privacity: group.privacity,\r\n      tags: group.tags,\r\n    });\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { MessageI } from '../models/MessageI';\r\nimport { pageChange } from 'src/app/models/pageChange';\r\nimport { io } from \"socket.io-client\";\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\n\r\nexport class ChatService {\r\n\r\n  socket: any;\r\n\r\n  constructor() { }\r\n\r\n  connect() {\r\n    return new Observable(observer => {\r\n      // this.socket = io('http://192.168.0.23:3000');\r\n      this.socket = io('https://c6e7-186-170-64-187.ngrok.io',{ transports: ['websocket'] }); \r\n      //AQUI CAMBIO LA IP V4\r\n      this.socket.on('connect', () => {\r\n        this.socket.emit(\"connected\");\r\n        observer.next();\r\n      })\r\n    })\r\n  }\r\n\r\n  getNewMsgs() {\r\n    return new Observable(observer => {\r\n      this.socket.on(\"newMsg\", msg => {\r\n        observer.next(msg);\r\n      });\r\n    });\r\n  }\r\n  getChangePage() {\r\n    return new Observable(observer => {\r\n      this.socket.on(\"pageChange\", info => {\r\n        observer.next(info);\r\n      });\r\n    });\r\n  }\r\n\r\n  sendMsg(msg: MessageI) {\r\n    console.log(msg)\r\n    this.socket.emit('newMsg', msg);\r\n  }\r\n  sendpageChange(info: pageChange){\r\n    console.log(\"Service\",info)\r\n    this.socket.emit(\"pageChange\",info)\r\n  }\r\n\r\n  disconnect() {\r\n    this.socket.disconnect();\r\n  }\r\n\r\n}","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'filterExternalProfiles'\r\n})\r\nexport class FilterExternalProfilesPipe implements PipeTransform {\r\n\r\n  transform(value: any, args: any): any {\r\n    if (args === '') {\r\n      return value;\r\n    }\r\n    const resultSearchBox = [];\r\n    for (const post of value) {\r\n      if (post.name.toLowerCase().indexOf(args.toLowerCase()) > -1){\r\n        resultSearchBox.push(post);\r\n      }      \r\n    }\r\n    return resultSearchBox;\r\n  }\r\n\r\n}\r\n","import { ProfileComponent } from './pages/private/profile/profile.component';\r\nimport { Component, NgModule } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { HomeComponent } from './pages/private/home/home.component';\r\n// import { HomeModule } from './pages/private/home/home.module';\r\nimport { LoginComponent } from './pages/public/login/login.component';\r\nimport { RegisterComponent } from './pages/public/register/register.component';\r\nimport { AuthGuard } from './shared/guards/auth.guard';\r\nimport { AngularFireAuthGuard, redirectLoggedInTo, redirectUnauthorizedTo } from '@angular/fire/auth-guard';\r\nimport { TagsComponent } from './pages/public/tags/tags.component';\r\nimport { ExternalProfilesComponent } from './pages/private/external-profiles/external-profiles.component';\r\nimport { GroupComponent } from './pages/private/group/group.component';\r\nimport { BookPDFComponent } from './pages/private/book-pdf/book-pdf.component';\r\nimport { MyBooksComponent } from './pages/private/my-books/my-books.component';\r\n\r\nconst redirectUnauthorizedToLogin = () => redirectUnauthorizedTo(['login']);\r\nconst redirectAuthorizedToHome = () => redirectLoggedInTo(['home']);\r\n\r\nconst routes: Routes = [\r\n  { path: 'home', component: HomeComponent, canActivate: [AngularFireAuthGuard], data: { authGuardPipe: redirectUnauthorizedToLogin } },\r\n  { path: 'login', component: LoginComponent, canActivate: [AngularFireAuthGuard], data: { authGuardPipe: redirectAuthorizedToHome } },\r\n  { path: 'register', component: RegisterComponent },\r\n  { path: 'profile', component: ProfileComponent },\r\n  { path: 'profile/**', component: ProfileComponent },\r\n  { path: 'tags', component: TagsComponent },\r\n  { path: 'externalProfiles', component: ExternalProfilesComponent },\r\n  { path: 'groups', component: GroupComponent},\r\n  { path: 'book', component: BookPDFComponent},\r\n  { path: 'mybooks', component: MyBooksComponent},\r\n  { path: '**', redirectTo: '/login' },\r\n\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    RouterModule.forRoot(routes),\r\n  ],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { MessageI } from 'src/app/models/MessageI';\r\n\r\n@Component({\r\n  selector: 'app-book-chat',\r\n  templateUrl: './book-chat.component.html',\r\n  styleUrls: ['./book-chat.component.scss']\r\n})\r\nexport class BookChatComponent implements OnInit {\r\n  @Input() msg: MessageI\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<div class=\"mensaje\">\r\n    <img class=\"img\" [src]='msg.user' alt=\"\">\r\n    <div class=\"text\">{{msg.content}}</div>\r\n</div>\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n ","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"]}